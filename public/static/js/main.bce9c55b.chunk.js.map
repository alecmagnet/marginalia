{"version":3,"sources":["features/users/userSlice.js","features/users/showUserSlice.js","features/homepage/Navbar.js","img/logoWhite.png","features/homepage/Signup.js","features/litTexts/litTextsSlice.js","features/users/allUsersSlice.js","features/comments/commentsSlice.js","features/homepage/Login.js","features/shared/TotalCommentsAndReplies.js","features/litTexts/LitTextListShow.js","features/litTexts/litTextNewForm/LastName.js","features/litTexts/litTextNewForm/LitTextNewForm.js","features/litTexts/dropdowns/OrderDropdown.js","features/litTexts/dropdowns/FilterDropdown.js","features/litTexts/LitTextsContainer.js","features/comments/ToggleGroup.js","features/comments/CommentNewForm.js","features/shared/TimeAgo.js","features/shared/TimeAgoContainer.js","features/comments/CommentEditForm.js","features/comments/CommentType.js","features/comments/ComRepShow.js","features/comments/RepliesList.js","features/comments/CommentShow.js","features/comments/ComTypeDropdown.js","features/comments/CommentsList.js","features/litTexts/showTextSlice.js","features/litTexts/LitTextShow.js","features/users/UserListShow.js","features/users/UsersContainer.js","features/users/UserEditForm.js","features/users/UserTextComPreview.js","features/users/UserTextShow.js","features/users/UserShow.js","features/homepage/HpButtons.js","features/homepage/Homepage.js","features/homepage/AboutPage.js","App.js","reportWebVitals.js","store.js","index.js"],"names":["authorize","createAsyncThunk","a","fetch","response","json","data","loginUser","formData","method","headers","body","JSON","stringify","logoutUser","signupUser","console","log","userSlice","createSlice","name","initialState","entities","status","errors","reducers","addLoginUser","state","action","splice","payload","addSignupUser","updateCurrentUser","extraReducers","builder","addCase","pending","fulfilled","rejected","push","error","message","actions","fetchUserById","id","showUserSlice","updateShowUser","Navbar","useState","anchorEl","setAnchorEl","isMenuOpen","Boolean","dispatch","useDispatch","history","useHistory","userState","useSelector","user","length","fullName","fullname","imageUrl","image","handleProfileMenuOpen","event","currentTarget","handleMenuClose","handleLoginClick","handleNameClick","menuId","renderMenu","Menu","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","open","onClose","MenuItem","onClick","Box","sx","flexGrow","AppBar","position","Toolbar","Tooltip","title","arrow","src","alt","style","height","paddingRight","paddingBottom","cursor","Typography","variant","noWrap","component","display","xs","sm","fontFamily","IconButton","color","fontSize","px","mb","edge","pl","Avatar","width","ml","Signup","username","first_name","last_name","fam_name_first","password","bio","usertype","setFormData","setErrors","handleChange","e","target","value","handleFamNameFirstClick","nameField","label","firstLast","includes","nameValue","TextField","onChange","autoComplete","required","backgroundColor","compareArrow","Grid","item","Container","maxWidth","marginTop","flexDirection","alignItems","m","bgcolor","size","onSubmit","preventDefault","then","r","mt","map","textAlign","fullWidth","autoFocus","container","mr","type","Button","justifyContent","textDecoration","fetchLitTexts","postLitText","ok","Promise","reject","Error","patchLitText","litTextsSlice","addCommentToLitText","index","findIndex","text","parseInt","lit_text_id","comments","fetchAllUsers","allUsersSlice","updateUser","addCommentToUser","user_id","fetchComments","postComment","patchComment","destroyComment","commentsSlice","com","newArr","filter","Login","noValidate","margin","TotalCommentsAndReplies","Id","source","stateComments","undeletedComments","c","deleted","filteredComments","totalComments","parent_comment_id","showTotalComments","totalReplies","showTotalReplies","LitTextListShow","litText","author_name","pubdate","content","prose","translator","parsedContent","replace","showContent","slice","isProse","Paper","elevation","p","Math","abs","marginLeft","marginRight","Card","pt","my","mx","gutterBottom","LastName","famNameFirst","handleFormChange","firstName","lastName","isAuthor","nameLabel","nameType","toLowerCase","CustomWidthTooltip","useMemo","styled","className","props","classes","popper","tooltipClasses","tooltip","href","rel","LitTextNewForm","handleLitTextsOrder","handleNewClick","handlePoetryProseValue","isEdit","reRender","storyOrPoem","setStoryOrPoem","ceOrBce","setCeOrBce","quillData","setQuillData","notNum","setNotNum","setFamNameFirst","uploader_id","edit_user_id","useEffect","handleProseBoolean","b","test","justNum","cleanValue","displayYear","prev","pr","ToggleButtonGroup","exclusive","absolute","handleCeOrBceBoolean","ToggleButton","theme","placeholder","formats","modules","toolbar","wrap","textColor","fontVariant","displayDate","pb","parsedData","parse","parseQuillData","disabled","OrderDropdown","litTextsOrder","handleReverseClick","FormControl","minWidth","InputLabel","Select","labelId","valueArr","border","borderLeft","borderRadius","borderTopLeftRadius","borderBottomLeftRadius","transform","FilterDropdown","poetryProseValue","val","LitTextsContainer","litTexts","litTextsArr","initialUnclicked","filteredLitTexts","setFilteredLitTexts","newClicked","setNewClicked","isReversed","setIsReversed","setLitTextsOrder","setPoetryProseValue","authorAZ","texts","sort","localeCompare","titleAZ","byPubdate","recentlyAdded","Date","created_at","newestComment","sorted","recentlyCommented","align","justify","fontWeight","marginBottom","keyword","results","lt","author","toString","handleSearch","fontColor","filtArr","rawArr","formArr","filterRawArr","arrTwo","reverse","renderLitTexts","ToggleGroup","comTypes","handleComTypes","isParentQuestion","op","CommentNewForm","litTextId","parentCommentId","replyButtonClick","com_type_ids","setError","addNewWhat","md","newComTypes","prevState","visibility","TextareaAutosize","minRows","TimeAgo","time","timeNow","getTime","timeThen","timeDiff","timeDisplayMins","timeDisplayHours","timeDisplayDays","timeDisplayWeeks","timeDisplayMonths","timeDisplayYears","TimeAgoContainer","updated_at","isDeleted","fromLitTextShow","uploader","handleUploaderClick","secondTerm","CommentEditForm","comment","editButtonClick","com_types","parentState","find","CommentType","padding","top","right","paddingLeft","charAt","ComRepShow","editClicked","setEditClicked","replyClicked","setReplyClicked","deleteClicked","setDeleteClicked","userId","showComment","deletedComment","renderComment","comTypeIds","handleDeleteClick","popperId","undefined","handleDelete","replies","changeCom","userClicked","ghost","role","DeleteTooltip","spacing","bottom","Popper","placement","modifiers","enabled","options","altAxis","altBoundary","tether","rootBoundary","transition","TransitionProps","Fade","timeout","borderColor","wrapSetErrors","RepliesList","renderReplies","Divider","paddingTop","CommentShow","unDeletedArr","commentState","ComTypeDropdown","handleComType","multiple","CommentsList","setComTypes","showTextComments","oldestFirst","isComIncluded","newCommentHash","columns","inc","el","incAll4","incAny","smooth","to","arr","includeReplies","reply","renderComments","fetchLitTextById","showTextSlice","showTextPostComment","LitTextShow","forceRender","setForceRender","params","useParams","location","useLocation","onRender","useCallback","hash","pathname","litTextState","showText","handleEditClick","commentsHash","editor","edit_user","UserListShow","showUser","firstSixty","UsersContainer","allUsers","otherUsers","u","toSort","sortArr","dateTimeA","newest","allUserOrder","setAllUserOrder","filteredUsers","setFilteredUsers","newOrder","users","recentlyJoined","renderUsers","UserEditForm","onUpdateUser","catch","UserTextComPreview","UserTextShow","litTextsState","t","UserShow","displayToggledOption","setDisplayToggledOption","showUserStatus","toggleOptionsArr","makeToggleButton","option","indexOf","showUserLitTexts","goCommentClick","deleteUser","msec","splitDate","toDateString","split","renderDate","undeleted","litTextIds","Set","goDoWhatLink","what","hasNotWhatYet","showWhat","lengthArr","doneWhat","newOption","ImageButton","ButtonBase","breakpoints","down","zIndex","opacity","ImageSrc","left","backgroundSize","backgroundPosition","Image","palette","common","white","ImageBackdrop","black","transitions","create","ImageMarked","HpButtons","images","handleImgButtonClick","flexWrap","focusRipple","backgroundImage","url","Homepage","setComments","setLitTexts","comsOrTexts","setComsOrTexts","imgBtnTitles","comLitText","lit_text_title","lit_text_author","lit_text_date","lit_text_preview","lit_text_prose","lit_text_translator","user_fullname","user_image","AboutPage","buttons","Stack","direction","itemHash","replaceAll","userStoryItems","linkList","whatIsMargArr","whatCanUserArr","howWasItMadeArr","whoMadeItArr","contentGrafs","key","itemLi","itemElement","float","App","commentsState","onAuth","res","createTheme","primary","main","secondary","ThemeProvider","exact","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","store","configureStore","reducer","litTextsReducer","showTextReducer","allUsersReducer","showUserReducer","commentsReducer","userReducer","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.bce9c55b.chunk.js","sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\n\nexport const authorize = createAsyncThunk(\n\t\"user/authorize\",\n\tasync () => {\n\t\tconst response = await fetch(\"/api/auth\")\n\t\tconst data = await response.json()\n    return data\n\t}\n)\n\nexport const loginUser = createAsyncThunk(\n\t\"user/loginUser\",\n\tasync (formData) => {\n\t\tconst response = await fetch(\"/api/login\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify(formData),\n\t\t})\n\t\t// const data = await response.json()\n\t\t// console.log(\"loginUser:\", data)\n    return response.data\n\t}\t\n)\n\nexport const logoutUser = createAsyncThunk(\n\t\"user/logoutUser\", \n\tasync () => {\n\t\tfetch(\"/api/logout\", {\n      method: \"DELETE\",\n    })\n\t}\n)\n\nexport const signupUser = createAsyncThunk(\n\t\"user/signupUser\",\n\tasync (formData) => {\n\t\tconst response = await fetch(\"/api/signup\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify(formData),\n\t\t})\n\t\tconst data = await response.json()\n\t\tconsole.log(\"signupUser:\", data)\n    return data\n\t})\n\nconst initialState = {\n\tentities: [],\n\tstatus: \"idle\",\n\terrors: [],\n}\t\n\nconst userSlice = createSlice({\n\tname: \"user\",\n\tinitialState,\n\treducers: {\n\t\taddLoginUser(state, action) {\n\t\t\tstate.entities.splice(0, 1, action.payload)\n\t\t\tstate.errors = []\n\t\t\tstate.status = \"idle\"\n\t\t},\n\t\taddSignupUser(state, action) {\n\t\t\tstate.entities.splice(0, 1, action.payload)\n\t\t\tstate.errors = []\n\t\t\tstate.status = \"idle\"\n\t\t},\n\t\tupdateCurrentUser(state, action) {\n\t\t\tstate.entities.splice(0, 1, action.payload)\n\t\t\tstate.errors = []\n\t\t\tstate.status = \"idle\"\n\t\t},\n\t},\n\textraReducers: (builder) => {\n\t\tbuilder\n\t\t\t.addCase(authorize.pending, (state) => {\n\t\t\t\tstate.status = \"loading\"\n\t\t\t})\n\t\t\t.addCase(authorize.fulfilled, (state, action) => {\n\t\t\t\tstate.entities.splice(0, 1, action.payload)\n\t\t\t\tstate.errors = []\n\t\t\t\tstate.status = \"idle\"\n\t\t\t})\n\t\t\t.addCase(authorize.rejected, (state, action) => {\n\t\t\t\tstate.errors.push(action.error)\n\t\t\t\tstate.status = \"error\"\n\t\t\t})\n\t\t\t.addCase(loginUser.pending, (state) => {\n\t\t\t\tstate.status = \"loading\"\n\t\t\t})\n\t\t\t.addCase(loginUser.fulfilled, (state, action) => {\n\t\t\t\tstate.entities.splice(0, 1, action.payload)\n\t\t\t\tstate.errors = []\n\t\t\t\tstate.status = \"idle\"\n\t\t\t\tconsole.log(\"loginUser FULFILLED\")\n\t\t\t})\n\t\t\t.addCase(loginUser.rejected, (state, action) => {\n\t\t\t\tstate.errors = action.error.message\n\t\t\t\tstate.entities = []\n\t\t\t\tstate.status = \"error\"\n\t\t\t})\n\t\t\t.addCase(logoutUser.pending, (state) => {\n\t\t\t\tstate.status = \"loading\"\n\t\t\t})\n\t\t\t.addCase(logoutUser.fulfilled, (state, action) => {\n\t\t\t\tstate.entities = []\n\t\t\t\tstate.errors = []\n\t\t\t\tstate.status = \"idle\"\n\t\t\t})\n\t\t\t.addCase(logoutUser.rejected, (state, action) => {\n\t\t\t\tstate.errors = action.error\n\t\t\t\tstate.status = \"error\"\n\t\t\t})\n\t\t\t.addCase(signupUser.pending, (state) => {\n\t\t\t\tstate.status = \"loading\"\n\t\t\t})\n\t\t\t.addCase(signupUser.fulfilled, (state, action) => {\n\t\t\t\tstate.entities = action.payload\n\t\t\t\tstate.status = \"idle\"\n\t\t\t})\n\t\t\t.addCase(signupUser.rejected, (state, action) => {\n\t\t\t\tstate.errors = action.error\n\t\t\t\tstate.status = \"error\"\n\t\t\t})\n\t},\n})\n\nexport const { addLoginUser, addSignupUser, updateCurrentUser } = userSlice.actions\nexport default userSlice.reducer","import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\n\nexport const fetchUserById = createAsyncThunk(\n\t\"litTexts/fetchLitTextById\", \n\tasync (id) => {\n\t\tconst response = await fetch(`/api/users/${id}`)\n\t\tconst data = await response.json()\n    return data\n\t})\n\nconst showUserSlice = createSlice({\n\tname: \"showText\",\n\tinitialState: {\n\t\tentities: [],\n\t\tstatus: \"idle\",\n\t\terrors: null,\n\t},\n\treducers: {\n\t\tupdateShowUser(state, action) {\n\t\t\tstate.entities = action.payload\n\t\t\tstate.status = \"idle\"\n\t\t},\t\t\n\t},\n\textraReducers: (builder) => {\n\t\tbuilder\n\t\t\t.addCase(fetchUserById.pending, (state) => {\n\t\t\t\tstate.status = \"loading\"\n\t\t\t})\n\t\t\t.addCase(fetchUserById.fulfilled, (state, action) => {\n\t\t\t\tstate.entities = action.payload\n\t\t\t\tstate.status = \"idle\"\n\t\t\t})\n\t\t\t.addCase(fetchUserById.rejected, (state, action) => {\n\t\t\t\tstate.errors = action.payload.errors\n\t\t\t\tstate.status = \"error\"\n\t\t\t})\n\t},\n})\n\nexport const { updateShowUser } = showUserSlice.actions\nexport default showUserSlice.reducer","import { useState } from \"react\"\nimport { useHistory } from 'react-router-dom'\nimport { useDispatch, useSelector } from 'react-redux';\nimport { logoutUser } from '../users/userSlice'\nimport { fetchUserById } from '../users/showUserSlice'\nimport logoWhite from '../../img/logoWhite.png' \nimport AppBar from '@mui/material/AppBar';\nimport Box from '@mui/material/Box';\nimport Toolbar from '@mui/material/Toolbar';\nimport IconButton from '@mui/material/IconButton';\nimport Typography from '@mui/material/Typography';\nimport MenuItem from '@mui/material/MenuItem';\nimport Menu from '@mui/material/Menu';\nimport Tooltip from '@mui/material/Tooltip';\nimport { Avatar } from \"@mui/material\";\nimport MenuBookIcon from '@mui/icons-material/MenuBook';\nimport PeopleIcon from '@mui/icons-material/People';\nimport AccountCircle from '@mui/icons-material/AccountCircle';\nimport InfoIcon from '@mui/icons-material/Info';\n\n\nexport default function Navbar() {\n  const [anchorEl, setAnchorEl] = useState(null)\n  const isMenuOpen = Boolean(anchorEl);\n\n\tconst dispatch = useDispatch()\n  const history = useHistory()\n\n\tconst userState = useSelector((state) => state.user)\n  const user = userState.entities.length > 0 && userState.errors.length === 0 ? userState.entities[0] : null\n\tconst fullName = userState.entities.length > 0 && userState.errors.length === 0 ? user.fullname : null\n\tconst imageUrl = userState.entities.length > 0 && userState.errors.length === 0 ? user.image : null\n\n  const handleProfileMenuOpen = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n\tconst handleMenuClose = () => {\n    setAnchorEl(null);\n  };\n\n\tconst handleProfileClick = () => {\n\t\thandleMenuClose()\n\t\tdispatch(fetchUserById(user.id))\n\t\thistory.push(`/users/${user.id}`)\n\t}\n\n\tconst handleLoginClick = () => {\n\t\thandleMenuClose()\n    history.push('/login')\n\t}\n\n\tconst handleSignupClick = () => {\n\t\thandleMenuClose()\n    history.push('/signup')\n\t}\n\n  const handleLogout = () => {\n    dispatch(logoutUser())\n\t\thandleLoginClick()\n\t}\n\n\tconst handleTextsClick = () => {\n\t\tuserState.entities.length === 0 ?\n    history.push('/login') :\n\t\thistory.push('/texts') \n\t}\n\n\tconst handleUsersClick = () => {\n\t\tuserState.entities.length === 0 ?\n    history.push('/login') :\n\t\thistory.push('/users')\n\t}\n\n\tconst handleAboutClick = () => {\n\t\thistory.push('/about')\n\t}\n\n\tconst handleNameClick = () => {\n\t\thistory.push('/')\n\t}\n\n  const menuId = 'primary-search-account-menu';\n  const renderMenu = (\n    <Menu\n      anchorEl={anchorEl}\n      anchorOrigin={{\n        vertical: 'top',\n        horizontal: 'right',\n      }}\n      id={menuId}\n      keepMounted\n      transformOrigin={{\n        vertical: 'top',\n        horizontal: 'right',\n      }}\n      open={isMenuOpen}\n      onClose={handleMenuClose}\n    >\n\t\t\t{userState.entities.length > 0 ?\n\t\t\t\t<MenuItem onClick={handleProfileClick}>Profile</MenuItem>\n\t\t\t\t: <MenuItem onClick={handleLoginClick}>Log in</MenuItem> }\n\t\t\t{userState.entities.length > 0 ?\n\t\t\t\t<MenuItem onClick={handleLogout}>Logout</MenuItem>\n\t\t\t\t: <MenuItem onClick={handleSignupClick}>Sign up</MenuItem>}\n    </Menu>\n  );\n\n\n\n\treturn (\n\t\t<Box sx={{ flexGrow: 1 }}>\n\t\t\t<AppBar position=\"static\" >\n\t\t\t\t<Toolbar>\n          <Tooltip title=\"Home\" arrow>\n\t\t\t\t\t\t<img src={logoWhite} alt=\"Marginalia Logo\" style={{ height: \"70px\", paddingRight: \"20px\", paddingBottom: \"0px\", cursor: \"pointer\"}} onClick={handleNameClick} />\n\t\t\t\t\t</Tooltip>\n          <Tooltip title=\"Home\" arrow>\n\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\tvariant=\"h3\"\n\t\t\t\t\t\t\tnoWrap\n\t\t\t\t\t\t\tcomponent=\"div\"\n\t\t\t\t\t\t\tsx={{ \n\t\t\t\t\t\t\t\tdisplay: { xs: 'none', sm: 'block' }, \n\t\t\t\t\t\t\t\tcursor: \"pointer\",\n\t\t\t\t\t\t\t\tfontFamily: \"Didot\",\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tonClick={handleNameClick}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<b>Marginalia</b>\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Tooltip>\n          <Box sx={{ flexGrow: 1 }} />\n\t\t\t\t\t\t<Tooltip title=\"About\" arrow>\n\t\t\t\t\t\t\t<IconButton aria-label=\"about\" color=\"inherit\" onClick={handleAboutClick} >\n\t\t\t\t\t\t\t\t<InfoIcon sx={{ fontSize: 32, px: 2, mb: -1  }} />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t<Tooltip title=\"Users\" arrow>\n\t\t\t\t\t\t\t<IconButton aria-label=\"all users\" color=\"inherit\" onClick={handleUsersClick} sx={{ px: 2, mb: -1 }}>\n\t\t\t\t\t\t\t\t<PeopleIcon sx={{ fontSize: 35, }} />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t</Tooltip>\n            <Tooltip title=\"Texts\" arrow>\n\t\t\t\t\t\t\t<IconButton aria-label=\"all texts\" color=\"inherit\" onClick={handleTextsClick} >\n\t\t\t\t\t\t\t\t<MenuBookIcon sx={{ fontSize: 35, px: 2, mb: -1 }} />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t</Tooltip>\n\n\t\t\t\t\t\t{userState.entities.length === 0 ?\n\t\t\t\t\t\t\t<Tooltip title=\"Me\" arrow>\n\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\tedge=\"end\"\n\t\t\t\t\t\t\t\t\taria-label=\"account of current user\"\n\t\t\t\t\t\t\t\t\taria-controls={menuId}\n\t\t\t\t\t\t\t\t\taria-haspopup=\"true\"\n\t\t\t\t\t\t\t\t\tonClick={handleProfileMenuOpen}\n\t\t\t\t\t\t\t\t\tcolor=\"inherit\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<AccountCircle sx={{ fontSize: 55, pl: 2 }} />\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t:\n\t\t\t\t\t\t\t<Tooltip title=\"Me\" arrow>\n\t\t\t\t\t\t\t\t<Avatar \n\t\t\t\t\t\t\t\t\talt={fullName} \n\t\t\t\t\t\t\t\t\tsrc={imageUrl} \n\t\t\t\t\t\t\t\t\tsx={{ width: 55, height: 55, cursor: \"pointer\", ml: 3 }}\n\t\t\t\t\t\t\t\t\tedge=\"end\"\n\t\t\t\t\t\t\t\t\taria-label=\"account of current user\"\n\t\t\t\t\t\t\t\t\taria-controls={menuId}\n\t\t\t\t\t\t\t\t\taria-haspopup=\"true\"\n\t\t\t\t\t\t\t\t\tonClick={handleProfileMenuOpen}\n\t\t\t\t\t\t\t\t\tcolor=\"inherit\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t}\n\t\t\t\t\t</Toolbar>\n      </AppBar>\n      {renderMenu}\n    </Box>\n\t)\n}","export default \"data:image/png;base64,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\"","import { useState } from \"react\"\nimport { useHistory } from 'react-router-dom'\nimport { useDispatch } from \"react-redux\"\nimport { addSignupUser } from '../users/userSlice'\nimport Avatar from '@mui/material/Avatar'\nimport Button from '@mui/material/Button'\nimport TextField from '@mui/material/TextField'\nimport Grid from '@mui/material/Grid'\nimport Box from '@mui/material/Box'\nimport LockOutlinedIcon from '@mui/icons-material/LockOutlined'\nimport Typography from '@mui/material/Typography'\nimport Container from '@mui/material/Container'\nimport CompareArrowsIcon from '@mui/icons-material/CompareArrows'\n\nfunction Signup() {\n  const [formData, setFormData] = useState({\n\t\tusername: \"\",\n    first_name: \"\",\n    last_name: \"\",\n    fam_name_first: false,\n\t\tpassword: \"\",\n\t\tfullname: \"\",\n\t\timage: \"\",\n\t\tbio: \"\",\n\t\tusertype: \"Reader\"\n\t});\n\n\tconst [errors, setErrors] = useState([])\n\n\tconst dispatch = useDispatch()\n\tconst history = useHistory()\n\n\tfunction handleChange(e) {\n\t\tsetFormData({\n\t\t\t...formData,\n\t\t\t[e.target.id]: e.target.value,\n\t\t})\n\t}\n\n\tconst handleFamNameFirstClick = () => {\n\t\tsetFormData({\n\t\t\t...formData,\n\t\t\tfam_name_first: !formData.fam_name_first,\n\t\t})\t\t\n\t}\n  \n  function handleSubmit(e) {\n    e.preventDefault();\n\t\t// dispatch(signupUser(formData))\n    fetch(\"/api/signup\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(formData),\n    })\n\t\t.then((r) => r.json())\n\t\t.then((data) => {\n\t\t\tif(data.errors) setErrors(data.errors)\n\t\t\telse {\n\t\t\t\tsetErrors([])\n\t\t\t\tdispatch(addSignupUser(data))\n\t\t\t\thistory.push(\"/\")\n\t\t\t}\n\t\t});\n  }\n\n  const handleLoginClick = () => {\n    history.push('/login')\n  }\n\n  const nameField = (label) => {\n\t\tconst firstLast = label.includes(\"amily\") ? \"last_name\" : \"first_name\"\n\t\tconst nameValue = label.includes(\"amily\") ? formData.last_name : formData.first_name\n\t\treturn (\n\t\t\t<TextField\n\t\t\t\tonChange={handleChange}\n\t\t\t\tautoComplete={firstLast}\n\t\t\t\tname={firstLast}\n\t\t\t\tvalue={nameValue}\n\t\t\t\trequired\n\t\t\t\tid={firstLast}\n\t\t\t\tsx={{ backgroundColor: \"#f5f5f5\", }}\n\t\t\t\tlabel={label}\n\t\t\t/>\t\t\t\n\t\t)    \n  }\n\n\tconst compareArrow = () => {\n\t\treturn (\n\t\t\t\t<Grid item xs=\"auto\">\n\t\t\t\t\t<CompareArrowsIcon \n\t\t\t\t\t\tonClick={handleFamNameFirstClick}\n\t\t\t\t\t\tsx={{ height: \"62px\", color: \"#3e2723\", cursor: \"pointer\" }}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t)\n\t}\n\n\treturn (\n\t\t\t<Container component=\"main\" maxWidth=\"xs\">\n        <Box\n          sx={{\n            marginTop: 8,\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n          }}\n        >\n          <Avatar sx={{ m: 1, bgcolor: \"#8c7b75\" }}>\n            <LockOutlinedIcon size=\"large\" />\n          </Avatar>\n          <Typography component=\"h1\" variant=\"h5\">\n            Sign up\n          </Typography>\n          <Box component=\"form\" onSubmit={handleSubmit} sx={{ mt: 0 }}>\n           \n            {errors ? errors.map(e => <div key={e} style={{ color: \"#660033\", textAlign: \"center\" }} >{e}</div>) : null}\n\n            <TextField\n              onChange={handleChange}\n              required\n              fullWidth\n              id=\"username\"\n              label=\"Username\"\n              name=\"username\"\n              autoComplete=\"new-username\"\n              sx={{ mt: 3, bgcolor: \"#f5f5f5\" }}\n              autoFocus\n            />\n\n            <Grid container item xs={12} sx={{ mt: 3, }}>\n              {formData.fam_name_first ? \n                <>\n                  <Grid item xs sx={{ mr: \"5px\" }}>\n                    {nameField(\"Family name\")}\n                  </Grid>\n                  {compareArrow()}\n                  <Grid item xs sx={{ ml: \"5px\" }}>\n                    {nameField(\"Given name\")}\n                  </Grid>\n                </>\n              :\n                <>\n                  <Grid item xs sx={{ mr: \"5px\" }}>\n                    {nameField(\"Given name\")}\n                  </Grid>\n                  {compareArrow()}\n                  <Grid item xs sx={{ ml: \"5px\" }}>\n                    {nameField(\"Family name\")}\n                  </Grid>\n                </>\n              }\n            </Grid>\n\n            <TextField\n              onChange={handleChange}\n              required\n              fullWidth\n              name=\"password\"\n              label=\"Password\"\n              type=\"password\"\n              id=\"password\"\n              sx={{ mt: 2, bgcolor: \"#f5f5f5\"  }}\n              autoComplete=\"new-password\"\n            />\n\n            <TextField\n              onChange={handleChange}\n              fullWidth\n              name=\"image\"\n              label=\"Profile Picture URL\"\n              id=\"image\"\n              sx={{ mt: 3, bgcolor: \"#f5f5f5\" }}\n              autoComplete=\"new-image\"\n            />\n\n            <TextField\n              onChange={handleChange}\n              fullWidth\n              name=\"bio\"\n              label=\"About Me\"\n              id=\"bio\"\n              autoComplete=\"new-bio\"\n              sx={{ mt: 3, bgcolor: \"#f5f5f5\" }}\n            />\n                \n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              sx={{ mt: 3, mb: 2 }}\n            >\n              Sign Up\n            </Button>\n            <Box display=\"flex\" justifyContent=\"center\">\n\t\t\t\t\t\t\t\t<Typography variant=\"subtitle\" sx={{ color: \"#455a64\", textDecoration: \"underline\", cursor: \"pointer\"}} onClick={handleLoginClick} >\n\t\t\t\t\t\t\t\t\tAlready have an account? Sign in\n\t\t\t\t\t\t\t\t</Typography>\n            </Box>\n          </Box>\n        </Box>\n      </Container>\n  );\n}\n\nexport default Signup","import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\n\nexport const fetchLitTexts = createAsyncThunk(\n\t\"litTexts/fetchLitTexts\", \n\tasync () => {\n\t\tconst response = await fetch(\"/api/lit_texts\")\n\t\tconst data = await response.json()\n    return data\n\t}\n)\n\nexport const postLitText = createAsyncThunk(\n\t\"litTexts/postLitText\",\n\tasync (formData) => {\n\t\tconst response = await fetch(\"/api/lit_texts\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify(formData),\n\t\t})\n\t\tif (!response.ok) {\n\t\t\treturn Promise.reject(new Error(\"We're sorry. There's been an error.\"))\n\t\t} else {\n\t\t\treturn response.json()\n\t\t}\n\t})\n\nexport const patchLitText = createAsyncThunk(\n\t\"litTexts/patchLitText\",\n\tasync (formData) => {\n\t\ttry {\n\t\t\tconst response = await fetch(`/api/lit_texts/${formData.id}`, {\n\t\t\t\tmethod: \"PATCH\",\n\t\t\t\theaders: {\n\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify(formData),\n\t\t\t})\n\t\t\treturn await response.json()\n\t\t}\tcatch (err) {\n\t\t\t// console.log(\"err\", err, \"err.response.data\", err.response.data)\n\t\t}\n\t}\n)\n\nconst litTextsSlice = createSlice({\n\tname: \"litTexts\",\n\tinitialState: {\n\t\tentities: [],\n\t\tstatus: \"idle\",\n\t\terrors: [],\n\t},\n\treducers: {\n\t\taddCommentToLitText(state, action) {\n\t\t\tconst index = state.entities.findIndex((text) => parseInt(text.id) === parseInt(action.payload.lit_text_id))\n\t\t\tconst thisText = state.entities[index]\n\t\t\tthisText.comments.push(action.payload)\n\t\t\tstate.status = \"idle\"\n\t\t},\n\t},\n\textraReducers: (builder) => {\n\t\tbuilder\n\t\t\t.addCase(fetchLitTexts.pending, (state) => {\n\t\t\t\tstate.status = \"loading\"\n\t\t\t})\n\t\t\t.addCase(fetchLitTexts.fulfilled, (state, action) => {\n\t\t\t\tstate.entities = action.payload\n\t\t\t\tstate.status = \"idle\"\n\t\t\t})\n\t\t\t.addCase(postLitText.pending, (state) => {\n\t\t\t\tstate.status = \"pending\"\n\t\t\t})\n\t\t\t.addCase(postLitText.fulfilled, (state, action) => {\n\t\t\t\tstate.entities.push(action.payload)\n\t\t\t\tstate.errors = []\n\t\t\t\tstate.status = \"idle\"\n\t\t\t})\n\t\t\t.addCase(postLitText.rejected, (state, action) => {\n\t\t\t\tstate.errors.push(action.error)\n\t\t\t\tstate.status = \"error\"\n\t\t\t})\n\t\t\t.addCase(patchLitText.pending, (state) => {\n\t\t\t\tstate.status = \"pending\"\n\t\t\t})\n\t\t\t.addCase(patchLitText.fulfilled, (state, action) => {\n\t\t\t\tconst index = state.entities.findIndex((text) => parseInt(text.id) === parseInt(action.payload.id))\n\t\t\t\tstate.entities[index] = action.payload\n\t\t\t\tstate.errors = []\n\t\t\t\tstate.status = \"idle\"\n\t\t\t})\n\t\t\t.addCase(patchLitText.rejected, (state, action) => {\n\t\t\t\tstate.errors.push(action.error)\n\t\t\t\tstate.status = \"error\"\n\t\t\t})\n\t},\n})\n\nexport const { addCommentToLitText } = litTextsSlice.actions\nexport default litTextsSlice.reducer","import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\n\nexport const fetchAllUsers = createAsyncThunk(\n\t\"allUsers/fetchAllUsers\", \n\tasync () => {\n\t\tconst response = await fetch(\"/api/users\")\n\t\tconst data = await response.json()\n    return data\n\t}\n)\n\nconst initialState = {\n\tentities: [],\n\tstatus: \"idle\",\n\terrors: null\n}\n\nconst allUsersSlice = createSlice({\n\tname: \"allUsers\",\n\tinitialState,\n\treducers: {\n\t\tupdateUser(state, action) {\n\t\t\tconst index = state.entities.findIndex((user) => parseInt(user.id) === parseInt(action.payload.id))\n\t\t\tstate.entities[index] = action.payload\n\t\t\tstate.status = \"idle\"\n\t\t},\t\n\t\taddCommentToUser(state, action) {\n\t\t\tconst index = state.entities.findIndex((user) => parseInt(user.id) === parseInt(action.payload.user_id))\n\t\t\tconst thisUser = state.entities[index]\n\t\t\tthisUser.comments.push(action.payload)\n\t\t\tstate.status = \"idle\"\n\t\t},\n\t},\n\textraReducers: (builder) => {\n\t\tbuilder\n\t\t\t.addCase(fetchAllUsers.pending, (state) => {\n\t\t\t\tstate.status = \"pending\"\n\t\t\t})\n\t\t\t.addCase(fetchAllUsers.fulfilled, (state, action) => {\n\t\t\t\tstate.entities = action.payload\n\t\t\t\tstate.status = \"idle\"\n\t\t\t})\n\t},\n})\n\nexport const { updateUser, addCommentToUser } = allUsersSlice.actions\nexport default allUsersSlice.reducer","import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\n\nexport const fetchComments = createAsyncThunk(\n\t\"comments/fetchComments\", \n\tasync () => {\n\t\tconst response = await fetch(\"/api/comments\")\n\t\tconst data = await response.json()\n    return data\n\t}\n)\n\nexport const postComment = createAsyncThunk(\n\t\"comments/postComment\",\n\tasync (formData) => {\n\t\tconst response = await fetch(\"/api/comments\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify(formData),\n\t\t})\n\t\tconst data = await response.json()\n\t\treturn data\n\t}\t\t\n)\n\nexport const patchComment = createAsyncThunk(\n\t\"comments/patchComment\",\n\tasync (formData) => {\n\t\tconst response = await fetch(`/api/comments/${formData.id}`, {\n\t\t\tmethod: \"PATCH\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify(formData),\n\t\t})\n\t\tconst data = await response.json()\n    return data\n\t}\n)\n\nexport const destroyComment = createAsyncThunk(\n\t\"comments/destroyComment\",\n\tasync (id) => {\n\t\tfetch(`/api/comments/${id}`, {\n\t\t\tmethod: 'DELETE'\n\t\t})\n\t\treturn (id)\n\t}\n)\n\nconst initialState = {\n\tentities: [],\n\tstatus: \"idle\",\n\terrors: [],\n}\t\n\nconst commentsSlice = createSlice({\n\tname: \"comments\",\n\tinitialState,\n\treducers: {},\n\textraReducers: (builder) => {\n\t\tbuilder\n\t\t\t.addCase(fetchComments.pending, (state) => {\n\t\t\t\tstate.status = \"pending\"\n\t\t\t})\n\t\t\t.addCase(fetchComments.fulfilled, (state, action) => {\n\t\t\t\tstate.entities = action.payload\n\t\t\t\tstate.status = \"idle\"\n\t\t\t})\n\t\t\t.addCase(fetchComments.rejected, (state, action) => {\n\t\t\t\tstate.errors.push(action.error)\n\t\t\t\tstate.status = \"error\"\n\t\t\t})\n\t\t\t.addCase(postComment.pending, (state) => {\n\t\t\t\tstate.status = \"pending\"\n\t\t\t})\n\t\t\t.addCase(postComment.fulfilled, (state, action) => {\n\t\t\t\tstate.entities.push(action.payload)\n\t\t\t\tstate.errors = []\n\t\t\t\tstate.status = \"idle\"\n\t\t\t})\n\t\t\t.addCase(postComment.rejected, (state, action) => {\n\t\t\t\tstate.errors.push(action.error)\n\t\t\t\tstate.status = \"error\"\n\t\t\t})\n\t\t\t.addCase(patchComment.pending, (state) => {\n\t\t\t\tstate.status = \"pending\"\n\t\t\t})\n\t\t\t.addCase(patchComment.fulfilled, (state, action) => {\n\t\t\t\tconst index = state.entities.findIndex((com) => parseInt(com.id) === parseInt(action.payload.id))\n\t\t\t\tstate.entities[index] = action.payload\n\t\t\t\tstate.status = \"idle\"\n\t\t\t})\n\t\t\t.addCase(patchComment.rejected, (state, action) => {\n\t\t\t\tstate.errors = action.error\n\t\t\t\tstate.status = \"error\"\n\t\t\t})\n\t\t\t.addCase(destroyComment.pending, (state) => {\n\t\t\t\tstate.status = \"pending\"\n\t\t\t})\n\t\t\t.addCase(destroyComment.fulfilled, (state, action) => {\n\t\t\t\tconst newArr = state.entities.filter((com) => com.id !== action.payload)\n\t\t\t\tstate.entities = [...newArr]\n\t\t\t\tstate.status = \"idle\"\n\t\t\t})\n\t\t\t.addCase(destroyComment.rejected, (state, action) => {\n\t\t\t\tstate.errors = action.error\n\t\t\t\tstate.status = \"error\"\n\t\t\t})\n\t},\n})\n\nexport default commentsSlice.reducer","import { useState} from \"react\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport { useHistory } from 'react-router-dom'\nimport { addLoginUser } from '../users/userSlice'\nimport { fetchLitTexts } from '../litTexts/litTextsSlice'\nimport { fetchAllUsers } from '../users/allUsersSlice'\nimport { fetchComments} from '../comments/commentsSlice'\nimport Avatar from '@mui/material/Avatar'\nimport Button from '@mui/material/Button'\nimport TextField from '@mui/material/TextField'\nimport Grid from '@mui/material/Grid'\nimport Box from '@mui/material/Box'\nimport LockOutlinedIcon from '@mui/icons-material/LockOutlined'\nimport Typography from '@mui/material/Typography'\nimport Container from '@mui/material/Container'\n\nexport default function Login() {\n  const dispatch = useDispatch()\n  const history = useHistory()\n\n\tconst [formData, setFormData] = useState({\n\t\tusername: \"\",\n\t\tpassword: \"\",\n\t});\n\n\tconst [errors, setErrors] = useState([])\n\n\tconst userState = useSelector((state) => state.user)\n\n\tfunction handleChange(e) {\n\t\tsetFormData({\n\t\t\t...formData,\n\t\t\t[e.target.id]: e.target.value,\n\t\t})\n\t}\n\n\tfunction handleSubmit(e) {\n\t\te.preventDefault();\n\t\tfetch(\"/api/login\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify(formData),\n\t\t})\n\t\t.then((r) => r.json())\n\t\t.then((data) => {\n\t\t\tif(data.errors) setErrors(data.errors)\n\t\t\telse {\n\t\t\t\tsetErrors([])\n\t\t\t\tdispatch(addLoginUser(data))\n\t\t\t\tdispatch(fetchLitTexts())\n\t\t\t\tdispatch(fetchAllUsers())\n\t\t\t\tdispatch(fetchComments())\t\t\t\t\t\n\t\t\t\thistory.push('/')\n\t\t\t}\n\t\t});  \n\t}\n\n\tconst handleSignupClick = () => {\n\t\thistory.push('/signup')\n\t}\n\n\n\treturn (\n      <Container component=\"main\" maxWidth=\"xs\">\n        <Box\n          sx={{\n            marginTop: 8,\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n          }}\n        >\n          <Avatar sx={{ m: 1, bgcolor: \"#8c7b75\" }}>\n            <LockOutlinedIcon size=\"large\"/>\n          </Avatar>\n          <Typography component=\"h1\" variant=\"h5\">\n            Sign in\n          </Typography>\n          <Box component=\"form\" onSubmit={handleSubmit} noValidate sx={{ mt: 1 }}>\n\t\t\t\t\t\t{errors?errors.map(e => <div key={e.id} style={{ color: \"#660033\", textAlign: \"center\" }} >{e}</div>):null}\n\t\t\t\t\t\t{userState.entities.length > 0 ? <h1>You are already logged in!</h1> : null}\n            <TextField\n\t\t\t\t\t\t\tonChange={handleChange}\n              margin=\"normal\"\n              required\n              fullWidth\n              id=\"username\"\n              label=\"Username\"\n              name=\"username\"\n              autoComplete=\"username\"\n\t\t\t\t\t\t\tvalue={formData.username}\n\t\t\t\t\t\t\tsx={{ bgcolor: \"#f5f5f5\" }}\n              autoFocus\n            />\n            <TextField\n\t\t\t\t\t\t\tonChange={handleChange}\n              margin=\"normal\"\n              required\n              fullWidth\n              name=\"password\"\n              label=\"Password\"\n              type=\"password\"\n              id=\"password\"\n\t\t\t\t\t\t\tvalue={formData.password}\n\t\t\t\t\t\t\tsx={{ bgcolor: \"#f5f5f5\" }}\n              autoComplete=\"current-password\"\n            />\t\t\n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              sx={{ mt: 3, mb: 2 }}\n            >\n              Sign In\n            </Button>\n            <Grid container justifyContent=\"center\">\n              <Grid item>\n\t\t\t\t\t\t\t\t<Typography variant=\"subtitle\" sx={{ color: \"#455a64\", textDecoration: \"underline\", cursor: \"pointer\"}} onClick={handleSignupClick} >\n\t\t\t\t\t\t\t\t\tDon't have an account? Sign Up\n\t\t\t\t\t\t\t\t</Typography>\n              </Grid>\n            </Grid>\n          </Box>\n        </Box>\n      </Container>\n\t)\n}","import { useSelector } from \"react-redux\"\nimport { Typography } from \"@mui/material\"\n\nexport default function TotalCommentsAndReplies({ Id, source }) {\n\n\tconst stateComments = useSelector((state) => state.comments)\n\tconst allComments = [...stateComments.entities]\n\tconst undeletedComments = allComments.filter((c) => c.deleted === false)\n\t\n\tlet filteredComments = []\n\tif (source === \"user\") filteredComments = undeletedComments.filter((c) => c.user_id === Id)\n\tif (source === \"litText\") filteredComments = undeletedComments.filter((c) => c.lit_text_id === Id)\n\n\t// const showUserComments = allComments.filter((c) => c.user_id === Id)\n\n\tconst totalComments = filteredComments.filter((c) => c.parent_comment_id === null).length\n\tconst showTotalComments = totalComments === 1 ? `${totalComments} comment` : `${totalComments} comments`\n\n\tconst totalReplies = filteredComments.filter((c) => c.parent_comment_id !== null).length\n\tconst showTotalReplies = totalReplies === 1 ? `${totalReplies} reply` : `${totalReplies} replies`  \n\n\treturn (\n\t\t<Typography variant=\"caption\"><em>{showTotalComments}, {showTotalReplies}</em></Typography>\n\t)\n}","import { useHistory } from 'react-router-dom'\nimport { useSelector } from 'react-redux'\nimport TotalCommentsAndReplies from '../shared/TotalCommentsAndReplies'\nimport { Typography, Grid, Paper, Card } from '@mui/material'\n\nexport default function LitTextListShow({ litText }) {\n\tconst { title, author_name, pubdate, content, id, prose, translator } = litText\n\tconst userState = useSelector((state) => state.user)\n\t// console.log(\"from LitTextListShow: litText:\", litText, \"translator\", translator)\n  \n\tlet parsedContent = \"\"\n\tif (content && prose) {\n\t\tparsedContent = content.replace(/(<([^>]+)>)/gi, \" \")\n\t} else if (content && !prose) {\n\t\tparsedContent = content\n\t\t\t.replace(/\\u00A0/g, \"\")\n\t\t\t.replace(/(<\\/p><br\\/*>)|(<br\\/*><br\\/*>)|(<\\/p><p><\\/p>)/g, \" // \")\n\t\t\t.replace(/(<\\/p>)|(<br\\/*>)/g, \" / \")\n\t\t\t.replace(/(<([^>]+)>)/gi, \" \")\n\t}\n\tconst firstHundred = parsedContent.slice(0, 130)\n\tconst showContent = firstHundred.replace(/(\\s\\S+$)|(\\W+\\s\\S+$)|(\\W+$)/, \"\")\n\n\tconst history = useHistory()\n\tconst handlePaperClick = () => {\n\t\tuserState.entities.length === 0 ?\n    history.push('/login') :\n\t\thistory.push(`/texts/${id}`)\n\t}\n\n\tlet isProse = \"Poetry\"\n\tif (prose) {\n\t\tisProse = \"Prose\"\n\t}\n\n\tconst renderTranslator = () => {\n\t\tif (translator.length > 0) {\n\t\t\treturn (\n\t\t\t\t<span style={{ color: \"#757575\", fontSize: \"smaller\" }}><em>Translated by {translator}</em></span>\n\t\t\t)\n\t\t} else {\n\t\t\treturn \"\"\n\t\t}\n\t}\n\n\n\tconst displayDate = () => {\n\t\treturn pubdate < 0 ? `${Math.abs(pubdate)} BCE` \n\t\t: pubdate <1000 ? `${pubdate} CE`\n\t\t: pubdate\n\t}\n\n\n\treturn (\n\t\t<Grid item >\n\t\t\t<Paper \n\t\t\t\televation={6} \n\t\t\t\tsx={{ p:3, m: 3, cursor: \"pointer\", }}\n\t\t\t\tonClick={handlePaperClick}\n\t\t\t>\n\t\t\t\t<Typography variant=\"h5\" sx={{ textAlign:\"center\" }}><b>{title}</b></Typography>\n\t\t\t\t<Typography variant=\"subtitle1\" sx={{ textAlign:\"center\" }}>{author_name}</Typography>\n\t\t\t\t{translator.length > 0 ?\n\t\t\t\t\t<Typography variant=\"subtitle1\" sx={{ textAlign:\"center\", mt: -1 }}>{renderTranslator()}</Typography> \n\t\t\t\t: null}\n\t\t\t\t<Typography variant=\"body2\" sx={{ textAlign:\"center\", color: \"#494949\" }}>{displayDate()}<span style={{ marginLeft: \"13px\", marginRight: \"13px\"}}></span>{isProse}</Typography>\n\n\t\t\t\t<Card \n\t\t\t\t\tvariant=\"outlined\" \n\t\t\t\t\tsx={{ p:2, pt: 0, my:2, mx:5, }}\n\t\t\t\t>\n\t\t\t\t\t<Typography sx={{ fontSize: 14, textAlign:\"center\", mt:1 }} color=\"text.secondary\" gutterBottom>\n\t\t\t\t\t\t<em>Preview</em>\n\t\t\t\t\t</Typography>\t\t\t\t\n\t\t\t\t\t<Typography variant=\"body1\">{showContent}&nbsp;.&nbsp;.&nbsp;.</Typography> \n\t\t\t\t</Card>\n\t\t\t\t<div style={{ display:\"flex\", width: \"100%\", justifyContent: \"center\", }}>\n\t\t\t\t\t<TotalCommentsAndReplies Id={litText.id} source=\"litText\" />\t\t\t\t\n\t\t\t\t</div>\n\t\t\t</Paper>\n\t\t</Grid>\n\t)\n}","import { useMemo } from 'react'\nimport { Grid, TextField, } from '@mui/material'\nimport { styled } from '@mui/material/styles';\nimport Tooltip, { tooltipClasses } from '@mui/material/Tooltip'\nimport CompareArrowsIcon from '@mui/icons-material/CompareArrows'\n\nexport default function LastName({ \n\tfamNameFirst, \n\thandleFamNameFirstClick, \n\thandleFormChange, \n\tfirstName, \n\tlastName, \n\tisAuthor \n}) {\n\n\tconst nameField = (label) => {\n\t\tconst firstLast = label.includes(\"ast\") || label.includes(\"amily\") ? \"last_name\" : \"first_name\"\n\t\tconst name = label.includes(\"ast\") || label.includes(\"amily\") ? lastName : firstName\n\t\treturn (\n\t\t\t<TextField\n\t\t\t\tonChange={handleFormChange}\n\t\t\t\tautoComplete={firstLast}\n\t\t\t\tname={firstLast}\n\t\t\t\tvalue={name}\n\t\t\t\trequired\n\t\t\t\tid={firstLast}\n\t\t\t\tsx={{ backgroundColor: \"#fff\", width: \"100%\" }}\n\t\t\t\tlabel={label}\n\t\t\t/>\t\t\t\n\t\t)\n\t}\n\n\tconst nameLabel = (nameType) => {\n\t\tif (isAuthor) {\n\t\t\treturn `Author's ${nameType.toLowerCase()}`\n\t\t} else {\n\t\t\treturn nameType\n\t\t}\n\t}\n\t\n\tconst firstLastTt = () => {\n\t\tif (isAuthor) {\n\t\t\treturn (\n\t\t\t\t<div>\n\t\t\t\t\tInclude middle names and initials in <b>FIRST NAME</b>\n\t\t\t\t\t<br/><br/>If an author only has one name, include it in <b>LAST NAME</b>\n\t\t\t\t\t<br/><br/>See <a \n\t\t\t\t\t\thref=\"https://libguides.dickinson.edu/citing/mla7capitalization/\" \n\t\t\t\t\t\trel=\"noreferrer\" target=\"_blank\" \n\t\t\t\t\t\tstyle={{ color: \"#d1dbe0\"}}\n\t\t\t\t\t>guidelines</a> for where to put particles like <em>de</em>, <em>Del</em>, or <em>von</em> \n\t\t\t\t\t<br/><br/>Click the arrows to show the author's family name first\n\t\t\t\t</div>\t\t\t\t\n\t\t\t)\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<div>\n\t\t\t\t\tInclude middle names and initials in <b>FIRST NAME</b>\n\t\t\t\t\t<br/><br/>Click the arrows to list your family name first\n\t\t\t\t</div>\n\t\t\t)\n\t\t}\n\t}\n\n\tconst compareArrow = () => {\n\t\treturn (\n\t\t\t\t<Grid item xs=\"auto\">\n\t\t\t\t\t<CompareArrowsIcon \n\t\t\t\t\t\tonClick={handleFamNameFirstClick}\n\t\t\t\t\t\tsx={{ height: \"62px\", color: \"#3e2723\", cursor: \"pointer\" }}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t)\n\t}\n\n\tconst CustomWidthTooltip = useMemo(\n\t\t() => styled(({ className, ...props }) => (\n\t\t\t<Tooltip {...props} classes={{ popper: className }} />\n\t\t))({\n\t\t\t[`& .${tooltipClasses.tooltip}`]: {\n\t\t\t\tmaxWidth: 400,\n\t\t\t},\n\t\t}), [])\n\n\n\tif(famNameFirst) {\n\t\treturn (\n\t\t\t\t<CustomWidthTooltip \n\t\t\t\t\ttitle={<div>{isAuthor ? \"Author\" : \"You\"} will be alphebetized by family name<br/><br/>Click the arrows to show family name last</div>}\n\t\t\t\t\tarrow\n\t\t\t\t>\n\t\t\t\t<Grid container item xs={12} sx={{ mx: \"5%\", my: 1, width: \"90%\"}}>\n\t\t\t\t\t<Grid item xs sx={{ mr: \"5px\" }}>\n\t\t\t\t\t\t{nameField(nameLabel(\"Family name\"))}\n\t\t\t\t\t</Grid>\n\t\t\t\t\t{compareArrow()}\n\t\t\t\t\t<Grid item xs sx={{ ml: \"5px\" }}>\n\t\t\t\t\t\t{nameField(nameLabel(\"Given name\"))}\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</CustomWidthTooltip>\n\t\t)\n\t} else {\n\t\treturn (\n\t\t\t<CustomWidthTooltip title={firstLastTt()} \n\t\t\t\tarrow\n\t\t\t>\n\t\t\t\t<Grid container item xs={12} sx={{ mx: \"5%\", my: 1, width: \"90%\"}}>\n\t\t\t\t\t<Grid item xs sx={{ mr: \"5px\" }}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tonChange={handleFormChange}\n\t\t\t\t\t\t\tautoComplete=\"first_name\"\n\t\t\t\t\t\t\tname=\"first_name\"\n\t\t\t\t\t\t\tid=\"first_name\"\n\t\t\t\t\t\t\tvalue={firstName}\n\t\t\t\t\t\t\tsx={{ mr: 1, backgroundColor: \"#fff\", width: \"100%\" }}\n\t\t\t\t\t\t\tlabel={nameLabel(\"Given name(s)\")}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t{compareArrow()}\n\t\t\t\t\t<Grid item xs sx={{ ml: \"5px\" }}>\n\t\t\t\t\t\t{nameField(nameLabel(\"Family name\"))}\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</CustomWidthTooltip>\n\t\t)\n\t}\n}","import { useState, useEffect } from \"react\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport ReactQuill from \"react-quill\"\nimport \"react-quill/dist/quill.snow.css\"\nimport parse from 'html-react-parser'\nimport LastName from \"./LastName\"\nimport { postLitText, patchLitText } from '../litTextsSlice' \nimport { Grid, Paper, TextField, Button, Typography, ToggleButton, ToggleButtonGroup, Box, Tooltip } from '@mui/material'\n\n// I put this form into its own component at first because I thought it might be reusable. In my next project, I will work to keep my New and Edit forms similar enough that I can actually reuse a form component\nexport default function LitTextNewForm({ handleLitTextsOrder, handleNewClick, handlePoetryProseValue, isEdit, litText, reRender }) {\n\tconst user = useSelector((state) => state.user.entities[0])\n\tconst [storyOrPoem, setStoryOrPoem] = useState(\"\")\n\tconst [ceOrBce, setCeOrBce] = useState(\"ce\")\n\tconst [quillData, setQuillData] = useState(\"\")\n\tconst [notNum, setNotNum] = useState(false)\n\tconst [famNameFirst, setFamNameFirst] = useState(false)\n\tconst [formData, setFormData] = useState({\n\t\ttitle: \"\",\n\t\tfirst_name: \"\",\n\t\tlast_name: \"\",\n\t\tpubdate: \"\",\n\t\tcontent: \"\",\n\t\tprose: false,\n\t\tfam_name_first: false,\n\t\ttranslator: \"\",\n\t\tuploader_id: user.id,\n\t\tedit_user_id: \"\"\n\t})\n\t// console.log(\"formData\", formData)\n\n\tuseEffect(() => {\n\t\tif (isEdit) {\n\t\t\tsetFormData({\n\t\t\t\tid: litText.id,\n\t\t\t\ttitle: litText.title,\n\t\t\t\tfirst_name: litText.first_name,\n\t\t\t\tlast_name: litText.last_name,\n\t\t\t\tpubdate: litText.pubdate,\n\t\t\t\tcontent: litText.content,\n\t\t\t\tprose: litText.prose,\n\t\t\t\tfam_name_first: litText.fam_name_first,\n\t\t\t\ttranslator: litText.translator,\n\t\t\t\tuploader_id: litText.uploader_id,\n\t\t\t\tedit_user_id: user.id\n\t\t\t})\n\t\t\tsetQuillData(litText.content)\n\t\t\tif (litText.pubdate < 0) setCeOrBce(\"bce\")\n\t\t}\n\t}, [litText, isEdit, user])\n\n\tconst dispatch = useDispatch()\n\n\tconst addOrEdit = () => {\n\t\tif (isEdit) {\n\t\t\tif (litText.prose) {\n\t\t\t\treturn \"Edit this Story or Essay\"\n\t\t\t} else {\n\t\t\t\treturn \"Edit this Poem\"\n\t\t\t}\n\t\t} else {\n\t\t\treturn \"Add a New Story or Poem\"\n\t\t}\n\t}\n\n\tconst handleProseBoolean = (b) => {\n\t\tsetFormData(formData => {return ({\n\t\t\t...formData,\n\t\t\tprose: b\n\t\t})})\n\t}\n\tconst handleStoryOrPoemClick = (event, value) => {\n\t\tsetStoryOrPoem(value)\n\t\tif (value === \"Story\") {\n\t\t\thandleProseBoolean(true)\n\t\t} else if (value === \"Poem\") {\n\t\t\thandleProseBoolean(false)\n\t\t}\n\t}\n\n\tconst handleCeOrBceBoolean = (value) => {\n\t\tconst absolute = () => Math.abs(parseInt(formData.pubdate))\n\t\tconst date = () => value.includes(\"b\") ? -absolute() : absolute()\n\t\tsetFormData(formData => {return ({\n\t\t\t...formData,\n\t\t\tpubdate: date()\n\t\t})})\n\t}\n\tconst handleCeOrBce = (event, value) => {\n\t\tif (value !== null) {\n\t\t\tsetCeOrBce(() => value)\n\t\t\thandleCeOrBceBoolean(value)\n\t\t}\n\t}\n\n\tconst handleFamNameFirstClick = () => {\n\t\tsetFamNameFirst(prev => !prev)\n\t\tsetFormData(prev => { return({\n\t\t\t...prev,\n\t\t\tfam_name_first: !prev.fam_name_first\n\t\t})})\n\t}\n\n\tconst handleFormChange = (e) => {\n\t\tconst { name, value } = e.target\n\t\tconst cleanValue = () => {\n\t\t\tif (name === \"pubdate\") {\n\t\t\t\t(/[^-]\\D/).test(value) ? setNotNum(true) : setNotNum(false)\n\t\t\t\tconst justNum = parseInt(value.replace(/^\\D*/, \"\").replace(/\\D+\\d*\\D*$/, \"\"))\n\t\t\t\treturn ceOrBce.includes(\"b\") ? -justNum : justNum\n\t\t\t} else {\n\t\t\t\treturn value\n\t\t\t}\n\t\t}\n\t\tsetFormData((formData) => {\n\t\t\treturn (\n\t\t\t\t{\n\t\t\t\t\t...formData,\n\t\t\t\t\t[name]: cleanValue(),\n\t\t\t\t}\n\t\t\t)\n\t\t})\n\t}\n\n\tconst wrapTextContent = data => {\n\t\tif (storyOrPoem === \"Poem\") {\n\t\t\treturn (<div className=\"poetry\">{data}</div>)\n\t\t} else {\n\t\t\treturn (<div>{data}</div>)\n\t\t}\t\t\n\t}\n\t\n\tconst handleQuillChange = (content) => {\n\t\tsetQuillData(content)\n\t\thandleFormChange({ target: { name: \"content\", value: content } })\n\t}\n\n\tconst parseQuillData = () => {\n\t\tlet parsedData = parse(`${quillData}`)\n\t\tlet returnData = wrapTextContent(parsedData)\n\t\treturn returnData\n\t}\n\n\n\tconst handleSubmit = (e) => {\n\t\te.preventDefault()\n\t\t// console.log(\"handleSubmit.formData:\", formData)\n\t\tisEdit ? dispatch(patchLitText(formData)) : dispatch(postLitText(formData))\n\t\tsetFormData({\n\t\t\ttitle: \"\",\n\t\t\tfirst_name: \"\",\n\t\t\tlast_name: \"\",\n\t\t\tpubdate: \"\",\n\t\t\tcontent: \"\",\n\t\t\tprose: false,\n\t\t\tfam_name_first: false,\n\t\t\ttranslator: \"\"\n\t\t})\n\t\tsetQuillData(\"\")\n\t\tsetStoryOrPoem(\"\")\n\t\tsetFamNameFirst(false)\n\t\tif (!isEdit) {\n\t\t\thandleLitTextsOrder()\n\t\t\thandlePoetryProseValue({ target: { value: \"all\" }})\n\t\t} else {\n\t\t\treRender()\n\t\t}\n\t\thandleNewClick()\n\t}\n\n\n\tconst displayDate = () => {\n\t\tconst value = formData.pubdate\n\t\treturn value < 0 ? `${Math.abs(value)} BCE` \n\t\t: value <1000 ? `${value} CE`\n\t\t: value\n\t}\n\n\tconst displayYear = () => {\n\t\treturn (\n\t\t\t<Grid item xs>\n\t\t\t\t<TextField\n\t\t\t\t\tonChange={handleFormChange}\n\t\t\t\t\tautoComplete=\"pubdate\"\n\t\t\t\t\tname=\"pubdate\"\n\t\t\t\t\trequired\n\t\t\t\t\tid=\"pubdate\"\n\t\t\t\t\tlabel=\"Year\"\n\t\t\t\t\tvalue={formData.pubdate}\n\t\t\t\t\tfullWidth\n\t\t\t\t\tsx={{ mt: \"3px\", mb: 2, mr: \"2px\", backgroundColor: \"#fff\", }}\n\t\t\t\t/>\n\t\t\t</Grid>\t\t\t\n\t\t)\n\t}\n\n\tconst qFormats = [\n\t\t'header', 'bold', 'italic', 'underline', 'strike', 'blockquote',\n    'list', 'bullet'\n\t]\n\n\tconst qModules = {\n    toolbar: [\n      [{ 'header': [1, 2, 3, false] }],\n      ['bold', 'italic', 'underline','strike', 'blockquote'],\n      [{'list': 'ordered'}, {'list': 'bullet'}],\n      ['clean']\n    ],\n  }\n\n\tconst renderName = () => formData.fam_name_first ? \n\t\t`${formData.last_name} ${formData.first_name}` : \n\t\t`${formData.first_name} ${formData.last_name}`\n\n\n\treturn (\n\t\t<Grid item xs={12}>\n\t\t\t<Paper \n\t\t\t\televation={6} \n\t\t\t\tsx={{ p:3, m: 3, mt: 3, backgroundColor: \"#ebe3e1\" }}\n\t\t\t>\n\t\t\t\t<Typography \n\t\t\t\t\tvariant=\"h5\" \n\t\t\t\t\tsx={{ textAlign:\"center\", mb: 1 }} \n\t\t\t\t>\n\t\t\t\t\t<b>{addOrEdit()}</b>\n\t\t\t\t</Typography>\n\n\t\t\t\t<Box component=\"form\" onSubmit={handleSubmit} >\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tonChange={handleFormChange}\n\t\t\t\t\t\tautoComplete=\"title\"\n\t\t\t\t\t\tname=\"title\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tid=\"title\"\n\t\t\t\t\t\tlabel=\"Title\"\n\t\t\t\t\t\tvalue={formData.title}\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\tsx={{ mx: \"5%\", my: 1, backgroundColor: \"#fff\", width: \"90%\" }}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<LastName \n\t\t\t\t\t\tfamNameFirst={famNameFirst} \n\t\t\t\t\t\thandleFamNameFirstClick={handleFamNameFirstClick} \n\t\t\t\t\t\thandleFormChange={handleFormChange} \n\t\t\t\t\t\tfirstName={formData.first_name}\n\t\t\t\t\t\tlastName={formData.last_name}\n\t\t\t\t\t\tisAuthor={true}\n\t\t\t\t\t/>\n\n\t\t\t\t\t{notNum ? <Typography variant=\"body2\" sx={{ color: \"#701010\", textAlign: \"center\", mt: 1 }}>We're sorry. <b>Year</b> can only include numbers for now. </Typography> : null}\n\t\t\t\t\t<Grid container item xs={12} sx={{ mx: \"5%\", width: \"90%\"}}>\n\t\t\t\t\t\t<Grid container item xs={6} sx={{ pr: \"20px\"}}>\n\t\t\t\t\t\t\t{ isEdit ? \n\t\t\t\t\t\t\t\t<Tooltip \n\t\t\t\t\t\t\t\t\ttitle={<span>If date is BCE, please leave <b>Year</b> as a negative number</span>}\n\t\t\t\t\t\t\t\t\tarrow\n\t\t\t\t\t\t\t\t>{displayYear()}\n\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t: displayYear() }\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<Grid item xs=\"auto\">\n\t\t\t\t\t\t\t\t<ToggleButtonGroup\n\t\t\t\t\t\t\t\t\tvalue={ceOrBce}\n\t\t\t\t\t\t\t\t\texclusive\n\t\t\t\t\t\t\t\t\tonChange={handleCeOrBce}\n\t\t\t\t\t\t\t\t\taria-label=\"CE or BCE\"\n\t\t\t\t\t\t\t\t\tsx={{ bgcolor: \"#fefcf9\", mt: \"3px\", height: \"61.75px\", }}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<ToggleButton \n\t\t\t\t\t\t\t\t\t\tvalue=\"bce\"\n\t\t\t\t\t\t\t\t\t\taria-label=\"BCE\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tBCE\n\t\t\t\t\t\t\t\t\t</ToggleButton>\n\t\t\t\t\t\t\t\t\t<ToggleButton \n\t\t\t\t\t\t\t\t\t\tvalue=\"ce\"\n\t\t\t\t\t\t\t\t\t\taria-label=\"CE\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tCE\n\t\t\t\t\t\t\t\t\t</ToggleButton>\n\t\t\t\t\t\t\t\t</ToggleButtonGroup>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={6} sx={{ pl: \"20px\"}}>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tonChange={handleFormChange}\n\t\t\t\t\t\t\t\t\tautoComplete=\"translator\"\n\t\t\t\t\t\t\t\t\tname=\"translator\"\n\t\t\t\t\t\t\t\t\tid=\"translator\"\n\t\t\t\t\t\t\t\t\tlabel=\"Translator\"\n\t\t\t\t\t\t\t\t\tvalue={formData.translator}\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tsx={{ mt: \"3px\", mb: 2, backgroundColor: \"#fff\", }}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\n\n\t\t\t\t\t<ReactQuill \n\t\t\t\t\t\ttheme=\"snow\"\n\t\t\t\t\t\tvalue={quillData}\n\t\t\t\t\t\tonChange={handleQuillChange}\n\t\t\t\t\t\tplaceholder=\"Paste and edit the text of the story or poem here\"\n\t\t\t\t\t\tstyle={{ \n\t\t\t\t\t\t\tbackgroundColor: \"#fff\", \n\t\t\t\t\t\t\twidth: \"90%\",\n\t\t\t\t\t\t\tmarginRight: \"5%\",\n\t\t\t\t\t\t\tmarginLeft: \"5%\"\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tformats={qFormats}\n\t\t\t\t\t\tmodules={qModules}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<Box textAlign=\"center\">\n\t\t\t\t\t\t<ToggleButtonGroup\n\t\t\t\t\t\t\tvalue={storyOrPoem}\n\t\t\t\t\t\t\texclusive\n\t\t\t\t\t\t\tonChange={handleStoryOrPoemClick}\n\t\t\t\t\t\t\taria-label=\"Story or Poem\"\n\t\t\t\t\t\t\tsx={{ bgcolor: \"#fefcf9\", mt: 2, }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ToggleButton \n\t\t\t\t\t\t\t\tvalue=\"Poem\"\n\t\t\t\t\t\t\t\taria-label=\"Poem\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tPoetry\n\t\t\t\t\t\t\t</ToggleButton>\n\t\t\t\t\t\t\t<ToggleButton \n\t\t\t\t\t\t\t\tvalue=\"Story\"\n\t\t\t\t\t\t\t\taria-label=\"Story\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tProse\n\t\t\t\t\t\t\t</ToggleButton>\n\t\t\t\t\t\t</ToggleButtonGroup>\n\t\t\t\t\t</Box>\n\n\t\t\t\t\t{storyOrPoem === \"Story\" || storyOrPoem === \"Poem\" ? \n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t<Paper \n\t\t\t\t\t\t\t\televation={9} \n\t\t\t\t\t\t\t\tsx={{ p:3, m: 1, mx: \"8%\", backgroundColor: \"#fefcf9\" }}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Grid container wrap=\"nowrap\">\n\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t<Typography variant=\"h6\" sx={{ textAlign:\"center\", textColor: \"#616161\", fontVariant: \"small-caps\", mb: 1 }}><em>preview</em></Typography>\n\t\t\t\t\t\t\t\t<Typography variant=\"h4\" sx={{ textAlign:\"center\" }}><b>{formData.title}</b></Typography>\n\t\t\t\t\t\t\t\t<Typography variant=\"h6\" sx={{ textAlign:\"center\" }}>{renderName()}</Typography>\n\t\t\t\t\t\t\t\t<Typography variant=\"subtitle1\" sx={{ textAlign:\"center\" }}><em>{displayDate()}</em></Typography>\n\t\t\t\t\t\t\t\t{formData.translator.length > 0 ? \n\t\t\t\t\t\t\t\t\t<Typography variant=\"subtitle2\" sx={{ textAlign:\"center\", color: \"#8e8e8e\", mt: 1 }}><em>{`Translated by ${formData.translator}`}</em></Typography>\n\t\t\t\t\t\t\t\t: null }\n\n\t\t\t\t\t\t\t\t<Grid container wrap=\"nowrap\">\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} justifyContent=\"center\" sx={{ display: \"flex\", }}>\n\t\t\t\t\t\t\t\t\t\t<div style={{ position: \"flex\", }} >\n\t\t\t\t\t\t\t\t\t\t\t<Typography component=\"span\" variant=\"body1\" sx={{ pb:3, pr:3, pl:3, pt:2, }}>\n\t\t\t\t\t\t\t\t\t\t\t\t{parseQuillData()}\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t: null }\n\n\t\t\t\t\t{quillData.length > 0 && (storyOrPoem === \"Story\" || storyOrPoem === \"Poem\") ?\n\t\t\t\t\t\t<div style={{ width: \"100%\", display: \"flex\", justifyContent: \"center\", }}>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\tsx={{ mt: 1, mb: 2, }}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tSubmit\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t: storyOrPoem === \"Story\" || storyOrPoem === \"Poem\" ?\n\t\t\t\t\t\t<div style={{ width: \"100%\", display: \"flex\", justifyContent: \"center\", }}>\n\t\t\t\t\t\t\t<Tooltip title=\"Text cannot be blank\" arrow>\n\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\t\tsx={{ mt: 2, mb: 2, }}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tSubmit\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t:\n\t\t\t\t\t\t<div style={{ width: \"100%\", display: \"flex\", justifyContent: \"center\", }}>\n\t\t\t\t\t\t\t<Tooltip title=\"Please select POETRY or PROSE first\" arrow>\n\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\t\tsx={{ mt: 2, mb: 2, }}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tSubmit\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t}\n\n\t\t\t\t</Box>\n\t\t\t</Paper>\n\t\t</Grid>\n\t)\n}","import FormControl from '@mui/material/FormControl'\nimport InputLabel from '@mui/material/InputLabel'\nimport Select from '@mui/material/Select'\nimport MenuItem from '@mui/material/MenuItem'\nimport IconButton\tfrom '@mui/material/IconButton'\nimport CompareArrowsIcon from '@mui/icons-material/CompareArrows'\nimport { Paper, Box } from '@mui/material'\n\nexport default function OrderDropdown({ litTextsOrder, handleLitTextsOrder, handleReverseClick }) {\n\tconst valuesArr = [\n\t\t[\"author\", \"Author\"],\n\t\t[\"title\", \"Title\"],\n\t\t[\"date\", \"Date\"],\n\t\t[\"activity\", \"Activity\"],\n\t\t[\"added\", \"Added\"],\n\t]\n\n\t// const directionLabel = (val) => {\n\t// \tlet valTag = val.slice(val.length - 3)\n\t// \tif (valTag === \"A-Z\") {\n\t// \t\treturn \"(a-z)\"\n\t// \t} else if (valTag === \"Z-A\") {\n\t// \t\treturn \"(z-a)\"\n\t// \t} else if (valTag === \"New\") {\n\t// \t\treturn \"(newest first)\"\n\t// \t} else if (valTag === \"Old\") {\n\t// \t\treturn \"(oldest first)\"\n\t// \t}\n\t// }\n\n\n\t// const theme = useTheme();\n\t// const hoverColor =\n\t// \ttheme.palette.mode === \"light\"\n\t// \t\t? \"rgba(0, 0, 0, 0.23)\"\n\t// \t\t: \"rgba(255, 255, 255, 0.23)\";\n\t// const activeColor = theme.palette.primary.main;\t\n\n\t\n\treturn (\n\t\t<FormControl sx={{ minWidth: \"152px\", mt: 1, }} >\n\t\t\t<Paper sx={{ bgcolor: \"#fefcf9\" }}>\n\t\t\t<InputLabel id=\"arrange-by-label\">Arrange By</InputLabel>\n\t\t\t<Select\n\t\t\t\tlabelId=\"arrange-by-label\"\n\t\t\t\tid=\"arrange-by\"\n\t\t\t\tvalue={litTextsOrder}\n\t\t\t\tlabel=\"Arrange By\"\n\t\t\t\tonChange={handleLitTextsOrder}\n\t\t\t\tsx={{ bgcolor: \"#fefcf9\", minWidth: \"132px\", }}\n\t\t\t>\n\t\t\t{/* TODO: Use this example from NearHuscarl on SO to extend the Select border around the IconButton */}\n\t\t\t{/* <Select\n\t\t\t\tlabel=\"Arrange By\"\n\t\t\t\tsx={{\n\t\t\t\t\tbgcolor: \"#fefcf9\",\n\t\t\t\t\tminWidth: \"132px\",\n\t\t\t\t\t\"& fieldset\": {\n\t\t\t\t\t\tborderTopRightRadius: 0,\n\t\t\t\t\t\tborderBottomRightRadius: 0\n\t\t\t\t\t},\n\t\t\t\t\t\"&&:hover fieldset\": {\n\t\t\t\t\t\tborderRight: \"none\",\n\t\t\t\t\t\tborderLeft: `solid 1px ${hoverColor}`,\n\t\t\t\t\t\tborderTop: `solid 1px ${hoverColor}`,\n\t\t\t\t\t\tborderBottom: `solid 1px ${hoverColor}`\n\t\t\t\t\t},\n\t\t\t\t\t\"&&.Mui-focused fieldset\": {\n\t\t\t\t\t\tborderRight: \"none\",\n\t\t\t\t\t\tborderLeft: `solid 1px ${activeColor}`,\n\t\t\t\t\t\tborderTop: `solid 1px ${activeColor}`,\n\t\t\t\t\t\tborderBottom: `solid 1px ${activeColor}`\n\t\t\t\t\t},\n\t\t\t\t\t\"& + span\": {\n\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\tborderRadius: theme.shape.borderRadius + \"px\",\n\t\t\t\t\t\tborderTopLeftRadius: 0,\n\t\t\t\t\t\tborderBottomLeftRadius: 0,\n\n\t\t\t\t\t\t\"& button\": {\n\t\t\t\t\t\t\theight: \"100%\"\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t\"&:hover + span\": {\n\t\t\t\t\t\tborderColor: hoverColor,\n\t\t\t\t\t\tborder: `solid 1px ${hoverColor}`,\n\t\t\t\t\t\tborderLeft: \"none\"\n\t\t\t\t\t},\n\t\t\t\t\t\"&.Mui-focused + span\": {\n\t\t\t\t\t\tborderColor: activeColor,\n\t\t\t\t\t\tborder: `solid 1px ${activeColor}`,\n\t\t\t\t\t\tborderLeft: \"none\"\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t> */}\n\t\t\t\t{valuesArr.map((valueArr, index) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<MenuItem \n\t\t\t\t\t\t\tkey={index} \n\t\t\t\t\t\t\tvalue={valueArr[0]}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{valueArr[1]} \n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t)\n\t\t\t\t})}\n\t\t\t</Select>\n\t\t\t<Box component=\"span\" variant=\"outlined\" elevation={0} \n\t\t\t\tsx={{ \n\t\t\t\t\twidth: \"60px\",\n\t\t\t\t\tborder: 'solid 1px #bdbdbd',\n\t\t\t\t\tborderLeft: 'none',\n\t\t\t\t\tborderRadius: '5px', \n\t\t\t\t\tborderTopLeftRadius: 0,\n\t\t\t\t\tborderBottomLeftRadius: 0,\n\t\t\t\t\tpt: \"18px\",\n\t\t\t\t\tpb: \"19px\",\n\t\t\t\t}} \n\t\t\t>\n\t\t\t<IconButton \n\t\t\t\tonClick={handleReverseClick} \n\t\t\t\tsx={{ \n\t\t\t\t\theight: \"60px\",\n\t\t\t\t\t// border: 'solid 1px'\n\t\t\t\t}} \n\t\t\t>\n\t\t\t\t<CompareArrowsIcon sx={{ transform: \"rotate(90deg)\"}}/>\n\t\t\t</IconButton>\n\t\t\t</Box>\n\t\t\t</Paper>\n\t\t</FormControl>\n\t)\n}","import FormControl from '@mui/material/FormControl'\nimport InputLabel from '@mui/material/InputLabel'\nimport Select from '@mui/material/Select'\nimport MenuItem from '@mui/material/MenuItem'\nimport { Paper } from '@mui/material'\n\nexport default function FilterDropdown({ poetryProseValue, handlePoetryProseValue }) {\n\tconst valueArr = [\"All\", \"Poetry\", \"Prose\"]\n\treturn (\n\t\t<FormControl sx={{ minWidth: \"112px\", ml: 2, mt: 1, }} >\n\t\t\t<InputLabel id=\"filter-by-label\">View</InputLabel>\n\t\t\t<Paper>\n\t\t\t<Select\n\t\t\t\tlabelId=\"filter-by-label\"\n\t\t\t\tid=\"filter-by\"\n\t\t\t\tvalue={poetryProseValue}\n\t\t\t\tlabel=\"View\"\n\t\t\t\tonChange={handlePoetryProseValue}\n\t\t\t\tsx={{ minWidth: \"112px\", bgcolor: \"#fefcf9\" }}\n\t\t\t\t>\n\t\t\t\t{valueArr.map(val => \n\t\t\t\t\t<MenuItem key={val} value={val.toLowerCase()}>\n\t\t\t\t\t\t{val}\n\t\t\t\t\t</MenuItem>)\n\t\t\t\t}\n\t\t\t</Select>\n\t\t</Paper>\n\t\t</FormControl>\n\t)\n}","import { useSelector } from 'react-redux'\nimport { useState, useEffect, useMemo } from 'react'\nimport LitTextListShow from \"./LitTextListShow\"\nimport LitTextNewForm from './litTextNewForm/LitTextNewForm'\nimport OrderDropdown from './dropdowns/OrderDropdown'\nimport { Typography, Grid, TextField, Button, Tooltip, Paper } from '@mui/material'\nimport FilterDropdown from './dropdowns/FilterDropdown'\n\n\nexport default function LitTextsContainer () {\n\tconst { entities, status } = useSelector((state) => state.litTexts)\n\tconst litTextsArr = useMemo(() => {return [...entities]}, [entities])\n\n\tconst initialFiltered = () => [...litTextsArr]\n\tconst initialUnclicked = () => false\n\tconst initialOrder = () => \"author\"\n\tconst initialPPVal = () => \"all\"\n\n\tconst [filteredLitTexts, setFilteredLitTexts] = useState(initialFiltered)\n\tconst [newClicked, setNewClicked] = useState(initialUnclicked)\n\tconst [isReversed, setIsReversed] = useState(initialUnclicked)\n\tconst [litTextsOrder, setLitTextsOrder] = useState(initialOrder)\n\tconst [poetryProseValue, setPoetryProseValue] = useState(initialPPVal) \n\t\n\tuseEffect(() => {if (litTextsArr.length > 0) {\n\t\tsetFilteredLitTexts([...litTextsArr])\n\t}}, [litTextsArr])\n\n\tconst handleNewClick = () => {\n\t\tsetNewClicked(prev => !prev)\n\t}\t\t\n\tconst handleReverseClick = () => {\n\t\tsetIsReversed(prev => !prev)\n\t}\t\t\n\tconst handleLitTextsOrder = (e) => {\n\t\tsetLitTextsOrder(e.target.value)\n\t\tsetIsReversed(() => false)\n\t}\t\t\t\n\tconst handlePoetryProseValue = (e) => {\n\t\tsetPoetryProseValue(e.target.value)\n\t}\t\t\n\n\tconst handleOrderAfterNewTextAdd = () => {\n\t\tsetLitTextsOrder(() => \"added\")\n\t\tsetIsReversed(() => false)\n\t\tsetPoetryProseValue(() => \"all\")\n\t} \t\t\n\n\tconst authorAZ = (texts) => \n\t\t[...texts].sort((a, b) => \n\t\t\ta.last_name.localeCompare(b.last_name) || a.first_name.localeCompare(b.first_name)\n\t\t)\t\n\n\tconst titleAZ = (texts) => \t\n\t\t[...texts].sort((a, b) => a.title.localeCompare(b.title)\n\t\t)\n\n\tconst byPubdate = (texts) => \t\n\t\t[...texts].sort((a, b) => \n\t\t\tb.pubdate - a.pubdate\n\t\t)\t\n\n\tconst recentlyAdded = (texts) => \t\n\t\t[...texts].sort((a, b) => \n\t\t\tDate.parse(b.created_at) - Date.parse(a.created_at)\n\t\t)\t\n\n\tconst newestComment = (text) => {\n\t\tconst sorted = [...text.comments].sort((a, b) => \n\t\t\tDate.parse(b.created_at) - Date.parse(a.created_at)\n\t\t)\t\n\t\treturn sorted.length === 0 ? 0 : Date.parse(sorted[0].created_at)\n\t}\t\n\tconst recentlyCommented = (texts) => \n\t\t[...texts].sort((a, b) => \n\t\t\tnewestComment(b) - newestComment(a)\n\t\t)\t\n\n\t\n\tconst handleSearch = (e) => {\n\t\tlet keyword = e.target.value.toLowerCase()\n\t\tif (keyword === \"\") {\n\t\t\tsetFilteredLitTexts(litTextsArr)\n\t\t} else {\n\t\t\tlet results = litTextsArr.filter((lt) => \n\t\t\t\t\tlt.title.toLowerCase().includes(keyword) ||\n\t\t\t\t\tlt.author.toLowerCase().includes(keyword) ||\n\t\t\t\t\tlt.pubdate.toString().toLowerCase().includes(keyword) ||\n\t\t\t\t\tlt.content.toLowerCase().includes(keyword)\n\t\t\t)\n\t\t\tsetFilteredLitTexts(results)\n\t\t}\n\t}\n\n\tconst filterRawArr = (rawArr) => {\n\t\tlet formArr = [...rawArr]\n\t\tif (poetryProseValue === \"poetry\") {\n\t\t\tformArr = [...filteredLitTexts].filter(text => text.prose === false)\n\t\t} else if (poetryProseValue === \"prose\") {\n\t\t\tformArr = [...filteredLitTexts].filter(text => text.prose === true)\n\t\t} \n\t\treturn formArr\n\t}\n\n\t//TO-DO: Dry up this code by mapping through an array of options, if possible\n\tconst renderLitTexts = () => {\n\t\tlet filtArr = filterRawArr([...filteredLitTexts])\n\t\tlet arrTwo = []\n\t\tif (litTextsOrder === \"author\" && !isReversed) {\n\t\t\tarrTwo = [...authorAZ(filtArr)]\n\t\t} else if (litTextsOrder === \"author\") {\n\t\t\tarrTwo = [...authorAZ(filtArr).reverse()]\n\t\t} else if (litTextsOrder === \"title\" && !isReversed) {\n\t\t\tarrTwo = [...titleAZ(filtArr)]\n\t\t} else if (litTextsOrder === \"title\") {\n\t\t\tarrTwo = [...titleAZ(filtArr).reverse()]\n\t\t} else if (litTextsOrder === \"date\" && !isReversed) {\n\t\t\tarrTwo = [...byPubdate(filtArr)]\n\t\t} else if (litTextsOrder === \"date\") {\n\t\t\tarrTwo = [...byPubdate(filtArr).reverse()]\n\t\t} else if (litTextsOrder === \"activity\" && !isReversed) {\n\t\t\tarrTwo = [...recentlyCommented(filtArr)]\n\t\t} else if (litTextsOrder === \"activity\") {\n\t\t\tarrTwo = [...recentlyCommented(filtArr).reverse()]\n\t\t} else if (litTextsOrder === \"added\" && !isReversed) {\n\t\t\tarrTwo = [...recentlyAdded(filtArr)]\n\t\t} else if (litTextsOrder === \"added\") {\n\t\t\tarrTwo = [...recentlyAdded(filtArr).reverse()]\n\t\t}\n\t\treturn [...arrTwo].map((text) => <LitTextListShow key={text.id} litText={text} />)\n\t}\n\n\n  return (\n    <Grid \n\t\t\tcontainer \n\t\t\tjustifyContent=\"Center\"\t\n\t\t\talignItems=\"center\"\n\t\t>\n\t\t\t<Grid \n\t\t\t\titem xs={9} \n\t\t\t\talign=\"center\" \n\t\t\t\tjustify=\"center\">\n\t\t\t\t\t<Typography id=\"top\" variant=\"h2\" justify=\"center\" sx={{ pt:4, pb:3, fontWeight: 410 }}>Library</Typography>\n\t\t\t</Grid>\n\n\t\t\t<Grid \n\t\t\t\titem xs={10}\n\t\t\t\t>\n\t\t\t\t{status === \"loading\" ?\n\t\t\t\t\t<div className=\"centered-in-window\" >\n\t\t\t\t\t\t\t<div className=\"dot-flashing\"></div>\n\t\t\t\t\t</div>\n\t\t\t\t:\n\t\t\t\t<div>\n\t\t\t\t\t\t<div style={{ display:\"flex\", justifyContent:\"center\", marginBottom: \"32px\" }}>\n\t\t\t\t\t\t\t<OrderDropdown \n\t\t\t\t\t\t\t\tlitTextsOrder={litTextsOrder} \n\t\t\t\t\t\t\t\thandleLitTextsOrder={handleLitTextsOrder} \n\t\t\t\t\t\t\t\thandleReverseClick={handleReverseClick}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<FilterDropdown\n\t\t\t\t\t\t\t\tpoetryProseValue={poetryProseValue}\n\t\t\t\t\t\t\t\thandlePoetryProseValue={handlePoetryProseValue}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Paper sx={{ mt: \"8px\", mb: 2, ml: 2, width: \"36%\" }}>\n\t\t\t\t\t\t\t<TextField \n\t\t\t\t\t\t\t\televation={1}\n\t\t\t\t\t\t\t\tid=\"search\"\n\t\t\t\t\t\t\t\tlabel=\"Search\"\n\t\t\t\t\t\t\t\tvariant=\"filled\"\n\t\t\t\t\t\t\t\tsx={{ width: \"100%\" }}\n\t\t\t\t\t\t\t\tonChange={e => handleSearch(e)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t\t<Paper sx={{ ml: 2, mt: \"8px\", height: \"61.75px\" }}>\n\t\t\t\t\t\t\t<Tooltip title=\"Add New Story or Poem\" arrow>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={() => handleNewClick()} \n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tsx={{ height: \"61.75px\" }}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Typography variant=\"body2\" sx={{ fontColor: \"#fefcf9\", fontSize: \"40px\", marginTop: \"0px\", fontWeight: \"999\"}}>+</Typography>\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t{newClicked ? \n\t\t\t\t\t\t\t\t\t<LitTextNewForm \n\t\t\t\t\t\t\t\t\t\thandleNewClick={handleNewClick} \n\t\t\t\t\t\t\t\t\t\thandleLitTextsOrder={handleOrderAfterNewTextAdd} \n\t\t\t\t\t\t\t\t\t\thandlePoetryProseValue={handlePoetryProseValue}\n\t\t\t\t\t\t\t\t\t\tisEdit={false}\n\t\t\t\t\t\t\t\t\t\tlitText={null}\n\t\t\t\t\t\t\t\t\t\treRender={null}\n\t\t\t\t\t\t\t\t\t/> \n\t\t\t\t\t\t\t\t: null}\n\n\t\t\t\t{status === \"error\" ? <Typography variant=\"body2\" sx={{ color: \"#701010\", textAlign: \"center\", my: 1 }}><b>We're sorry. There's been an error uploading your text.</b></Typography> : null}\n\t\t\t\n\t\t\t\t\t\t{renderLitTexts()}\n\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t</Grid>\n\t\t</Grid>\n\t)\n}","import { ToggleButton, ToggleButtonGroup, Box, } from '@mui/material'\n\nexport default function ToggleGroup({ comTypes, handleComTypes, isParentQuestion }) {\n\tconst optionArr = [\n\t\t[1, \"Reading\"],\n\t\t[5, \"Feelings\"],\n\t\t[2, \"Question\"],\n\t\t[3, \"Lore\"],\n\t\t[6, \"Critique\"],\n\t]\n\treturn (\n\t\t<Box textAlign=\"center\">\n\t\t\t<ToggleButtonGroup\n\t\t\t\tvalue={comTypes}\n\t\t\t\tonChange={handleComTypes}\n\t\t\t\taria-label=\"Comment Types\"\n\t\t\t\tsize=\"small\"\n\t\t\t\tsx={{ bgcolor: \"#fefcf9\", mb: 1 }}\n\t\t\t>\n\t\t\t\t{isParentQuestion ? \n\t\t\t\t\t<ToggleButton \n\t\t\t\t\t\tvalue={4}\n\t\t\t\t\t\taria-label=\"Answer\"\n\t\t\t\t\t>\n\t\t\t\t\t\tAnswer\n\t\t\t\t\t</ToggleButton>\t\t\t\t\n\t\t\t\t: null }\n\t\t\t\t{optionArr.map(op => \n\t\t\t\t\t<ToggleButton\n\t\t\t\t\t\tkey={op[0]} \n\t\t\t\t\t\tvalue={op[0]}\n\t\t\t\t\t\taria-label={op[1]}\n\t\t\t\t\t>\t\n\t\t\t\t\t\t{op[1]}\t\t\t\n\t\t\t\t\t</ToggleButton>\n\t\t\t\t)}\n\t\t\t</ToggleButtonGroup>\n\t\t</Box>\n\t)\n}","import { useState } from 'react'\nimport { useSelector, useDispatch } from \"react-redux\"\nimport { postComment } from './commentsSlice'\nimport { addCommentToLitText } from '../litTexts/litTextsSlice'\nimport { addCommentToUser } from '../users/allUsersSlice'\nimport { Grid, Paper, TextareaAutosize, Button, Typography } from '@mui/material'\nimport ToggleGroup from './ToggleGroup'\n\n// TODO: Merge this form with CommentEditForm\nexport default function CommentNewForm({ litTextId, parentCommentId, replyButtonClick, isParentQuestion }) {\n  const userState = useSelector((state) => state.user)\n  const user = userState.entities.length > 0 ? userState.entities[0] : null\n\t\n  const [formData, setFormData] = useState({\n\t\tuser_id: user.id,\n\t\tlit_text_id: litTextId,\n\t\tparent_comment_id: parentCommentId,\n\t\tcontent: \"\",\n\t\tcom_type_ids: []\n\t});\n\tconst [error, setError] = useState(null)\n\n\tconst addNewWhat = parentCommentId ? \"Post a new reply...\" : \"Post a new comment...\"\n\n  function handleChange(e) {\n\t\tsetFormData(formData => {\n\t\t\treturn({\n\t\t\t\t...formData,\n\t\t\t\t[e.target.name]: e.target.value,\n\t\t\t})\n\t\t})\n\t\t// console.log(\"handleChange\", formData)\n  }\n\n\tconst handleComTypes = (event, newComTypes) => {\n\t\tsetFormData(formData => { \n\t\t\treturn ({\n\t\t\t\t...formData,\n\t\t\t\tcom_type_ids: newComTypes \n\t\t\t})\n\t\t})\n\t\tsetError(() => null)\n\t\t// console.log(\"handleComTypes\", formData.com_type_ids)\n\t}\n\n\tconst dispatch = useDispatch()\n\t\n  function handleSubmit(e) {\n    e.preventDefault();\n\t\tif (formData.com_type_ids.length === 0) {\n\t\t\tsetError(() => \"You must select at least one type\")\n\t\t} else {\n\t\t\tdispatch(postComment(formData))\n\t\t\tdispatch(addCommentToLitText(formData))\n\t\t\tdispatch(addCommentToUser(formData))\n\t\t\tsetFormData({\n\t\t\t\t\t...formData,\n\t\t\t\t\tcontent: \"\",\n\t\t\t\t\tcom_type_ids: []\n\t\t\t\t})\n\t\t\tif (parentCommentId) replyButtonClick((prevState) => !prevState)\n\t\t}\n\t}\n\n  \n  return (\n\t\t<Grid \n\t\t\titem xs={10} sm={11} md={10} \n\t\t\tsx={{ minWidth: 350, width: \"100%\" }}\n\t\t>\n      <Paper elevation={6} sx={{ \n\t\t\t\tpx:3, pt:4, pb:1, \n\t\t\t\tmb:2, \n\t\t\t\tbackgroundColor: \"#fefcf9\" \n\t\t\t}} >\t\t\t\n\n\t\t\t\t{error ? \n\t\t\t\t\t<Typography \n\t\t\t\t\t\tvariant=\"body2\" \n\t\t\t\t\t\tsx={{ color: \"#701010\", textAlign: \"center\", my: 1 }}\n\t\t\t\t\t>\n\t\t\t\t\t\t<b>{error}</b>\n\t\t\t\t\t</Typography> \n\t\t\t\t: null}\n\n\t\t\t\t<ToggleGroup \n\t\t\t\t\tcomTypes={formData.com_type_ids} \n\t\t\t\t\thandleComTypes={handleComTypes} \n\t\t\t\t\tisParentQuestion={isParentQuestion} \n\t\t\t\t/>\n\n\t\t\t\t<form \n\t\t\t\t\tstyle={{ width: \"100%\" }} \n\t\t\t\t\tonSubmit={handleSubmit} \n\t\t\t\t> \n\t\t\t\t\t<div style={{ \n\t\t\t\t\t\theight: 10, \n\t\t\t\t\t\tvisibility: \"hidden\" \n\t\t\t\t\t}}>\n\t\t\t\t\t\tLaborum quam praesentium. Non reiciendis facilis. Ut sunt saepe. Voluptatum facilis dignissimos. \n\t\t\t\t\t</div>\n\t\t\t\t\t<TextareaAutosize \n\t\t\t\t\t\taria-label=\"minimum height\"\n\t\t\t\t\t\tminRows={3}\n\t\t\t\t\t\tplaceholder={addNewWhat}\n\t\t\t\t\t\tvalue={formData.content} \n\t\t\t\t\t\tid=\"content\"\n\t\t\t\t\t\tname=\"content\"\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\tstyle={{ width: \"100%\", }}\n\t\t\t\t\t/>\n\t\t\t\t\t<div style={{ \n\t\t\t\t\t\twidth: \"100%\", \n\t\t\t\t\t\tdisplay: \"flex\", \n\t\t\t\t\t\tjustifyContent: \"center\", \n\t\t\t\t\t\ttextAlign: \"center\"  \n\t\t\t\t\t}} >\n\t\t\t\t\t\t<Button \n\t\t\t\t\t\t\tvariant=\"contained\" \n\t\t\t\t\t\t\ttype='submit' \n\t\t\t\t\t\t\tsx={{ my: 2, p: 1 }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<b>Post</b>\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t</Paper>\n\t  </Grid>\n  )\n}","\n\nexport default function TimeAgo({ time }) {\n\n\tconst timeNow = new Date().getTime()\n\tconst timeThen = new Date(time).getTime()\n\tconst timeDiff = parseInt((timeNow - timeThen)) / 1000\n\tconst timeDisplayMins = parseInt(timeDiff/60)\n\tconst timeDisplayHours = parseInt(timeDiff/3600)\n\tconst timeDisplayDays = parseInt(timeDiff/(86400))\n\tconst timeDisplayWeeks = parseInt(timeDiff/(604800))\n\tconst timeDisplayMonths = parseInt(timeDiff/(86400 * 30))\n\tconst timeDisplayYears = parseInt(timeDiff/(86400 * 365))\n\n\tconst timeToDisplay = () => {\n\t\tif (timeDiff < 300) {\n\t\t\treturn('just now')\n\t\t} else if (timeDiff < 3600) {\n\t\t\treturn(`${timeDisplayMins} mins ago`)\t\t\n\t\t} else if (timeDiff < 7200) {\n\t\t\treturn(\"1 hour ago\")\n\t\t} else if (timeDiff < 86400) {\n\t\t\treturn(`${timeDisplayHours} hours ago`)\n\t\t} else if (timeDiff < 172800) {\n\t\t\treturn(\"1 day ago\")\n\t\t} else if (timeDiff < 604800) {\n\t\t\treturn(`${timeDisplayDays} days ago`)\n\t\t} else if (timeDiff < 1209600) {\n\t\t\treturn(\"1 week ago\")\n\t\t} else if (timeDiff < 2592000) {\n\t\t\treturn(`${timeDisplayWeeks} weeks ago`)\n\t\t} else if (timeDiff < 5184000) {\n\t\t\treturn(\"1 month ago\")\n\t\t} else if (timeDiff < 31104000) {\n\t\t\treturn(`${timeDisplayMonths} months ago`)\n\t\t} else if (timeDiff < 62208000) {\n\t\t\treturn(\"1 year ago\")\n\t\t} else {\n\t\t\treturn(`${timeDisplayYears} years ago`)\n\t\t}\n\t}\n\n\treturn (\n\t\t<span>{timeToDisplay()}</span>\n\t)\n}","import TimeAgo from \"./TimeAgo\";\nimport { Typography, Box } from '@mui/material'\n\nexport default function TimeAgoContainer({ created_at, updated_at, isDeleted, fromLitTextShow, uploader, handleUploaderClick }) {\n\n\tconst includeUploaded = () => {\n\t\tif (fromLitTextShow) {\n\t\t\treturn (\n\t\t\t\t<Box \n\t\t\t\t\tcomponent=\"span\" \n\t\t\t\t\tonClick={handleUploaderClick}\n\t\t\t\t\tsx={{ \n\t\t\t\t\t\tcursor: \"pointer\",\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tuploaded by <Box \n\t\t\t\t\t\tcomponent=\"span\" \n\t\t\t\t\t\tsx={{textDecoration: \"underline\"}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{uploader}\n\t\t\t\t\t</Box>\n\t\t\t\t</Box> \n\t\t\t)\n\t\t} else {\n\t\t\treturn null\n\t\t} \n\t}\n\tconst secondTerm = isDeleted ? \" (deleted \" : \" (updated \"\n\n\treturn (\n\t\t<Typography variant=\"caption\" sx={{ color: \"#757575\", mb: 1 }} >\n\t\t\t<em>{includeUploaded()} <TimeAgo time={created_at} /></em>\n\t\t\t{created_at === updated_at ? \n\t\t\t\tnull :\n\t\t\t\t<em>\n\t\t\t\t\t{secondTerm}\n\t\t\t\t\t<TimeAgo time={updated_at} />\n\t\t\t\t\t)\n\t\t\t\t</em>\n\t\t\t}\n\t\t</Typography>\n\t)\n}","import { useDispatch, useSelector } from \"react-redux\"\nimport { useState } from \"react\"\nimport { patchComment } from './commentsSlice'\nimport { Paper, TextareaAutosize, Button, Typography } from '@mui/material'\nimport ToggleGroup from './ToggleGroup'\n\n// TODO: Merge this form with CommentNewForm\nexport default function CommentEditForm({ comment, editButtonClick }) {\n\tconst comTypes = comment.com_types.map(type => type.id)\n\tconst [formData, setFormData] = useState({\n\t\tid: comment.id,\n\t\tuser_id: comment.user.id,\n\t\tlit_text_id: comment.litTextId,\n\t\tparent_comment_id: comment.parent_comment_id,\n\t\tcontent: comment.content,\n\t\tcom_type_ids: [...comTypes]\n\t})\n\tconst [error, setError] = useState(null)\n\tconst dispatch = useDispatch()\n\tconst addNewWhat = comment.parentCommentId ? \"Edit your reply...\" : \"Edit your comment...\"\n\n\tconst parentState = useSelector(state => {\n\t\tif (comment.parent_comment_id) {\t\t\t\n\t\t\tlet parentCom = {...state.comments.entities.find(c => c.id === comment.parent_comment_id)} \n\t\t\treturn parentCom\n\t\t} else {\n\t\t\treturn null\n\t\t}\n\t})\n\tconst isParentQuestion = () => {\n\t\tif (parentState) {\n\t\t\tif (parentState.com_types.find(type => type.id === 2)) {\n\t\t\t\treturn true\n\t\t\t}\n\t\t} else {\n\t\t\treturn false\n\t\t}\n\t}\n\n  function handleChange(e) {\n\t\tsetFormData({\n\t\t\t...formData,\n\t\t\t[e.target.name]: e.target.value,\n\t\t})\n  }\n\n\tconst handleComTypes = (event, newComTypes) => {\n\t\tsetFormData(formData => { \n\t\t\treturn ({\n\t\t\t\t...formData,\n\t\t\t\tcom_type_ids: newComTypes \n\t\t\t})\n\t\t})\n\t\t// console.log(\"handleComTypes\", formData.com_type_ids)\n\t}\n\t\n  function handleSubmit(e) {\n    e.preventDefault();\n\t\tif (formData.com_type_ids.length === 0) {\n\t\t\tsetError(() => \"You must select at least one type\")\n\t\t} else {\n\t\t\tdispatch(patchComment(formData))\n\t\t\teditButtonClick((prevState) => !prevState)\n\t\t}\n\t}\n\n\n\treturn (\n\t\t<Paper sx={{ \n\t\t\tpx:3, pt:4, \n\t\t\tpb:1, mb:2, \n\t\t\tbackgroundColor: \"#ebe3e1\" \n\t\t}} >\t\t\t\n\n\t\t\t{error ? \n\t\t\t\t<Typography \n\t\t\t\t\tvariant=\"body2\" \n\t\t\t\t\tsx={{ color: \"#701010\", textAlign: \"center\", my: 1 }}\n\t\t\t\t>\n\t\t\t\t\t<b>{error}</b>\n\t\t\t\t</Typography> \n\t\t\t: null}\n\n\t\t\t<ToggleGroup \n\t\t\t\tcomTypes={formData.com_type_ids} \n\t\t\t\thandleComTypes={handleComTypes} \n\t\t\t\tisParentQuestion={isParentQuestion()}\n\t\t\t/>\t\t\t\n\t\t\t\t\n\t\t\t<form style={{ width: \"100%\" }} onSubmit={handleSubmit} > \n\t\t\t\t<div style={{ height: 10, visibility: \"hidden\" }}>\n\t\t\t\t\tLaborum quam praesentium. Non reiciendis facilis. Ut sunt saepe. \n\t\t\t\t</div>\n\t\t\t\t<TextareaAutosize \n\t\t\t\t\taria-label=\"minimum height\"\n\t\t\t\t\tminRows={3}\n\t\t\t\t\tplaceholder={addNewWhat}\n\t\t\t\t\tvalue={formData.content} \n\t\t\t\t\tid=\"content\"\n\t\t\t\t\tname=\"content\"\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\tstyle={{ width: \"100%\" }}\n\t\t\t\t/>\n\t\t\t\t<div style={{ \n\t\t\t\t\twidth: \"100%\", \n\t\t\t\t\tdisplay: \"flex\", \n\t\t\t\t\tjustifyContent: \"center\", \n\t\t\t\t\ttextAlign: \"center\"  \n\t\t\t\t}} >\n\t\t\t\t\t<Button \n\t\t\t\t\t\tvariant=\"contained\" \n\t\t\t\t\t\ttype='submit' \n\t\t\t\t\t\tsx={{ my: 2, p: 1 }}\n\t\t\t\t\t>\n\t\t\t\t\t\t<b>Post</b>\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t\t\t\t\t\n\t\t</Paper>\n\t)\n}","import { Tooltip } from '@mui/material'\n\nexport default function CommentType({ comTypes }) {\n\n\tconst renderTypes = () => comTypes.map(c => {\n\t\treturn (\n\t\t\t<Tooltip \n\t\t\t\tkey={`t${c.id}`} \n\t\t\t\ttitle={c.name} \n\t\t\t\tarrow \n\t\t\t>\n\t\t\t\t<span \n\t\t\t\t\tkey={c.id} \n\t\t\t\t\tstyle={{ \n\t\t\t\t\t\tcolor: \"#102027\", \n\t\t\t\t\t\tbackgroundColor: \"#e0e0e0\", \n\t\t\t\t\t\tpadding: 7, \n\t\t\t\t\t\tpaddingRight: 11, \n\t\t\t\t\t\tpaddingLeft: 11, \n\t\t\t\t\t\tmarginLeft: 11, \n\t\t\t\t\t\tborderRadius: \"25px\", \n\t\t\t\t\t\tfontSize: 16 \n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<b>{c.name.charAt(0)}</b>\n\t\t\t\t</span>\n\t\t\t</Tooltip>\n\t\t)\n\t})\n\n\n\treturn (\n\t\t<span style={{ fontSize: 12, padding: 3, marginLeft: 5, position: \"absolute\", top: 23, right: 5 }} ><b>\n\t\t{renderTypes()}\n\t\t</b></span>\n\t)\n}","import { useState, useMemo } from \"react\"\nimport { useHistory } from \"react-router\"\nimport { useSelector, useDispatch } from \"react-redux\"\nimport TimeAgoContainer from \"../shared/TimeAgoContainer\"\nimport CommentEditForm from \"./CommentEditForm\"\nimport CommentType from \"./CommentType\"\nimport CommentNewForm from \"./CommentNewForm\"\nimport { destroyComment, patchComment } from \"./commentsSlice\"\nimport { Avatar, Grid, Typography, IconButton, Button, Popper, Fade, Box } from '@mui/material'\nimport { styled } from '@mui/material/styles';\nimport Tooltip, { tooltipClasses } from '@mui/material/Tooltip'\nimport EditIcon from '@mui/icons-material/Edit'\nimport EditOffIcon from '@mui/icons-material/EditOff'\nimport DeleteIcon from '@mui/icons-material/Delete'\nimport AddCommentIcon from '@mui/icons-material/AddComment'\nimport CancelIcon from '@mui/icons-material/Cancel'\n\n\nexport default function ComRepShow({ comment, litTextId }) {\n\tconst [editClicked, setEditClicked] = useState(false)\n\tconst [replyClicked, setReplyClicked] = useState(false)\n\tconst [errors, setErrors] = useState([])\n\tconst [deleteClicked, setDeleteClicked] = useState(false)\n\tconst [anchorEl, setAnchorEl] = useState(null)\n\n  const userState = useSelector((state) => state.user)\n  const userId = userState.entities.length > 0 ? userState.entities[0].id : null\n\n\tconst dispatch = useDispatch() \n\tconst history = useHistory()\n\n\tconst isParentQuestion = () => {\n\t\tif (comment.com_types.find(type => type.id === 2)) {\n\t\t\t\treturn true\n\t\t} else {\n\t\t\treturn false\n\t\t}\n\t}\n\n\tconst showComment = useMemo(() => {return ({\n\t\tfullname: comment.user.name,\n\t\tusername: comment.user.username,\n\t\timage: comment.user.image,\n\t\tcontent: comment.content,\n\t\tcreated_at: comment.created_at,\n\t\tupdated_at: comment.updated_at,\n\t\tparent_comment_id: comment.parent_comment_id,\n\t\tdeleted: comment.deleted,\n\t\tid: comment.id,\n\t\tcom_types: comment.com_types\n\t})}, [comment])\n\n\tconst deletedComment = useMemo(() => {return ({\n\t\tfullname: \"\",\n\t\tusername: \"\",\n\t\tcontent: <em style={{ color: \"#616161\" }}>[this comment was deleted]</em>,\n\t\tcreated_at: comment.created_at,\n\t\tupdated_at: comment.updated_at,\n\t\tparent_comment_id: comment.parent_comment_id,\n\t\tdeleted: true,\n\t\tid: comment.id,\n\t\tcom_types: []\n\t})}, [comment])\n\n\tconst renderComment = useMemo(() => {\n\t\treturn comment.deleted ? deletedComment : showComment}, [comment, deletedComment, showComment])\n\n\n\tconst comTypeIds = comment.com_types.map(type => type.id)\n\n\tconst handleDeleteClick = (e) => {\n    setAnchorEl(e.currentTarget)\n\t\tsetDeleteClicked(prev => !prev)\n\t}\n\tconst canBeOpen = deleteClicked && Boolean(anchorEl)\n  const popperId = canBeOpen ? 'transition-popper' : undefined\t\n\n\tfunction handleDelete(e) {\n\t\tsetEditClicked(() => false)\n\t\te.preventDefault()\n\t\tif (comment.replies.length > 0 || comment.parent_comment_id) {\n\t\t\tconst changeCom = {\n\t\t\t\t...comment,\n\t\t\t\tcom_type_ids: [...comTypeIds],\n\t\t\t\tdeleted: true\n\t\t\t}\n\t\t\tdispatch(patchComment(changeCom))\n\t\t} else {\n\t\t\tlet id = comment.id\n\t\t\tdispatch(destroyComment(id))\n\t\t}\n\t}\n\n\n\tfunction editButtonClick() {\n\t\tsetEditClicked(!editClicked)\n\t\tsetReplyClicked(false)\n\t}\n\n\tfunction replyButtonClick() {\n\t\tsetReplyClicked(!replyClicked)\n\t\tsetEditClicked(false)\n\t}\n\n\tconst userClicked = () => {\n\t\thistory.push(`/users/${comment.user.id}`)\n\t}\n\n\tfunction wrapSetErrors(data){\n\t\tsetErrors(data)\n\t}\n\n\n\tconst ghost = <span role=\"img\" aria-label=\"ghost\">  </span>\n\n\tconst DeleteTooltip = styled(({ className, ...props }) => (\n\t\t<Tooltip {...props} classes={{ popper: className }} />\n\t))(({ theme }) => ({\n\t\t[`& .${tooltipClasses.arrow}`]: {\n\t\t\tcolor: \"#732626\",\n\t\t},\n\t\t[`& .${tooltipClasses.tooltip}`]: {\n\t\t\tbackgroundColor: \"#732626\",\n\t\t},\n\t}))\n\n\n\treturn (\n\t\t<div style={{ position: \"relative\"}}>\n\t\t\t<Grid item xs={12} >\n\t\t\t\t<Grid container spacing={2} wrap=\"nowrap\">\n\n\t\t\t\t\t{renderComment.deleted ? null : \n\t\t\t\t\t\t<CommentType comTypes={renderComment.com_types} />\n\t\t\t\t\t}\n\n\t\t\t\t\t<Grid item >\n\t\t\t\t\t\t{renderComment.deleted ? \n\t\t\t\t\t\t\t<Avatar sx={{ bgcolor: \"#eee\" }}>\n\t\t\t\t\t\t\t\t{ghost}\n\t\t\t\t\t\t\t</Avatar>\n\t\t\t\t\t\t: \n\t\t\t\t\t\t\t<Avatar \n\t\t\t\t\t\t\t\talt={renderComment.fullname} \n\t\t\t\t\t\t\t\tsrc={renderComment.image} \n\t\t\t\t\t\t\t\tsx={{ cursor: \"pointer\", width: 60, height: 60, }} \n\t\t\t\t\t\t\t\tonClick={() => userClicked()} \n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid justifyContent=\"left\" item xs={9}>\n\t\t\t\t\t\t<Typography \n\t\t\t\t\t\t\tonClick={userClicked} \n\t\t\t\t\t\t\tsx={{ cursor: \"pointer\", fontSize: 25, fontWeight: 401, mb: -1, pb: 0 }} \n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{renderComment.fullname}\n\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t{renderComment.deleted ? \n\t\t\t\t\t\t\t<Typography variant=\"body1\" sx={{ mt:\"12px\", mb:1 }}>\n\t\t\t\t\t\t\t\t{renderComment.content}\n\t\t\t\t\t\t\t</Typography>\t \n\t\t\t\t\t\t: \n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<Typography variant=\"subtitle2\" onClick={userClicked} sx={{ cursor: \"pointer\", mt: 0, pt: 0, color: \"#757575\", fontWeight: 400 }} ><em>@{renderComment.username}</em></Typography>\n\t\t\t\t\t\t\t<Typography variant=\"body1\" sx={{ mt:2, mb:1 }}>\n\t\t\t\t\t\t\t\t{renderComment.content}\n\t\t\t\t\t\t\t</Typography>\t\n\t\t\t\t\t\t</>\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t<TimeAgoContainer \n\t\t\t\t\t\t\tcreated_at={renderComment.created_at} \n\t\t\t\t\t\t\tupdated_at={renderComment.updated_at} \n\t\t\t\t\t\t\tisDeleted={renderComment.deleted} \n\t\t\t\t\t\t\tfromLitTextShow={false}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t{errors ? errors.map((e) => <div>{e}</div>) : null}\n\t\t\t\t\t<div style={{ position: \"relative\" }}>\n\t\t\t\t\t\t{!renderComment.parent_comment_id && !renderComment.deleted ?\n\t\t\t\t\t\t\t<Tooltip title=\"Reply\" arrow>\n\t\t\t\t\t\t\t\t<IconButton sx={{ color: \"#757575\", ml:9, mt:2, }} onClick={replyButtonClick}>\n\t\t\t\t\t\t\t\t\t{replyClicked ? <CancelIcon/> : <AddCommentIcon/>} \n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t: null}\n\t\t\t\t\t\t{parseInt(comment.user.id) === parseInt(userId) && !renderComment.deleted ? \n\t\t\t\t\t\t\t<div style={{ justifyContent: \"right\" }} >\n\t\t\t\t\t\t\t\t<IconButton id=\"deleteButton1\" onClick={handleDeleteClick} sx={{ color: \"#732626\", position: \"absolute\", right: 45, bottom: 5, mt:2, mb:0 }}>\n\t\t\t\t\t\t\t\t\t<DeleteTooltip title=\"Delete\" arrow>\n\t\t\t\t\t\t\t\t\t\t<DeleteIcon size=\"large\" sx={{ color: \"#732626\" }} /> \n\t\t\t\t\t\t\t\t\t</DeleteTooltip>\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t<Popper \n\t\t\t\t\t\t\t\t\tid={popperId} \n\t\t\t\t\t\t\t\t\topen={deleteClicked} \n\t\t\t\t\t\t\t\t\tanchorEl={anchorEl} \n\t\t\t\t\t\t\t\t\tplacement=\"top\" \n\t\t\t\t\t\t\t\t\tmodifiers={[\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'preventOverflow',\n\t\t\t\t\t\t\t\t\t\t\tenabled: true,\n\t\t\t\t\t\t\t\t\t\t\toptions: {\n\t\t\t\t\t\t\t\t\t\t\t\taltAxis: true,\n\t\t\t\t\t\t\t\t\t\t\t\taltBoundary: true,\n\t\t\t\t\t\t\t\t\t\t\t\ttether: true,\n\t\t\t\t\t\t\t\t\t\t\t\trootBoundary: 'document',\n\t\t\t\t\t\t\t\t\t\t\t\tpadding: 5,\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t\ttransition>\n\t\t\t\t\t\t\t\t\t{({ TransitionProps }) => (\n\t\t\t\t\t\t\t\t\t\t<Fade {...TransitionProps} timeout={350}>\n\t\t\t\t\t\t\t\t\t\t\t<Box sx={{ border: 1, p: 3, m: 2, bgcolor: 'background.paper', display:\"flex\", justifyContent: \"center\", borderColor: \"#660000\" }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant=\"contained\" onClick={handleDeleteClick} sx={{ mr: 3, bgcolor: \"6d4c41\" }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant=\"contained\" onClick={handleDelete} sx={{ bgcolor: \"#660000\" }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tDelete\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t{/* </Box> */}\n\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t</Fade>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Popper>\t\n\t\t\t\t\t\t\t\t<Tooltip title=\"Edit\" arrow >\n\t\t\t\t\t\t\t\t\t<IconButton sx={{ color: \"#757575\", position: \"absolute\", right: 5, bottom: 5, mt:3, }} onClick={editButtonClick} >\n\t\t\t\t\t\t\t\t\t{editClicked ? <EditOffIcon/> : <EditIcon/>}\n\t\t\t\t\t\t\t\t\t</IconButton> \n\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t{!renderComment.parent_comment_id ? null: <AddCommentIcon sx={{ visibility: \"hidden\", mt:2, mb:2}} />}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t: null}\t\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t{editClicked ? \n\t\t\t\t\t\t<CommentEditForm \n\t\t\t\t\t\t\tcomment={comment}\n\t\t\t\t\t\t\teditButtonClick={editButtonClick}\n\t\t\t\t\t\t\twrapSetErrors={wrapSetErrors}\n\t\t\t\t\t\t/> \n\t\t\t\t\t: null}\n\n\t\t\t\t\t{replyClicked ? \n\t\t\t\t\t\t<CommentNewForm \n\t\t\t\t\t\t\tlitTextId={litTextId} \n\t\t\t\t\t\t\tparentCommentId={comment.id} \n\t\t\t\t\t\t\treplyButtonClick={replyButtonClick} \t\t\t\t\t\t\n\t\t\t\t\t\t\tisParentQuestion={isParentQuestion()}\n\t\t\t\t\t\t/>\n\t\t\t\t\t: null} \n\n\t\t\t\t</Grid>\n\t\t\t</Grid>\t\n\t\t</div>\n\t)\n}","import ComRepShow from \"./ComRepShow\";\nimport { Divider } from \"@mui/material\";\n\nexport default function RepliesList({ replies, litTextId }) {\n\tconst oldestFirst = replies.sort((a, b) => a.id - b.id)\n\n\tconst renderReplies = oldestFirst.map ((r) =>\n\t<div style={{ paddingLeft: 40, paddingBottom: 10 }} key={`${r.id}div`} >\n\t\t<Divider variant=\"fullWidth\" style={{ margin: \"0 0 30px 0\" }} />\n\t\t<ComRepShow \n\t\t\tkey={r.id} \n\t\t\tcomment={r} \n\t\t\tlitTextId={litTextId}\n\t\t/>\n\t</div>)\t\n\n\treturn(\n\t\t<div style={{ paddingLeft: 10, paddingTop: 10, paddingBottom: 10 }} >\n\t\t\t\t{renderReplies}\n\t\t</div>\n\t)\n}","import { useSelector } from \"react-redux\"\nimport ComRepShow from \"./ComRepShow\"\nimport RepliesList from \"./RepliesList\"\nimport { Grid, Paper } from '@mui/material'\n\nexport default function CommentShow({ comment, replies, litTextId }) {\n\tconst unDeletedArr = [comment, ...replies].filter(com => com.deleted === false)\n\t// console.log(\"unDeletedArr\", unDeletedArr)\n\n\tconst commentState = useSelector((state) => state.comments)\n\tconst undeletedChildren = () => [...commentState.entities].filter(com => com.parent_comment_id === comment.id && com.deleted === false)\n\n\treturn (\n\t\t<>\n\t\t{unDeletedArr.length > 0 || undeletedChildren().length > 0 ?\n\t\t<Grid \n\t\t\titem xs={10} sx={{ minWidth: 350 }}\n\t\t>\n      <Paper sx={{ px:3, pt:4, pb:1, mb:2, }} elevation={3}>\t\t\t\n\t\t\t<ComRepShow \n\t\t\t\tkey={comment.id} \n\t\t\t\tcomment={comment}\n\t\t\t\tlitTextId={litTextId}\n\t\t\t/>\n\t\t\t{replies.length > 0 ? \n\t\t\t\t<>\n\t\t\t\t<RepliesList \n\t\t\t\t\treplies={replies} \n\t\t\t\t\tlitTextId={litTextId}\n\t\t\t\t/> \n\t\t\t\t</>\n\t\t\t: null}\t\n\t\t\t</Paper>\t\n\t\t</Grid>\n\t\t: null}\n\t\t</>\n\t)\n}","import FormControl from '@mui/material/FormControl'\nimport InputLabel from '@mui/material/InputLabel'\nimport Select from '@mui/material/Select'\nimport MenuItem from '@mui/material/MenuItem'\n\nexport default function ComTypeDropdown({ comTypes, handleComType }) {\n\tconst itemsArr = [\n\t\t[\"all\", \"All\"],\n\t\t[1, \"Readings\"],\n\t\t[2, \"Questions\"],\n\t\t[4, \"Answers\"],\n\t\t[3, \"Lore\"],\n\t\t[5, \"Feelings\"],\n\t\t[6, \"Critiques\"],\n\t]\n\treturn (\n\t\t<FormControl sx={{ minWidth: \"112px\", ml: 2, mt: 1, }} >\n\t\t\t<InputLabel id=\"filter-by-comType\">View</InputLabel>\n\t\t\t<Select\n\t\t\t\tlabelId=\"filter-by-comType\"\n\t\t\t\tid=\"filter-by\"\n\t\t\t\tmultiple\n\t\t\t\tvalue={comTypes}\n\t\t\t\tlabel=\"View\"\n\t\t\t\tonChange={handleComType}\n\t\t\t\tsx={{ bgcolor: \"#f4f3f0\" }}\n\t\t\t>\n\t\t\t\t{itemsArr.map(item => \n\t\t\t\t\t<MenuItem key={item[0]} value={item[0]}>\n\t\t\t\t\t\t{item[1]} \n\t\t\t\t\t</MenuItem>\n\t\t\t\t)}\n\t\t\t</Select>\n\t\t</FormControl>\n\t)\n}","import { useState } from \"react\"\nimport { useSelector } from \"react-redux\"\nimport { Grid, Tooltip } from '@mui/material'\nimport CommentNewForm from '../comments/CommentNewForm.js'\nimport CommentShow from \"./CommentShow\"\nimport ComTypeDropdown from \"./ComTypeDropdown.js\"\nimport { HashLink } from 'react-router-hash-link'\nimport AddCommentIcon from '@mui/icons-material/AddComment'\n\nexport default function CommentsList({ litTextId }) {\n\tconst [comTypes, setComTypes] = useState([\"all\"])\n\n\tconst stateComments = useSelector((state) => state.comments)\n\tconst allComments = [...stateComments.entities]\n\tconst showTextComments = allComments.filter((c) => c.lit_text_id === litTextId)\n\n\tconst parentComments = showTextComments.filter((c) => c.parent_comment_id === null)\n\tconst oldestFirst = parentComments.sort((a, b) => a.id - b.id)\n\n\tconst isComIncluded = (com) => {\n\t\tconst typesArr = com.com_types.map(type => type.id)\n\t\tconst filteredTypes = typesArr.filter((id) => comTypes.includes(id))\n\t\treturn filteredTypes.length > 0 ? com : null\n\t}\n\n\tconst filteredComments = (arr) => {\n\t\tif (comTypes.includes(\"all\")) {\n\t\t\treturn arr\n\t\t} else {\n\t\t\treturn arr.filter(com => {\n\t\t\t\tconst replies = showTextComments.filter((r) => r.parent_comment_id === com.id)\n\t\t\t\tconsole.log(\"replies\", replies)\n\t\t\t\tconst includeReplies = replies.filter((reply) => isComIncluded(reply))\n\t\t\t\tconsole.log(\"includeReplies\", includeReplies)\n\t\t\t\treturn isComIncluded(com) || includeReplies.length > 0 ? com : null\n\t\t\t})\n\t\t}\n\t}\n\n\tconst handleComType = (e) => {\n    const {\n      target: { value },\n    } = e\n\t\tconst inc = (el) => value.includes(el)\n\t\tconst incAll4 = inc(1) && inc(2) && inc(3) && inc(4) ? true : false\n\t\tconst incAny = !incAll4 && (inc(1) || inc(2) || inc(3) || inc(4))\n\t\tif (comTypes.includes(\"all\") && incAny) {\n\t\t\tsetComTypes([...value.filter(el => el !== \"all\")])\n\t\t} else if ((inc(\"all\") && !comTypes.includes(\"all\")) ||\n\t\t\t(incAll4 && !inc(\"all\")) ||\n\t\t\tvalue.length === 0\n\t\t) {\n\t\t\tsetComTypes([\"all\"])\n\t\t} else {\n\t\t\tsetComTypes([...value])\n\t\t}\n\t}\n\n\tconst renderComments = () => {\n\t\tconst toFilter = filteredComments(oldestFirst)\n\t\tconst returnArr = toFilter.map((c) => {\n\t\t\tlet replies = showTextComments.filter((r) => r.parent_comment_id === c.id)\n\t\t\treturn(\n\t\t\t\t<CommentShow \n\t\t\t\t\tkey={c.id} \n\t\t\t\t\tcomment={c} \n\t\t\t\t\tlitTextId={litTextId} \n\t\t\t\t\treplies={replies} \n\t\t\t\t/>\n\t\t\t)\t\n\t\t})\n\t\treturn returnArr\n\t}\n\n\tconst newCommentHash = `/texts/${litTextId}#new-comment`\n\n\n\treturn (\n\t\t<div>\n\t\t\t<Grid \n\t\t\t\tcontainer \n\t\t\t\twrap=\"nowrap\" \n\t\t\t\tcolumns={1}\n\t\t\t\tjustifyContent=\"center\"\t\n\t\t\t\tsx={{ maxWidth: 800, display: \"flex\" }}\n\t\t\t>\n\t\t\t\t<Grid \n\t\t\t\t\tcontainer \n\t\t\t\t\tjustifyContent=\"center\"\n\t\t\t\t>\n\t\t\t\t\t<div style={{ display:\"flex\", justifyContent:\"center\", marginBottom: \"32px\", }}>\n\t\t\t\t\t\t<ComTypeDropdown\n\t\t\t\t\t\t\tcomTypes={comTypes}\n\t\t\t\t\t\t\thandleComType={handleComType}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Tooltip title=\"Post a Comment\" arrow>\n\t\t\t\t\t\t\t<HashLink smooth to={newCommentHash} style={{ color: \"#3e2723\", height: \"62px\" }} >\n\t\t\t\t\t\t\t\t<AddCommentIcon\n\t\t\t\t\t\t\t\t\tsx={{ ml: 3, mt: \"1px\", p: 0, fontSize: 92 }}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</HashLink>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t</div>\n\t\t\t\t\t{renderComments()}\n\t\t\t\t\t<div id=\"new-comment\" />\n\t\t\t\t\t<CommentNewForm \n\t\t\t\t\t\tlitTextId={litTextId}\n\t\t\t\t\t\tparentCommentId={null}\n\t\t\t\t\t\treplyButtonClick={null}\n\t\t\t\t\t\tisParentQuestion={false}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</div>\n\t)\n}","import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\n\nexport const fetchLitTextById = createAsyncThunk(\n\t\"showText/fetchLitTextById\", \n\tasync (id) => {\n\t\tconst response = await fetch(`/api/lit_texts/${id}`)\n\t\tconst data = await response.json()\n    return data\n\t})\n\nconst initialState = {\n\tentities: [],\n\tstatus: \"idle\",\n\terrors: [],\n}\t\n\nconst showTextSlice = createSlice({\n\tname: \"showText\",\n\tinitialState,\n\treducers: {\n\t\tshowTextPostComment(state, action) {\n\t\t\tstate.entities[0].comments.push(action.payload)\n\t\t}\n\t},\n\textraReducers: (builder) => {\n\t\tbuilder\n\t\t\t.addCase(fetchLitTextById.pending, (state) => {\n\t\t\t\tstate.status = \"loading\"\n\t\t\t})\n\t\t\t.addCase(fetchLitTextById.fulfilled, (state, action) => {\n\t\t\t\tstate.entities.splice(0, 1, action.payload)\n\t\t\t\tstate.status = \"idle\"\n\t\t\t})\n\t},\n})\n\nexport const { showTextPostComment } = showTextSlice.actions\nexport default showTextSlice.reducer","import parse from 'html-react-parser'\nimport { useParams, useLocation, useHistory } from 'react-router-dom'\nimport { useEffect, useState, useCallback } from \"react\"\nimport { useSelector, useDispatch } from 'react-redux'\nimport { Grid, Paper, Typography, Tooltip, IconButton } from '@mui/material'\nimport AddCommentIcon from '@mui/icons-material/AddComment'\nimport ForumIcon from '@mui/icons-material/Forum';\nimport EditOutlinedIcon from '@mui/icons-material/EditOutlined';\nimport EditOffOutlinedIcon from '@mui/icons-material/EditOffOutlined';\nimport CommentsList from '../comments/CommentsList'\nimport LitTextNewForm from './litTextNewForm/LitTextNewForm'\nimport TimeAgoContainer from '../shared/TimeAgoContainer'\nimport { fetchLitTextById } from './showTextSlice'\nimport { HashLink } from 'react-router-hash-link'\n\nexport default function LitTextShow() {\n\tconst [editClicked, setEditClicked] = useState(false)\n\tconst [forceRender, setForceRender] = useState(false)\n\tconst params = useParams()\n  const dispatch = useDispatch()\n\tconst history = useHistory()\n\tconst location = useLocation()\n\n\tconst onRender = useCallback(() => {\n\t\tif (location.hash.length > 0) history.push(location.pathname)\n\t\tdispatch(fetchLitTextById(params.id))\n\t}, [dispatch, history, location.hash.length, location.pathname, params.id])\n\n\tuseEffect(() => {\n\t\tonRender()\n\t}, [forceRender, onRender])\n\t\n\tconst user = useSelector((state) => state.user.entities[0])\n\tconst litTextState = useSelector((state) => state.showText)\n\tconst litText = litTextState.entities.length > 0 ? litTextState.entities[0] : null\n\t// console.log(\"litText\", litText, \"user\", user)\n\n\tconst handleEditClick = () => {\n\t\tsetEditClicked(prev => !prev)\n\t}\n\n\tconst reRender = () => {\n\t\tsetForceRender(prev => !prev)\n\t}\n\n\tconst handleUploaderClick = () => {\n\t\thistory.push(`/users/${litText.uploader_id}`)\n\t}\n\t\n\tlet commentsHash = \"\"\n\tlet newCommentHash = \"\"\n\tif (litTextState.entities.length > 0) commentsHash = `/texts/${litText.id}#comments`\n\tif (litTextState.entities.length > 0) newCommentHash = `/texts/${litText.id}#new-comment`\n\n\tlet parsedContent = \"\"\n\tlet isProse = \"Poetry\"\n\tif (litTextState.entities.length > 0) {\n\t\tparsedContent = parse(`${litText.content}`)\n\t\tif (litText.prose) {\n\t\t\tisProse = \"Prose\"\n\t\t}\n\t}\n\n\tconst displayDate = () => {\n\t\tconst value = litText.pubdate\n\t\treturn value < 0 ? `${Math.abs(value)} BCE` \n\t\t: value <1000 ? `${value} CE`\n\t\t: value\n\t}\n\n\tconst renderName = () => litText.fam_name_first ? `${litText.last_name} ${litText.first_name}` : `${litText.first_name} ${litText.last_name}`\n\n\n\tif (litTextState.status === \"idle\" && litTextState.entities.length > 0) {\n\t\treturn (\n    <Grid \n\t\t\tcontainer \n\t\t\tjustifyContent=\"Center\"\t\n\t\t\talignItems=\"center\"\n\t\t>\n\t\t\t<Grid \n\t\t\t\titem xs={11} sm={12} md={11}\n\t\t\t>\n\t\t\t\t<div style={{ \n\t\t\t\t\tdisplay:\"flex\", \n\t\t\t\t\tjustifyContent:\"center\", \n\t\t\t\t\tmarginTop: 12, \n\t\t\t\t\tpaddingBottom: 2 \n\t\t\t\t}}>\n\t\t\t\t\t<Tooltip title=\"Comments\" arrow>\n\t\t\t\t\t\t<HashLink smooth to={commentsHash} style={{ marginRight: 18, color: \"#757575\" }}>\n\t\t\t\t\t\t\t\t<ForumIcon size=\"small\" sx={{mt: 3 }} />\n\t\t\t\t\t\t\t</HashLink>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t\t<Tooltip title=\"New Comment\" arrow>\n\t\t\t\t\t\t<HashLink smooth to={newCommentHash} style={{ color: \"#757575\" }}>\n\t\t\t\t\t\t\t<AddCommentIcon size=\"small\" sx={{mt: 3 }} />\n\t\t\t\t\t\t</HashLink>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t</div>\n\t\t\t\t<Paper \n\t\t\t\t\televation={9} \n\t\t\t\t\tsx={{ p:3, m: 3, mt: 1, justifyContent:\"center\", minWidth: \"350px\" }}\n\t\t\t\t>\n\t\t\t\t\t<Typography \n\t\t\t\t\t\tvariant=\"subtitle1\" \n\t\t\t\t\t\tsx={{ textAlign:\"center\", color:\"#616161\", pb: 0, cursor: \"default\" }}\n\t\t\t\t\t>\n\t\t\t\t\t\t<em>{isProse}</em>\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Grid container wrap=\"nowrap\">\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<Typography variant=\"h4\" sx={{ textAlign:\"center\", mt: 1 }}>\n\t\t\t\t\t\t\t\t<b>{litText.title}</b>\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography variant=\"h6\" sx={{ textAlign:\"center\" }}>\n\t\t\t\t\t\t\t\t{renderName()}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography variant=\"subtitle1\" sx={{ textAlign:\"center\" }}>\n\t\t\t\t\t\t\t\t{displayDate()}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t{litText.translator.length > 0 ? \n\t\t\t\t\t\t\t\t<Typography \n\t\t\t\t\t\t\t\t\tvariant=\"subtitle2\" \n\t\t\t\t\t\t\t\t\tsx={{ textAlign:\"center\", color: \"#8e8e8e\", mt: 1 }}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<em>{`Translated by ${litText.translator}`}</em>\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t: null }\n\n\t\t\t\t\t\t\t<Grid container wrap=\"nowrap\">\n\t\t\t\t\t\t\t\t<Grid item xs={12} justifyContent=\"center\" sx={{ display: \"flex\", }}>\n\t\t\t\t\t\t\t\t\t<div style={{ position: \"flex\", }} >\n\t\t\t\t\t\t\t\t\t\t<Typography variant=\"body1\" component=\"div\" sx={{ pb:3, pr:3, pl:3, pt:2, }}>\n\t\t\t\t\t\t\t\t\t\t{litText.prose ?\t\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t{parsedContent}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"poetry\">\n\t\t\t\t\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t\t\t\t\t{parsedContent}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<div style={{ \n\t\t\t\t\t\tdisplay:\"flex\", \n\t\t\t\t\t\tjustifyContent:\"center\", \n\t\t\t\t\t\tmarginTop: 12, \n\t\t\t\t\t\tpaddingBottom: 2 \n\t\t\t\t\t}}>\n\t\t\t\t\t\t<TimeAgoContainer \n\t\t\t\t\t\t\tcreated_at={litText.created_at} \n\t\t\t\t\t\t\tuploader={litText.uploader.name}\n\t\t\t\t\t\t\tupdated_at={litText.updated_at} \n\t\t\t\t\t\t\teditor={litText.edit_user}\n\t\t\t\t\t\t\tisDeleted={false} \n\t\t\t\t\t\t\tfromLitTextShow={true}\n\t\t\t\t\t\t\thandleUploaderClick={handleUploaderClick}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t{ editClicked ?\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div style={{ \n\t\t\t\t\t\t\t\tdisplay:\"flex\", \n\t\t\t\t\t\t\t\tjustifyContent:\"center\", \n\t\t\t\t\t\t\t\tmarginTop: 12, \n\t\t\t\t\t\t\t\tpaddingBottom: 2 \n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t<Tooltip title=\"Close editor\" arrow>\n\t\t\t\t\t\t\t\t\t<EditOffOutlinedIcon\n\t\t\t\t\t\t\t\t\t\tonClick={() => handleEditClick()}\n\t\t\t\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\t\t\t/> \n\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<LitTextNewForm \n\t\t\t\t\t\t\t\thandleNewClick={handleEditClick} \n\t\t\t\t\t\t\t\thandleLitTextsOrder={null} \n\t\t\t\t\t\t\t\thandlePoetryProseValue={null}\n\t\t\t\t\t\t\t\tisEdit={true}\n\t\t\t\t\t\t\t\tlitText={litText}\n\t\t\t\t\t\t\t\treRender={reRender}\n\t\t\t\t\t\t\t/> \t\n\t\t\t\t\t\t</div>\n\t\t\t\t\t: \n\t\t\t\t\t\t<div style={{ \n\t\t\t\t\t\t\tdisplay:\"flex\", \n\t\t\t\t\t\t\tjustifyContent:\"center\", \n\t\t\t\t\t\t\tmarginTop: 12, \n\t\t\t\t\t\t\tpaddingBottom: 2 \n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t{user.usertype === \"Librarian\" || user.id === litText.uploader_id ?\n\t\t\t\t\t\t\t\t<Tooltip title=\"Edit\" arrow>\n\t\t\t\t\t\t\t\t\t<EditOutlinedIcon\n\t\t\t\t\t\t\t\t\t\tonClick={() => handleEditClick()}\n\t\t\t\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\t\t\t/> \n\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t<Tooltip title={<div style={{ textAlign: \"center\" }}>We're sorry. You must be a Marginalia libarian to edit texts.<br/>Please contact the site admin if you want to become a librarian.</div>} arrow>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<IconButton disabled>\n\t\t\t\t\t\t\t\t\t<EditOutlinedIcon\n\t\t\t\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\t\t\t/> \n\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n \t\t\t\t\t}\t\t\n\t\t\t\t</Paper>\n\t\t\t</Grid>\n\t\t\t<Grid \n\t\t\t\tid=\"comments\"\n\t\t\t\tcontainer item \n\t\t\t\txs={10} sm={11} md={10} \n\t\t\t\tjustifyContent=\"center\" \n\t\t\t>\n\t\t\t\t<CommentsList \n\t\t\t\t\tlitTextId={litText.id} \n\t\t\t\t/>\n\t\t\t</Grid>\n\t\t</Grid>\n\t\t)\n\t} else {\n\t\treturn (\n\t\t\t<div className=\"centered-in-window\" >\n\t\t\t\t<div className=\"dot-flashing\"></div>\n\t\t\t</div>\n\t\t)\n\t}\n}","import { useHistory } from 'react-router-dom'\nimport TotalCommentsAndReplies from '../shared/TotalCommentsAndReplies'\nimport { Typography, Grid, Paper, Avatar } from '@mui/material'\n\nexport default function UserListShow({ showUser }) {\n\tconst { username, name, bio, id, image } = showUser\n\tconst firstSixty = bio ? `${bio.slice(0, 65)}` : \"\"\n\tconst showBio = () => {\n\t\tif (firstSixty.length > 50) {\n\t\t\treturn <span>{firstSixty.replace(/\\s.\\w+$/, \"\")}&nbsp;.&nbsp;.&nbsp;.</span>\n\t\t} else {\n\t\t\treturn firstSixty\n\t\t}\n\t}\n\n\tconst history = useHistory()\n\tconst handlePaperClick = () => {\n\t\thistory.push(`/users/${id}`)\n\t}\n\n\t\n\treturn (\n\t\t<Grid item >\n\t\t\t<Paper \n\t\t\t\televation={6} \n\t\t\t\tsx={{ p:3, m: 3, cursor: \"pointer\", backgroundColor: \"#fffaf5\" }}\n\t\t\t\tonClick={handlePaperClick}\n\t\t\t>\n\t\t\t\t<Grid container spacing={3} wrap=\"nowrap\">\n\t\t\t\t\t<Grid item >\n\t\t\t\t\t\t<Avatar \n\t\t\t\t\t\t\talt={name} \n\t\t\t\t\t\t\tsrc={image} \n\t\t\t\t\t\t\tsx={{ width: 163, height: 163 }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid justifyContent=\"left\" item xs={9}>\n\t\t\t\t\t\t<Typography variant=\"h5\" sx={{ pt:\"3px\" }} ><b>{name}</b></Typography>\n\t\t\t\t\t\t<Typography variant=\"subtitle1\" sx={{ color: \"#616161\", mt: -1 }} ><em>@{username}</em></Typography>\n\t\t\t\t\t\t<Typography variant=\"body2\" sx={{ mt: 2, mb: 2 }} ><span style={{ color: \"#494949\", fontSize: 19 }} >B<span style={{ fontVariant: \"small-caps\", fontSize: 21 }} >io</span>:</span> {showBio()}</Typography> \n\t\t\t\t\t\t<TotalCommentsAndReplies Id={showUser.id} source=\"user\" />\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</Paper>\n\t\t</Grid>\n\t)\n}","import { useState, useEffect, useMemo } from 'react'\nimport { useSelector } from 'react-redux'\nimport UserListShow from './UserListShow'\nimport { Typography, Grid, ToggleButton, ToggleButtonGroup, Box, TextField, } from '@mui/material'\n\nexport default function UsersContainer() {\n\tconst { entities, status } = useSelector((state) => state.allUsers)\n  const userState = useSelector((state) => state.user)\n  const user = userState.entities.length > 0 ? userState.entities[0] : null\n\n\tconst otherUsers = useMemo(() => {return [...[...entities].filter((u) => u.id !== user.id)]}, [entities, user.id])\n\n\tconst alphabetical = (users) => \n\t\t[...users].sort((a, b) => a.last_name.localeCompare(b.last_name) || a.first_name.localeCompare(b.first_name))\n\t\t//ORIGINAL PLAN FOR SORTING, THO ONLY BY LAST NAME.\n\t\t// [...users].map((user) => \n\t\t// \t`${user.last_name} ${user.id}`)\n\t\t// .sort()\n\t\t// .map((nameId) => \n\t\t// \tusers.find((user) => \n\t\t// \tparseInt(user.id) === parseInt(nameId.replace(/^\\w.+\\s/, \"\"))\n\t\t// )\n\t\n\n\tconst recentlyJoined = (users) => {\n\t\tlet toSort = [...users]\n\t\tlet sortArr = toSort.sort((a, b) => {\n\t\t\tlet dateTimeA = Date.parse(a.created_at) \n\t\t\tlet dateTimeB = Date.parse(b.created_at)\n\t\t\treturn dateTimeB - dateTimeA\n\t\t})\n\t\treturn sortArr\n\t}\n\n\tconst newestComment = (el) => {\n\t\tlet toSort = [...el.comments]\n\t\tlet sortArr = toSort.sort((a, b) => {\n\t\t\tlet dateTimeA = Date.parse(a.created_at) \n\t\t\tlet dateTimeB = Date.parse(b.created_at)\n\t\t\treturn dateTimeB - dateTimeA\n\t\t})\n\t\tif (toSort.length === 0) {\n\t\t\treturn 0\n\t\t} else {\n\t\t\tlet newest = sortArr[0]\n\t\t\tlet newestCreatedAt = Date.parse(newest.created_at)\n\t\t\treturn newestCreatedAt\n\t\t}\n\t}\n\n\tconst recentlyCommented = (users) => {\n\t\tlet toSort = [...users]\n\t\tlet sortArr = toSort.sort((a, b) => newestComment(b) - newestComment(a))\n\t\treturn sortArr\n\t}\n\t\n\tconst [allUserOrder, setAllUserOrder] = useState(\"alphabetical\")\n\n\tconst handleAllUserOrder = (event, newOrder) => {\n\t\tsetAllUserOrder(newOrder)\n\t}\n\n\tconst [filteredUsers, setFilteredUsers] = useState([...otherUsers])\n\n\tuseEffect(() => {if (otherUsers.length > 0) setFilteredUsers([...otherUsers])}, [otherUsers])\n\n\tconst handleSearch = (e) => {\n\t\tlet keyword = e.target.value.toLowerCase()\n\t\tif (keyword === \"\") {\n\t\t\tsetFilteredUsers(otherUsers)\n\t\t} else {\n\t\t\tlet results = otherUsers.filter((u) => \n\t\t\t\t\tu.username.toLowerCase().includes(keyword) ||\n\t\t\t\t\tu.fullname.toLowerCase().includes(keyword) ||\n\t\t\t\t\tu.bio.toLowerCase().includes(keyword) \n\t\t\t)\n\t\t\tsetFilteredUsers(results)\n\t\t}\n\t}\n\n\tconst renderUsers = () => {\n\t\tlet rawArr = [...filteredUsers]\n\t\tlet arrTwo = []\n\t\tif (allUserOrder === \"alphabetical\") {\n\t\t\tarrTwo = [...alphabetical(rawArr)]\n\t\t} else if (allUserOrder === \"recentlyAdded\") {\n\t\t\tarrTwo = [...recentlyJoined(rawArr)]\n\t\t} else if (allUserOrder === \"recentComment\") {\n\t\t\tarrTwo = [...recentlyCommented(rawArr)]\n\t\t}\n\t\tlet toMap = [...arrTwo]\n\t\tlet mappedArr = toMap.map((u => <UserListShow key={u.id} showUser={u} />))\n\t\treturn mappedArr\n\t}\n\n\treturn(\n    <Grid \n\t\t\tcontainer \n\t\t\tjustifyContent=\"Center\"\t\n\t\t\talignItems=\"center\"\n\t\t>\n\t\t\t<Grid \n\t\t\t\titem xs={9} \n\t\t\t\talign=\"center\" \n\t\t\t\tjustify=\"center\">\n\t\t\t\t\t<Typography variant=\"h2\" justify=\"center\" sx={{pt:4, pb:3, fontWeight: 410 }}>Users</Typography>\n\t\t\t</Grid>\n\t\t\t<Grid item xs={9}>\n\n\t\t\t</Grid>\n\t\t\t<Grid \n\t\t\t\titem xs={9}\n\t\t\t\t>\n\t\t\t\t{status === \"idle\" ? \n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Box textAlign=\"center\">\n\t\t\t\t\t\t\t<ToggleButtonGroup\n\t\t\t\t\t\t\t\tvalue={allUserOrder}\n\t\t\t\t\t\t\t\texclusive\n\t\t\t\t\t\t\t\tonChange={handleAllUserOrder}\n\t\t\t\t\t\t\t\taria-label=\"Arrange Users\"\n\t\t\t\t\t\t\t\tsx={{ bgcolor: \"#fffaf5\", }}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{/* TODO: Dry up this code by mapping through an array of options */}\n\t\t\t\t\t\t\t\t<ToggleButton \n\t\t\t\t\t\t\t\t\tvalue=\"alphabetical\"\n\t\t\t\t\t\t\t\t\taria-label=\"Alphabetical\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tAlphabetical\n\t\t\t\t\t\t\t\t</ToggleButton>\n\t\t\t\t\t\t\t\t<ToggleButton \n\t\t\t\t\t\t\t\t\tvalue=\"recentlyAdded\"\n\t\t\t\t\t\t\t\t\taria-label=\"Most recently added\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tRecently Joined\n\t\t\t\t\t\t\t\t</ToggleButton>\n\t\t\t\t\t\t\t\t<ToggleButton \n\t\t\t\t\t\t\t\t\tvalue=\"recentComment\"\n\t\t\t\t\t\t\t\t\taria-label=\"Most recent comment\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tRecent Activity\n\t\t\t\t\t\t\t\t</ToggleButton>\n\t\t\t\t\t\t\t</ToggleButtonGroup>\n\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t<TextField \n\t\t\t\t\t\t\t\tid=\"search\"\n\t\t\t\t\t\t\t\tlabel=\"Search\"\n\t\t\t\t\t\t\t\tvariant=\"filled\"\n\t\t\t\t\t\t\t\tsx={{ m: 2, mt: 3, width: \"50%\" }}\n\t\t\t\t\t\t\t\tonChange={e => handleSearch(e)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t{renderUsers()}\n\t\t\t\t\t</div>\n\t\t\t\t: \n\t\t\t\t\t<div className=\"centered-in-window\" >\n\t\t\t\t\t\t\t<div className=\"dot-flashing\"></div>\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t</Grid>\n\t\t</Grid>\n \t)\n}","import { useState } from \"react\"\nimport { useDispatch } from \"react-redux\"\nimport LastName from \"../litTexts/litTextNewForm/LastName\" \nimport { Paper, Button, Box, TextField } from '@mui/material'\nimport { updateUser } from './allUsersSlice'\nimport { updateShowUser } from \"./showUserSlice\"\nimport { updateCurrentUser } from \"./userSlice\"\n\nexport default function UserEditForm({ user }){\n\tconst [formData, setFormData] = useState(user)\n\n\tconst { first_name, last_name, fam_name_first, bio, image } = formData\n\n  function handleChange(e) {\n\t\tsetFormData({\n\t\t\t...formData,\n\t\t\t[e.target.name]: e.target.value,\n\t\t})\n  }\n\n\tconst handleFamNameFirstClick = () => {\n\t\tsetFormData({\n\t\t\t...formData,\n\t\t\tfam_name_first: !fam_name_first,\n\t\t})\t\t\n\t}\n\n\tconst dispatch = useDispatch()\t\n\n\tconst onUpdateUser = (data) => {\n\t\tdispatch(updateUser(data))\n\t\tdispatch(updateShowUser(data))\n\t\tdispatch(updateCurrentUser(data))\n\t}\t\n\n\tfunction handleSubmit(e) {\n\t\te.preventDefault()\n\t\tfetch(`/api/users/${user.id}`, {\n\t\t\tmethod: \"PATCH\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\"\n\t\t\t},\n\t\t\tbody: JSON.stringify(formData)\n\t\t})\n\t\t.then((r) => r.json())\n\t\t.then((data) => {\n\t\t\tonUpdateUser(data)\n\t\t\tsetFormData(data)\n\t\t})\n\t\t.catch((errors) => console.log(errors))\n\t}\t\n\n\treturn(\n\t\t<Paper variant=\"outlined\" sx={{ mx: 5, mt: 3, pt: 4, bgcolor: \"#ebe3e1\", justifyContent: \"center\" }} >\n\t\t\t<Box component=\"form\" onSubmit={handleSubmit} sx={{ justifyContent: \"center\", }}>\n\t\t\t\t<LastName \n\t\t\t\t\tfamNameFirst={fam_name_first} \n\t\t\t\t\thandleFamNameFirstClick={handleFamNameFirstClick} \n\t\t\t\t\thandleFormChange={handleChange} \n\t\t\t\t\tfirstName={first_name}\n\t\t\t\t\tlastName={last_name}\n\t\t\t\t\tisAuthor={false}\n\t\t\t\t/>\n\t\t\t\t{/* TODO: Dry up this code by mapping through an array of options */}\n\t\t\t\t<TextField \n\t\t\t\t\tvalue={bio} \n\t\t\t\t\tid=\"bio\"\n\t\t\t\t\tlabel=\"Bio\"\n\t\t\t\t\tname=\"bio\"\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\tsx={{ width: \"90%\", mx: \"5%\", mt: 1, backgroundColor: \"#fff\",  }}\n\t\t\t\t/>\n\t\t\t\t<TextField \n\t\t\t\t\tvalue={image} \n\t\t\t\t\tlabel=\"Picture URL\"\n\t\t\t\t\tid=\"image\"\n\t\t\t\t\tname=\"image\"\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\tsx={{ width: \"90%\", mx: \"5%\", mt: 3, backgroundColor: \"#fff\",  }}\n\t\t\t\t/>\n\t\t\t\t<div style={{ textAlign: \"center\" }} >\n\t\t\t\t<Button \n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tsx={{textAlign: \"center\", p: 1, m: 2, my: 3, color: \"fff\", }} \n\t\t\t\t\ttype='submit'>\n\t\t\t\t\t\tSubmit\n\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t</Box>\n    </Paper>\n\t)\n}","import { Card, Typography } from '@mui/material'\nimport TimeAgoContainer from \"../shared/TimeAgoContainer\"\n\nexport default function UserTextComPreview({ comment }) {\n\t\n\treturn(\n\t\t<Card sx={{ m: 2, mx: 3, p: 2, pr: 4, borderRadius: 1,  }}>\n\t\t\t\t<Typography variant=\"caption\" sx={{ color: \"#373737\", }} >\n\t\t\t\t\t<TimeAgoContainer\n\t\t\t\t\t\tcreated_at={comment.created_at} \n\t\t\t\t\t\tupdated_at={comment.updated_at} \n\t\t\t\t\t\tisDeleted={comment.deleted} \t\n\t\t\t\t\t\tfromLitTextShow={false}\t\t\t\t\t\t\n\t\t\t\t\t/>\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography variant=\"body2\" sx={{ }} >{comment.content}</Typography>\n\t\t\t</Card>\n\t\t)\n}","import { useSelector } from \"react-redux\"\nimport { useHistory } from \"react-router\"\nimport { Paper, Grid } from '@mui/material'\nimport UserTextComPreview from './UserTextComPreview'\nimport LitTextListShow from \"../litTexts/LitTextListShow\"\n\nexport default function UserTextShow({ id, comments }) {\n  const litTextsState = useSelector((state) => state.litTexts)\n\tconst litTextsArr = [...litTextsState.entities]\n\n\tconst litText = () => [...litTextsArr].find((t) => t.id === id)\n\tconst renderComments = () => {\n\t\tconst commentsArr = comments.filter((c) => c.lit_text_id === id)\n\t\treturn (\n\t\t\tcommentsArr.map((c) => <UserTextComPreview key={`ltc${c.id}`} comment={c}/>)\n\t\t)\n\t}\n\t// console.log(\"litTexts from UserTextShow\", litText())\n\t\n\tconst history = useHistory()\n\tconst handleClick = () => {\n\t\thistory.push(`/texts/${id}`)\n\t}\n\n\treturn (\n\t\t<>\n\t\t{litTextsArr.length === 0 ?\n\t\t\t<div className=\"centered-in-window\" >\n\t\t\t\t\t<div className=\"dot-flashing\"></div>\n\t\t\t</div>\n\t\t:\n\t\t\t<Grid container item xs={10} alignItems=\"center\" justifyContent=\"Center\">\n\t\t\t<Paper \n\t\t\t\tsx={{ cursor: \"pointer\", m: 2, mt: 0, p: 3, borderRadius: 2, }} \n\t\t\t\tonClick={() => handleClick()} \n\t\t\t\televation={3}\n\t\t\t>\n\t\t\t\t<div>\n\t\t\t\t{renderComments().length > 0 ? renderComments() : \"previews loading...\"}\n\t\t\t\t</div>\n\t\t\t\t<LitTextListShow key={litText().id} litText={litText()}/>\n\t\t\t\t</Paper>\n\t\t\t\t</Grid>\n\t\t}</>\n\t)\n}","import { useState, useEffect } from \"react\"\nimport { useParams, useHistory } from 'react-router-dom'\nimport { useSelector, useDispatch } from 'react-redux'\nimport UserEditForm from './UserEditForm'\nimport UserTextShow from \"./UserTextShow\"\nimport LitTextListShow from '../litTexts/LitTextListShow'\nimport { fetchUserById } from './showUserSlice'\nimport { logoutUser } from '../users/userSlice'\nimport { Grid, Typography, Avatar, Button, Divider, Popper, Fade, Box, ToggleButton, ToggleButtonGroup } from '@mui/material'\n\n\nexport default function UserShow() {\n\tconst [deleteClicked, setDeleteClicked] = useState(false)\n\tconst [anchorEl, setAnchorEl] = useState(null)\n\tconst [errors, setErrors] = useState([])\n\tconst [displayToggledOption, setDisplayToggledOption] = useState(\"Comments\")\n\n\tconst history = useHistory()\n\tconst params = useParams()\n\tconst dispatch = useDispatch()\n\n\tconst { entities:showUser, status:showUserStatus } = useSelector((state) => state.showUser)\n\tconst user = useSelector((state) => state.user.entities[0])\n\n\tuseEffect(() => {\n\t\tconst fetchUser = () => dispatch(fetchUserById(params.id))\n\t\tfetchUser()\n\t}, [params.id, dispatch])\n\n\tconst handleToggleClick = (event, newOption) => {\n\t\tsetDisplayToggledOption(() => newOption)\n\t}\n\n\tconst toggleOptionsArr = [\"Comments\", \"Texts Uploaded\"]\n\n\tconst makeToggleButton = (option) =>\n\t\t<ToggleButton \n\t\t\tkey={toggleOptionsArr.indexOf(option)} \n\t\t\tvalue={option}\n\t\t\taria-label={option}\n\t\t>\n\t\t\t{option}\n\t\t</ToggleButton>\n\n\t\n\tconst litTextsState = useSelector((state) => state.litTexts)\n\tconst litTextsArr = [...litTextsState.entities]\n\n\tconst showUserLitTexts = () => litTextsArr.filter(text => text.uploader_id === showUser.id)\n\n\n\tconst handleDeleteClick = (e) => {\n    setAnchorEl(e.currentTarget);\n\t\tsetDeleteClicked(prev => !prev)\n\t}\n\tconst canBeOpen = deleteClicked && Boolean(anchorEl);\n  const popperId = canBeOpen ? 'transition-popper' : undefined;\n\n\n\tconst goCommentClick = () => {\n\t\thistory.push(\"/texts\")\n\t}\n\n\n\tconst deleteUser = () => {\n\t\tfetch(`/api/users/${user.id}`, {\n\t\t\tmethod: \"DELETE\",\n\t\t})\n\t\t.then(r => {\n\t\t\t// console.log(r)\n\t\t\tif (r.ok) {\n\t\t\t\tsetErrors([])\n\t\t\t\tdispatch(logoutUser())\n\t\t\t\thistory.push(\"/signup\")\n\t\t\t} else {\n\t\t\t\tsetErrors([\"We're sorry. We encountered an error.\"])\n\t\t\t}\n\t\t})\n\t}\n\n\tconst msec = Date.parse(showUser.created_at)\n  const parseDate = new Date(msec).toDateString()\n  const trimDate = parseDate.slice(4)\n  const splitDate = trimDate.split(\" \")\n  const renderDate = `${splitDate[0]} ${splitDate[1]}, ${splitDate[2]}`\n\n\tconst undeleted = () => {\n\t\tif (showUser.comments) {\n\t\t\treturn showUser.comments.filter((c) => c.deleted === false)\n\t\t} else {\n\t\t\treturn []\n\t\t}\n\t}\n\tconst litTextIds = () => {\n\t\tif (undeleted().length === 0) {\n\t\t\treturn []\n\t\t} else {\n\t\t\tlet arr = undeleted().map((c) => c.lit_text_id)\n\t\t\treturn [...new Set(arr)]\n\t\t}\n\t}\n\tconst renderComPreviews = () => {\n\t\tif (litTextIds().length === 0) {\n\t\t\treturn []\n\t\t} else {\n\t\t\treturn litTextIds().map((id) => <UserTextShow key={`lt${id}`} id={id} comments={undeleted()} />)\n\t\t}\n\t}\n\n\tconst renderUploadPreviews = () =>\n\t\t<Grid container item xs={11}>\n\t\t\t{showUserLitTexts().map(text => <LitTextListShow key={text.id} litText={text}/>)}\n\t\t</Grid>\n\n\n\tconst goDoWhatLink = (what) => \n\t\t<Typography \n\t\t\tvariant=\"body2\" \n\t\t\tonClick={goCommentClick} \n\t\t\tsx={{ \n\t\t\t\ttextAlign:\"center\", \n\t\t\t\tm: 1, mt: 3, mb: 2, \n\t\t\t\tcolor: \"#546e7a\", \n\t\t\t\ttextDecoration: \"underline\", \n\t\t\t\tcursor: \"pointer\", \n\t\t\t}}\n\t\t>\n\t\t\t{`Go ${what} some stories and poems!`}\n\t\t</Typography>\n\n\tconst hasNotWhatYet = (what) =>\n\t\t<Typography \n\t\t\tvariant=\"body2\" \n\t\t\tsx={{ \n\t\t\t\ttextAlign:\"center\", \n\t\t\t\tmx: 1, mt: 3, mb: 2, \n\t\t\t\tcolor:\"#757575\" \n\t\t\t}}\n\t\t>\n\t\t\t{`This user hasn't ${what} yet`}\n\t\t</Typography>\n\n\n\tconst showWhat = (lengthArr, what, doneWhat) => \n\t\tlengthArr.length > 0 ? \n\t\t\t<Grid item container justifyContent=\"center\">\n\t\t\t\t{what}\n\t\t\t</Grid> \n\t\t: showUser.id === user.id ?\n\t\t\t<>{goDoWhatLink(doneWhat[0])}</>\n\t\t:\n\t\t\t<>{hasNotWhatYet(doneWhat[1])}</>\n\n\t \n\n\tif (showUserStatus === \"loading\" || showUser === []) {\n\t\treturn (\n\t\t\t<div className=\"centered-in-window\" >\n\t\t\t\t<div className=\"dot-flashing\"></div>\n\t\t\t</div>\n\t\t)\n\t} else if (showUserStatus === \"idle\" && typeof(showUser) === \"object\") {\n\t\treturn (\n\t\t\t<Grid \n\t\t\t\tcontainer \n\t\t\t\tjustifyContent=\"Center\"\t\n\t\t\t\tsx={{ pt: 5, px: 3 }}\n\t\t\t\tspacing={3}\n\t\t\t>\n\t\t\t\t<Grid\titem xs=\"auto\">\n\t\t\t\t\t<Avatar \n\t\t\t\t\t\tvariant=\"rounded\"\n\t\t\t\t\t\talt={showUser.name}\n\t\t\t\t\t\tsrc={showUser.image}\n\t\t\t\t\t\talign=\"center\"\n\t\t\t\t\t\tsx={{ width: 300, height: 300, mr: 2, ml: 3, mt: 1 }}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs sx={{ mr: 2, mt: 2 }}>\n\t\t\t\t\t<Typography variant=\"h4\" sx={{ }}>\n\t\t\t\t\t\t<b>{showUser.name}</b>\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography variant=\"h6\" sx={{ mb: 2, color: \"#616161\" }}>\n\t\t\t\t\t\t<em>@{showUser.username}</em>\n\t\t\t\t\t</Typography>\n\n\t\t\t\t\t<Typography \n\t\t\t\t\t\tsx={{ fontSize: 19, mb: \"-1px\", mt: 3 }} \n\t\t\t\t\t\tcolor=\"#757575\" \n\t\t\t\t\t>\n\t\t\t\t\t\tBio\n\t\t\t\t\t</Typography>\t\t\t\t\n\t\t\t\t\t<Typography variant=\"body2\" sx={{ }} >\n\t\t\t\t\t\t{showUser.bio}\n\t\t\t\t\t</Typography> \n\t\t\t\t\t<Typography variant=\"body2\" sx={{ \n\t\t\t\t\t\tmb: 4, mt: 3, color: \"#373737\"\n\t\t\t\t\t}}>\n\t\t\t\t\t\t<em>Joined {renderDate}\n\t\t\t\t\t\t\t<span style={{ \n\t\t\t\t\t\t\t\tmarginLeft: \"13px\", \n\t\t\t\t\t\t\t\tmarginRight: \"13px\"\n\t\t\t\t\t\t\t}}></span>\n\t\t\t\t\t\t\t{showUser.usertype}\n\t\t\t\t\t\t</em>\n\t\t\t\t\t</Typography>\n\t\t\t\t</Grid>\n\n\t\t\t\t<Grid container item xs={12} justifyContent=\"center\">\n\t\t\t\t\t<Divider sx={{ mx: 2, mb: 6, mt: 3, width: \"90%\" }} textAlign=\"center\">\n\t\t\t\t\t\t<ToggleButtonGroup \n\t\t\t\t\t\t\tvalue={displayToggledOption}\n\t\t\t\t\t\t\tonChange={handleToggleClick}\n\t\t\t\t\t\t\taria-label=\"Display\"\n\t\t\t\t\t\t\texclusive\n\t\t\t\t\t\t\tsx={{ mb: -2 }} \n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{toggleOptionsArr.map(option => \n\t\t\t\t\t\t\t\tmakeToggleButton(option)\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{showUser.id === user.id ?\n\t\t\t\t\t\t\t\tmakeToggleButton(\"Edit Profile\")\n\t\t\t\t\t\t\t: null}\n\t\t\t\t\t\t</ToggleButtonGroup>\n\t\t\t\t\t</Divider>\t\n\t\t\t\t\t{displayToggledOption === \"Edit Profile\" ?\n\t\t\t\t\t\t<UserEditForm \n\t\t\t\t\t\t\tuser={user}\n\t\t\t\t\t\t/>\n\t\t\t\t\t: displayToggledOption === \"Texts Uploaded\" ?\n\t\t\t\t\t\tshowWhat(showUserLitTexts(), renderUploadPreviews(), [\"upload\", \"uploaded any texts\"])\n\t\t\t\t\t: displayToggledOption === \"Comments\" ?\n\t\t\t\t\t\tshowWhat(undeleted(), renderComPreviews(), [\"comment on\", \"written any comments\"])\n\t\t\t\t\t: setDisplayToggledOption(\"Comments\")\n\t\t\t\t\t}\n\t\t\t\t\t{showUser.id === user.id && displayToggledOption === \"Edit Profile\" ?\n\t\t\t\t\t\t<>\n\n\t\t\t\t\t\t\t{errors ? errors.map(e => <div key={e} style={{ color: \"#660033\", textAlign: \"center\" }} >{e}</div>) : null}\n\n\t\t\t\t\t\t\t<Box sx={{ display:\"flex\", width: \"100%\", justifyContent: \"center\", m: 3 }}>\n\t\t\t\t\t\t\t\t<Button variant=\"contained\" onClick={handleDeleteClick} >\n\t\t\t\t\t\t\t\t\tDelete Profile\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Popper \n\t\t\t\t\t\t\t\tid={popperId} \n\t\t\t\t\t\t\t\topen={deleteClicked} \n\t\t\t\t\t\t\t\tanchorEl={anchorEl} \n\t\t\t\t\t\t\t\tmodifiers={[\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tname: 'preventOverflow',\n\t\t\t\t\t\t\t\t\t\tenabled: true,\n\t\t\t\t\t\t\t\t\t\toptions: {\n\t\t\t\t\t\t\t\t\t\t\taltAxis: true,\n\t\t\t\t\t\t\t\t\t\t\taltBoundary: true,\n\t\t\t\t\t\t\t\t\t\t\ttether: true,\n\t\t\t\t\t\t\t\t\t\t\trootBoundary: 'document',\n\t\t\t\t\t\t\t\t\t\t\tpadding: 8,\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\ttransition>\n\t\t\t\t\t\t\t\t{({ TransitionProps }) => (\n\t\t\t\t\t\t\t\t\t<Fade {...TransitionProps} timeout={350}>\n\t\t\t\t\t\t\t\t\t\t<Box sx={{ border: 1, p: 3, m: 2, bgcolor: 'background.paper', justifyContent: \"center\", borderColor: \"#660000\" }}>\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant=\"h6\" sx={{ textAlign: \"center\", mb: 1, color: \"#660000\" }}>\n\t\t\t\t\t\t\t\t\t\t\t\tAre you sure you want to delete your profile?\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant=\"subtitle1\" sx={{ textAlign: \"center\", fontSize: 22, mb: 3 }}>\n\t\t\t\t\t\t\t\t\t\t\t\tThis action cannot be undone!\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t\t<Box component=\"div\" sx={{ display:\"flex\", width: \"100%\", justifyContent: \"center\", }}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Button variant=\"contained\" onClick={handleDeleteClick} sx={{ mr: 4, mb: 2, bgcolor: \"6d4c41\" }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t<Button variant=\"contained\" onClick={deleteUser} sx={{ mb: 2, bgcolor: \"#660000\" }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\tDelete\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t</Fade>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Popper>\n\t\t\t\t\t\t</>\n\t\t\t\t\t: null}\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t)\n\t} else {\n\t\treturn (\n\t\t\t<div className=\"centered-in-window\" >\n\t\t\t\t<h1>We're sorry. There's been an error.</h1>\n\t\t\t</div>\n\t\t)\n\t}\n}","import { styled } from '@mui/material/styles';\nimport Box from '@mui/material/Box';\nimport ButtonBase from '@mui/material/ButtonBase';\nimport Typography from '@mui/material/Typography';\n\nconst ImageButton = styled(ButtonBase)(({ theme }) => ({\n  position: 'relative',\n  height: 150,\n  [theme.breakpoints.down('sm')]: {\n    width: '100% !important', // Overrides inline-style\n    height: 75,\n  },\n  '&:hover, &.Mui-focusVisible': {\n    zIndex: 1,\n    '& .MuiImageBackdrop-root': {\n      opacity: 0.15,\n    },\n    '& .MuiImageMarked-root': {\n      opacity: 0,\n    },\n    '& .MuiTypography-root': {\n      border: '4px solid currentColor',\n    },\n  },\n}));\n\nconst ImageSrc = styled('span')({\n  position: 'absolute',\n  left: 0,\n  right: 0,\n  top: 0,\n  bottom: 0,\n  backgroundSize: 'cover',\n  backgroundPosition: 'center 40%',\n});\n\nconst Image = styled('span')(({ theme }) => ({\n  position: 'absolute',\n  left: 0,\n  right: 0,\n  top: 0,\n  bottom: 0,\n  display: 'flex',\n  alignItems: 'center',\n  justifyContent: 'center',\n  color: theme.palette.common.white,\n}));\n\nconst ImageBackdrop = styled('span')(({ theme }) => ({\n  position: 'absolute',\n  left: 0,\n  right: 0,\n  top: 0,\n  bottom: 0,\n  backgroundColor: theme.palette.common.black,\n  opacity: 0.4,\n  transition: theme.transitions.create('opacity'),\n}));\n\nconst ImageMarked = styled('span')(({ theme }) => ({\n  height: 3,\n  width: 18,\n  backgroundColor: theme.palette.common.white,\n  position: 'absolute',\n  bottom: -2,\n  left: 'calc(50% - 9px)',\n  transition: theme.transitions.create('opacity'),\n}));\n\nexport default function HpButtons({ images, handleImgButtonClick }) {\n  return (\n    <Box sx={{ display: 'flex', flexWrap: 'wrap', minWidth: 300, width: '100%' }}>\n      {images.map((image) => (\n        <ImageButton\n\t\t\t\t\tonClick={() => handleImgButtonClick(`${image.value}`)}\n          focusRipple\n          key={image.title}\n\t\t\t\t\tvalue={image.value}\n          style={{\n            width: image.width,\n          }}\n        >\n          <ImageSrc style={{ backgroundImage: `url(${image.url})` }} value={image.value}/>\n          <ImageBackdrop className=\"MuiImageBackdrop-root\" value={image.value}/>\n          <Image>\n            <Typography\n\t\t\t\t\t\t\tvalue={image.value}\n              component=\"span\"\n              variant=\"h6\"\n              color=\"inherit\"\n              sx={{\n                position: 'relative',\n                p: 4,\n                pt: 2,\n                pb: (theme) => `calc(${theme.spacing(1)} + 6px)`,\n              }}\n            >\n              {image.title}\n              <ImageMarked className=\"MuiImageMarked-root\" value={image.value}/>\n            </Typography>\n          </Image>\n        </ImageButton>\n      ))}\n    </Box>\n  );\n}","import { useState, useEffect } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport { useSelector } from 'react-redux'\nimport { Typography, Grid, Box, ToggleButton, ToggleButtonGroup, Avatar, Paper } from '@mui/material'\nimport HpButtons from './HpButtons'\nimport LitTextListShow from \"../litTexts/LitTextListShow\"\nimport TimeAgoContainer from '../shared/TimeAgoContainer';\n\nexport default function Homepage() {\n\tconst initialState = () => []\n\tconst initialComs = () => \"coms\"\n\tconst [comments, setComments] = useState(initialState())\n\tconst [litTexts, setLitTexts] = useState(initialState())\n\tconst [comsOrTexts, setComsOrTexts] = useState(initialComs())\n\tconst history = useHistory()\n\n\tconst userState = useSelector((state) => state.user)\n  const user = userState.entities.length > 0 && userState.errors.length === 0 ? userState.entities[0] : null\n\t\n\tconst getComments = () => {\n\t\tfetch('/api/recent_comments')\n\t\t.then(r => r.json())\n\t\t.then(data => setComments(() => data))\n\t}\n\n\tconst getLitTexts = () => {\n\t\tfetch('/api/recent_lit_texts')\n\t\t.then(r => r.json())\n\t\t.then(data => setLitTexts(() => data))\n\t}\n\n\tuseEffect(() => {\n\t\tgetComments()\n\t\tgetLitTexts()\n\t}, [])\n\n\n\tconst handleComsOrTexts = (event, newOrder) => {\n\t\tsetComsOrTexts(() => newOrder)\n\t}\n\n\tconst handleImgButtonClick = (e) => {\n\t\tuserState.entities.length === 0 && e !== \"signup\" ?\n    history.push('/login') :\n\t\thistory.push(`/${e}`)\n\t}\n\n\n\tconst imgBtnTitles = () => {\n\t\tconst imgBtnConditional = () => {\n\t\t\tif (user) {\n\t\t\t\treturn [\n\t\t\t\t\t{\n\t\t\t\t\t\t\"name\": \"Library\",\n\t\t\t\t\t\t\"value\": \"texts\"\n\t\t\t\t\t}, \n\t\t\t\t\t{\n\t\t\t\t\t\t\"name\": \"Members\",\n\t\t\t\t\t\t\"value\": \"users\"\n\t\t\t\t\t},\n\t\t\t\t]\n\t\t\t} else {\n\t\t\t\treturn [\n\t\t\t\t\t{\n\t\t\t\t\t\t\"name\": \"Log in\",\n\t\t\t\t\t\t\"value\": \"login\"\n\t\t\t\t\t}, \n\t\t\t\t\t{\n\t\t\t\t\t\t\"name\": \"Sign up\",\n\t\t\t\t\t\t\"value\": \"signup\"\n\t\t\t\t\t},\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t\treturn [\n\t\t\t...imgBtnConditional(),\n\t\t\t{\n\t\t\t\t\"name\": \"About\",\n\t\t\t\t\"value\": \"about\"\n\t\t\t}\n\t\t]\n\t}\n\t// console.log(imgBtnTitles())\n\n\tconst images = [\n\t\t{\n\t\t\turl: 'https://az334034.vo.msecnd.net/images-5/vanitas-still-life-with-a-candlestick-musical-instruments-dutch-books-a-writing-set-an-astrological-and-a-terrestial-globe-and-an-hourglass-all-on-a-draped-table-evert-collier-1662-55185426.jpg',\n\t\t\ttitle: imgBtnTitles()[0].name,\n\t\t\tvalue: imgBtnTitles()[0].value,\n\t\t\twidth: '33.33%',\n\t\t},\n\t\t{\n\t\t\turl: 'https://image.invaluable.com/housePhotos/sothebys/97/580697/H0046-L88399130.jpg',\n\t\t\ttitle: imgBtnTitles()[1].name,\n\t\t\tvalue: imgBtnTitles()[1].value,\n\t\t\twidth: '33.34%',\n\t\t},\n\t\t{\n\t\t\turl: 'https://i.pinimg.com/originals/3b/2e/92/3b2e9253eb51787a860a36807702c66e.jpg',\n\t\t\ttitle: imgBtnTitles()[2].name,\n\t\t\tvalue: imgBtnTitles()[2].value,\n\t\t\twidth: '33.33%',\n\t\t},\n\t]\n\n\n\tconst toggleArr = [\n\t\t[\"coms\", \"Newest Comments\"],\n\t\t[\"texts\", \"Recently Added Texts\"]\n\t]\n\n\n\n\tconst displayRecentComments = () => {\n\t\treturn comments.sort(\n\t\t\t(a, b) => Date.parse(b.created_at) - Date.parse(a.created_at)\n\t\t).map(com => {\n\t\t\tconst comLitText = { \n\t\t\t\t\"title\": com.lit_text_title,\n\t\t\t\t\"author_name\": com.lit_text_author,\n\t\t\t\t\"pubdate\": com.lit_text_date,\n\t\t\t\t\"content\": com.lit_text_preview, \n\t\t\t\t\"id\": com.lit_text_id, \n\t\t\t\t\"prose\": com.lit_text_prose, \n\t\t\t\t\"translator\": com.lit_text_translator \n\t\t\t}\n\t\t\treturn (\n\t\t\t\t<Grid container item xs={10} key={com.id}>\n\t\t\t\t\t<Paper\n\t\t\t\t\t\tsx={{ width: \"100%\", p: 2, my: 1, pt: 4 }}\n\t\t\t\t\t\televation={2}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Grid container item xs={12}>\n\t\t\t\t\t{/* ADD COMTYPES */}\n\t\t\t\t\t<Grid item xs=\"auto\">\n\t\t\t\t\t\t\t<Avatar \n\t\t\t\t\t\t\t\talt={com.user_fullname} \n\t\t\t\t\t\t\t\tsrc={com.user_image} \n\t\t\t\t\t\t\t\tsx={{ cursor: \"pointer\", width: 120, height: 120, ml: 3, mr: 1, mt: 0 }} \n\t\t\t\t\t\t\t\tonClick={() => handleImgButtonClick(`users/${com.user_id}`)} \n\t\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid justifyContent=\"left\" item xs>\n\t\t\t\t\t\t<Box sx={{ ml: 2, mt: 1 }}>\n\t\t\t\t\t\t<Typography \n\t\t\t\t\t\t\tonClick={() => handleImgButtonClick(`users/${com.user_id}`)} \n\t\t\t\t\t\t\tsx={{ cursor: \"pointer\", fontSize: 25, fontWeight: 401, mb: -1 }} \n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{com.user_fullname}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography variant=\"body1\" sx={{ mt:\"12px\", mb:1 }}>\n\t\t\t\t\t\t\t{com.content}\n\t\t\t\t\t\t</Typography>\t\n\t\t\t\t\t\t<TimeAgoContainer \n\t\t\t\t\t\t\tcreated_at={com.created_at} \n\t\t\t\t\t\t\tupdated_at={com.updated_at} \n\t\t\t\t\t\t\tisDeleted={false} \n\t\t\t\t\t\t\tfromLitTextShow={false}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<LitTextListShow key={com.lit_text_id} litText={comLitText}/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t</Paper>\n\t\t\t\t</Grid>\n\t\t\t)\n\t\t})\n\t}\n\n\tconst displayTextPreviews = () => \n\t\tlitTexts.sort(\n\t\t\t(a, b) => Date.parse(b.created_at) - Date.parse(a.created_at)\n\t\t).map(\n\t\t\ttext => <LitTextListShow key={text.id} litText={text}/>\n\t\t)\n\n\n\treturn(\n\t\t<Grid container justifyContent=\"center\">\n\n\t\t\t<Grid item xs={10} sx={{ mt: 3 }}>\n\t\t\t\t<HpButtons images={images} handleImgButtonClick={handleImgButtonClick} />\n\t\t\t</Grid>\n\n\t\t\t<Grid item xs={12}>\n\t\t\t\t<Typography \n\t\t\t\t\tid=\"top\" \n\t\t\t\t\tvariant=\"h2\" \n\t\t\t\t\ttextAlign=\"center\" \n\t\t\t\t\tsx={{ pt:2, pb:2, fontWeight: 410 }}\n\t\t\t\t>\n\t\t\t\t\tRecent Activity\n\t\t\t\t</Typography>\n\t\t\t</Grid>\n\n\n\t\t\t{comments.length > 0 && litTexts.length >0 ?\n\t\t\t\t<>\n\t\t\t\t\t<Box textAlign=\"center\" sx={{ pb: 2 }}>\n\t\t\t\t\t\t<ToggleButtonGroup\n\t\t\t\t\t\t\texclusive\n\t\t\t\t\t\t\tvalue={comsOrTexts}\n\t\t\t\t\t\t\tonChange={handleComsOrTexts}\n\t\t\t\t\t\t\taria-label=\"Newest comments or recent texts\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{toggleArr.map(el => {return (\n\t\t\t\t\t\t\t\t<ToggleButton \n\t\t\t\t\t\t\t\t\tkey={el[0]}\n\t\t\t\t\t\t\t\t\tvalue={el[0]}\n\t\t\t\t\t\t\t\t\taria-label={el[1]}\n\t\t\t\t\t\t\t\t\tsx={{ color: \"fff\"}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{el[1]}\n\t\t\t\t\t\t\t\t</ToggleButton>\n\t\t\t\t\t\t\t)})}\n\t\t\t\t\t\t</ToggleButtonGroup>\n\t\t\t\t\t</Box>\n\n\t\t\t\t\t{comsOrTexts === \"coms\" ? \n\t\t\t\t\t\tdisplayRecentComments()\n\t\t\t\t\t:\n\t\t\t\t\t\t<Grid container item xs={10}>\n\t\t\t\t\t\t\t{displayTextPreviews()}\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t}\n\t\t\t\t</>\n\t\t\t: \n\t\t\t\t<div className=\"centered-in-window\" >\n\t\t\t\t\t\t<div className=\"dot-flashing\"></div>\n\t\t\t\t</div>\n\t\t\t}\t\t\t\t\t\n\t\t</Grid>\n\t)\n}","import { useEffect, Fragment } from 'react'\nimport { useHistory, Link } from 'react-router-dom'\nimport { useSelector } from 'react-redux'\nimport { HashLink } from 'react-router-hash-link'\nimport { Typography, Grid, Box, Stack, Button, Avatar } from '@mui/material'\nimport HpButtons from './HpButtons'\n\nexport default function AboutPage() {\n\tconst userState = useSelector(state => state.user)\n  const user = userState.entities.length > 0 && userState.errors.length === 0 ? userState.entities[0] : null\n\tconst history = useHistory()\n\n\tuseEffect(() => {\n\t\tif (history.location.hash.length > 0) history.push(\"/about\")\n\t}, [history])\n\n\tconst handleImgButtonClick = (e) => {\n\t\tuserState.entities.length === 0 && e !== \"signup\" ?\n    history.push('/login') :\n\t\thistory.push(`/${e}`)\n\t}\n\n\tconst imgBtnTitles = () => {\n\t\tconst imgBtnConditional = () => {\n\t\t\tif (user) {\n\t\t\t\treturn [\n\t\t\t\t\t{\n\t\t\t\t\t\t\"name\": \"Library\",\n\t\t\t\t\t\t\"value\": \"texts\"\n\t\t\t\t\t}, \n\t\t\t\t\t{\n\t\t\t\t\t\t\"name\": \"Members\",\n\t\t\t\t\t\t\"value\": \"users\"\n\t\t\t\t\t},\n\t\t\t\t]\n\t\t\t} else {\n\t\t\t\treturn [\n\t\t\t\t\t{\n\t\t\t\t\t\t\"name\": \"Log in\",\n\t\t\t\t\t\t\"value\": \"login\"\n\t\t\t\t\t}, \n\t\t\t\t\t{\n\t\t\t\t\t\t\"name\": \"Sign up\",\n\t\t\t\t\t\t\"value\": \"signup\"\n\t\t\t\t\t},\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t\treturn [\n\t\t\t...imgBtnConditional(),\n\t\t\t{\n\t\t\t\t\"name\": \"Home\",\n\t\t\t\t\"value\": \"\"\n\t\t\t}\n\t\t]\n\t}\n\n\tconst images = [\n\t\t{\n\t\t\turl: 'https://az334034.vo.msecnd.net/images-5/vanitas-still-life-with-a-candlestick-musical-instruments-dutch-books-a-writing-set-an-astrological-and-a-terrestial-globe-and-an-hourglass-all-on-a-draped-table-evert-collier-1662-55185426.jpg',\n\t\t\ttitle: imgBtnTitles()[0].name,\n\t\t\tvalue: imgBtnTitles()[0].value,\n\t\t\twidth: '33.33%',\n\t\t},\n\t\t{\n\t\t\turl: 'https://image.invaluable.com/housePhotos/sothebys/97/580697/H0046-L88399130.jpg',\n\t\t\ttitle: imgBtnTitles()[1].name,\n\t\t\tvalue: imgBtnTitles()[1].value,\n\t\t\twidth: '33.34%',\n\t\t},\n\t\t{\n\t\t\turl: 'https://i.ibb.co/7yY7cb8/Angeluccio-View-of-Vicovaro.jpg',\n\t\t\ttitle: imgBtnTitles()[2].name,\n\t\t\tvalue: imgBtnTitles()[2].value,\n\t\t\twidth: '33.33%',\n\t\t},\n\t]\n\n\n\tconst buttonArr = [\"What Is It?\", \"How Do I Use It?\", \"How Was It Made?\", \"Who Made It?\"]\n\t\n\tconst buttons = <Stack spacing={2} direction=\"row\" sx={{ mb: 1 }}>\n\t\t{buttonArr.map(item => {\n\t\t\tconst itemHash = `/about#${item.slice(0, -1).toLowerCase().replaceAll(\" \", \"-\")}`\n\t\t\treturn (\n\t\t\t\t<HashLink key={item} smooth to={itemHash}> \n\t\t\t\t\t<Button variant=\"text\" id={item}>{item}</Button>\n\t\t\t\t</HashLink>\n\t\t\t)\n\t\t})}\n\t</Stack>\n\n\tconst userStoryItems = [\n\t\t[\"Securely sign up, log in, log out, and remain authorized on refresh\"],\n\t\t[\"Upload poems, stories, and other literary texts\"],\n\t\t[\"Edit texts they uploaded\", [<span key={1}>Or, if the user is a &ldquo;librarian&rdquo; user-type, edit any uploaded text</span>]],\n\t\t[\"Browse, search, filter, and read those texts\"],\n\t\t[\"Post comments on texts and replies to other comments\"],\n\t\t[\"Edit and delete their own comments\", [<span key={2}>If a comment has replies or is a reply, deleting it will leave a ghost that says comment was deleted rather than simply vanishing</span>]],\n\t\t[<span key={3}>Assign their comments multiple comment types, such question or critique</span>, [\"Add and remove comment types from their comments\"]],\n\t\t[\"Browse, search, and filter all comments on a particular text\"],\n\t\t[\"Browse, search, and filter other users profiles\"],\n\t\t[\"Edit their own profile\"],\n\t\t[\"Delete their account\"]\n\t]\n\n\tconst storyList = arr => arr.map(item => {\n\t\tconst itemLi = itemElement => <li key={itemElement}><Typography key={`${itemElement}1`} variant=\"body1\" component=\"span\">{itemElement}</Typography></li>\n\t\tif (item.length === 1) {\n\t\t\treturn itemLi(item[0]) \n\t\t} else {\n\t\t\treturn (\n\t\t\t<Fragment key={item}>\n\t\t\t\t{itemLi(item[0])}\n\t\t\t\t<ul>{item[1].map(item => itemLi(item))}</ul>\n\t\t\t</Fragment>\n\t\t\t)\n\t\t}\n\t})\n\n\n\tconst dependencyLinks = [\n\t\t[\"MUI\", \"https://mui.com/\"],\n\t\t[\"Quill\", \"https://quilljs.com/\"],\n\t\t[\"React-Quill\", \"https://github.com/zenoamaro/react-quill\"],\n\t\t[\"html-react-parser\", \"https://github.com/remarkablemark/html-react-parser#readme\"],\n\t\t[\"Rails Html Sanitizers\", \"https://github.com/rails/rails-html-sanitizer\"],\n\t\t[\"bcrypt\", \"https://github.com/bcrypt-ruby/bcrypt-ruby\"],\n\t]\n\n\tconst myProfiles = [\n\t\t[\"LinkedIn\", \"https://www.linkedin.com/in/alec-magnet/\"],\n\t\t[\"GitHub\", \"https://github.com/alecmagnet\"],\n\t\t[\"Medium\", \"https://medium.com/@alecmagnet\"],\n\t]\n\n\tconst linkList = (arr) => arr.map(item => {\n\t\treturn(\n\t\t\t<span key={item[0]}>{item === arr[arr.length - 1] ? \"and \" : null}\n\t\t\t\t<a\n\t\t\t\thref={item[1]}\n\t\t\t\trel=\"noreferrer\" target=\"_blank\" \n\t\t\t\tstyle={{ color: \"#455a64\"}}\n\t\t\t>{item[0]}</a>{item === arr[arr.length - 1] ? null : \", \"}</span> \t\t\n\t\t)\n\t})\n\n\n\tconst whatIsMargArr = [\n\t\t\"Marginalia is a social reading and annotation site where people can have conversations with one another about literary works they share and read.\",\n\t\t<span key={4}>The word <em>marginalia</em> refers to the notes and markings that readers make in the margins of page. These notes leave traces of a reader&rsquo;s progress through a text. They also provide a way for readers to communicate with one another, sometimes from across centuries. The first poem in our database  appropriately, &ldquo;<Link to=\"/texts/1\" style={{ color: \"#455a64\" }}>Marginalia</Link>&rdquo; by Billy Collins  conveys how moving these moments of unexpected contact with another reader can be.</span>,\n\t\t\"This app, Marginalia, seeks to restore the social dimension of reading by providing a venue for readers to speak with one another through the comments they leave on literary texts.\"\n\t]\n\n\tconst whatCanUserArr = [\n\t\t<span key={1}>\n\t\t\tA user of Marginalia can:\n\t\t</span>\n\t]\n\n\tconst howWasItMadeArr = [\n\t\t<span key={5}>\n\t\t\tMarginalia was my final project for software engineering bootcamp at <a \n\t\t\t\thref=\"https://flatironschool.com/campus-and-online-coding-bootcamp/\" \n\t\t\t\trel=\"noreferrer\" target=\"_blank\" \n\t\t\t\tstyle={{ color: \"#455a64\"}}\n\t\t\t>Flatiron</a>. Please check out the repo on <a\n\t\t\t\thref=\"https://github.com/alecmagnet/marginalia\"\n\t\t\t\trel=\"noreferrer\" target=\"_blank\" \n\t\t\t\tstyle={{ color: \"#455a64\"}}\n\t\t\t>GitHub</a>.\n\t\t</span>,\n\t\t<span key={6}>\n\t\t\tI coded Marginalia using JS, React, Redux, Ruby, and Rails, along with several other dependencies, including {linkList(dependencyLinks)}.\n\t\t</span>,\n\t\t<span key={7}>\n\t\t\tThrough trial and a <em>lot</em> of error, I learned a crucial lesson about coding, which I plan to apply from here on out: <b>\n\t\t\t\tPlan for modularity by making your code as straightforward and standardized as possible!\n\t\t\t</b>\n\t\t</span>,\n\t\t\"Since you can't anticipate all the ways you might reuse a component, your needs to be flexible.\",\n\t\t\"The main thing that tripped me up here was style. I taught myself to use MUI as I went, so the components I wrote early on use a lot of unnessary styling that only really works in the instance where I first call them. As I update this project, I hope I to simplify my style and make those components more reusable.\",\n\t\t\"Another thing you'll notice as you look through my repo is that I learned how to make my code drier along the way. That, too, requires simple, standardized code. It's harder to map through an array of menu items if you need to put different sx props on the first and last ones. I got much better at this as I went. Next time, I won't give myself so many tangles to smooth out and refactor.\"\n\t]\n\n\tconst whoMadeItArr = [\n\t\t\"I did. Hello! My name is Alec Magnet. I graduate from coding bootcamp in October 2021 after thirteen years teaching literature and writing at the City College of New York, Marymount Manhattan College, and elsewhere. Now I'm looking for a full-stack software engineering position position where I can put the talents and enthusiasm I developed as an educator to use building tools that can use to learn, grow, and flourish.\",\n\t\t<span key={8}>Check me out on {linkList(myProfiles)}.</span>\n\t]\n\n\tconst contentGrafs = (arr) => arr.map((item, key) => \n\t\t<Typography key={key} variant=\"body1\" sx={{ pt: 2 }} >\n\t\t\t{item} \n\t\t</Typography>\t\t\n\t)\n\n\n\treturn(\n    <Grid \n\t\t\tid = \"top\"\n\t\t\tcontainer \n\t\t\tjustifyContent=\"Center\"\t\n\t\t\talignItems=\"center\"\n\t\t>\n\n\t\t\t<Grid item xs={10} sx={{ mt: 3 }}>\n\t\t\t\t<HpButtons images={images} handleImgButtonClick={handleImgButtonClick} />\n\t\t\t</Grid>\n\n\t\t\t<Grid item xs={12}>\n\t\t\t\t<Typography \n\t\t\t\t\tid=\"top\" \n\t\t\t\t\tvariant=\"h2\" \n\t\t\t\t\ttextAlign=\"center\" \n\t\t\t\t\tsx={{ pt:2, pb:2, fontWeight: 410 }}\n\t\t\t\t>\n\t\t\t\t\tAbout Marginalia\n\t\t\t\t</Typography>\n\t\t\t</Grid>\n\n\t\t\t<Grid item xs display=\"flex\" justifyContent=\"center\">\n\t\t\t\t{buttons}\n\t\t\t</Grid>\n\n\t\t\t<Box justifyContent=\"center\" sx={{ width: \"90%\", mx: \"5%\", }}>\n\t\t\t\t<Box sx={{ px: 6, pt: 1, pb: 3, mt: 0, }}>\n\t\t\t\t\t<Typography id=\"what-is-it\" variant=\"h4\" justify=\"center\" sx={{  }}>\n\t\t\t\t\t\tWhat is Marginalia?\n\t\t\t\t\t</Typography>\n\t\t\t\t\t{contentGrafs(whatIsMargArr)}\n\t\t\t\t\t<Typography id=\"how-do-i-use-it\" variant=\"h4\" justify=\"center\" sx={{ mt: 3 }}>\n\t\t\t\t\t\tHow Do I Use It?\n\t\t\t\t\t</Typography>\n\t\t\t\t\t{contentGrafs(whatCanUserArr)}\n\t\t\t\t\t<Box sx={{ mt: 2 }}>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t{storyList(userStoryItems)}\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Typography id=\"how-was-it-made\" variant=\"h4\" justify=\"center\" sx={{ pt: 1 }}>\n\t\t\t\t\t\tHow Was It Made?\n\t\t\t\t\t</Typography>\n\t\t\t\t\t{contentGrafs(howWasItMadeArr)}\n\t\t\t\t\t<Typography id=\"who-made-it\" variant=\"h4\" justify=\"center\" sx={{ pt: 3 }}>\n\t\t\t\t\t\tWho Made It?\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Avatar\n\t\t\t\t\t\tvariant=\"square\"\n\t\t\t\t\t\talt=\"Alec Magnet\" \n\t\t\t\t\t\tsrc=\"https://avatars.githubusercontent.com/u/85529561?v=4\" \n\t\t\t\t\t\tsx={{ float: \"left\", cursor: \"pointer\", width: 135, height: 135, mt: 3, mr: 2, ml: 0 }} \n\t\t\t\t\t\tonClick={() => history.push(\"/users/1\")} \n\t\t\t\t\t/>\n\t\t\t\t\t{contentGrafs(whoMadeItArr)}\t\t\t\t\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t\t<HashLink smooth to=\"#top\"> \n\t\t\t\t<Button variant=\"text\">Top</Button>\n\t\t\t</HashLink>\n\t\t</Grid>\t\t\n\t)\n}","import { useEffect, useCallback, Fragment } from 'react'\nimport { Switch, Route } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { createTheme, ThemeProvider } from '@mui/material/styles'\nimport './App.css';\n\nimport Navbar from './features/homepage/Navbar';\nimport Signup from './features/homepage/Signup';\nimport Login from './features/homepage/Login';\nimport LitTextsContainer from './features/litTexts/LitTextsContainer';\nimport LitTextShow from './features/litTexts/LitTextShow';\nimport UsersContainer from './features/users/UsersContainer'\nimport UserShow from './features/users/UserShow';\nimport Homepage from './features/homepage/Homepage';\nimport AboutPage from './features/homepage/AboutPage';\nimport { fetchLitTexts } from './features/litTexts/litTextsSlice';\nimport { fetchAllUsers } from './features/users/allUsersSlice'\nimport { fetchComments } from './features/comments/commentsSlice';\nimport { addLoginUser } from './features/users/userSlice'\n\nexport default function App() {\n  const commentsState = useSelector((state) => state.comments)  \n  const userState = useSelector((state) => state.user)\n  const user = userState.entities.length > 0 && userState.errors.length === 0 ? userState.entities[0] : null\n  const dispatch = useDispatch()\n\n  const onAuth = useCallback(() => {\n    fetch(\"/api/auth\").then((res) => {\n      if (res.ok) {\n        res.json().then((data) => {\n          dispatch(addLoginUser(data))\n          dispatch(fetchLitTexts())\n          dispatch(fetchAllUsers())\n          dispatch(fetchComments())\n        });\n      } \n    });\n  }, [dispatch])\n\n  useEffect(() => {\n    onAuth()\n  }, [onAuth])\n\n  const theme = createTheme({\n    palette: {\n      primary: {\n        main: \"#3e2723\",\n      },\n      secondary: {\n        main: \"#263238\",\n      },\n    },\n  })\n\n  return (\n    <ThemeProvider theme={theme}>\n        <Fragment>\n          <Navbar />\n          <Switch>\n            {user ?\n              <Fragment>\n                <Route exact path='/texts'>\n                  <LitTextsContainer />\n                </Route>\n\n                <Route exact path='/texts/:id'>\n                  <LitTextShow />\n                </Route>\n\n                <Route exact path='/users'>\n                  <UsersContainer />\n                </Route>\n\n                <Route exact path='/users/:id'>\n                  <UserShow />\n                </Route>\n\n                <Route exact path='/about'>\n                  <AboutPage />\n                </Route>\n\n                <Route exact path='/'>\n                  <Homepage />\n                </Route>\n\n              </Fragment>\n              \n            : userState.status === \"pending\" || commentsState.status === \"pending\" ?\n              <Fragment>\n                <div className=\"centered-in-window\" >\n                  <div className=\"dot-flashing\"></div>\n                </div>\n              </Fragment>\n            : \n              <Fragment>\n                <Route exact path=\"/login\">\n                  <Login />\n                </Route>\n                <Route exact path=\"/signup\">\n                  <Signup />\n                </Route>\n                <Route exact path='/'>\n                  <Homepage />\n                </Route>\n              </Fragment>\n            }      \n          </Switch>\n        </Fragment>\n    </ThemeProvider>\n  );\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { configureStore } from \"@reduxjs/toolkit\"\nimport litTextsReducer from './features/litTexts/litTextsSlice'\nimport showTextReducer from './features/litTexts/showTextSlice'\nimport allUsersReducer from './features/users/allUsersSlice'\nimport showUserReducer from './features/users/showUserSlice'\nimport userReducer from './features/users/userSlice'\nimport commentsReducer from './features/comments/commentsSlice'\n\nconst store = configureStore({\n  reducer: {\n\t\tlitTexts: litTextsReducer,\n\t\tshowText: showTextReducer,\n\t\tallUsers: allUsersReducer,\n\t\tshowUser: showUserReducer,\n\t\tcomments: commentsReducer,\n\t\tuser: userReducer,\n  },\t\n})\n\nexport default store\n\n\n// import { setupListeners } from '@reduxjs/toolkit/query'\n\n\n\t// window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__(),\n\t// middleware: (getDefaultMiddleware) => getDefaultMiddleware().concat(litTextsApi.middleware),\n\n\n\n// const composeEnhancers =\n//   typeof window === 'object' &&\n//   window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ?   \n//     window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\n//     }) : compose;\n\n// const enhancer = composeEnhancers(\n//   applyMiddleware(...middleware),\n// );","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router} from 'react-router-dom'\nimport { Provider } from \"react-redux\";\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport store from \"./store\";\nimport '@fontsource/roboto/300.css';\nimport '@fontsource/roboto/400.css';\nimport '@fontsource/roboto/500.css';\nimport '@fontsource/roboto/700.css';\n\nReactDOM.render(\n  <Provider store={store}>\n    <Router>\n      <App />\n    </Router>\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}