(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{188:function(e,t,n){},189:function(e,t,n){},288:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(40),i=n.n(a),c=n(26),s=n(14),o=(n(188),n(21)),l=n(157),u=n(342),d=(n(189),n(6)),j=n(18),b=n.n(j),h=n(23),m=n(19),x=Object(m.b)("user/authorize",Object(h.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/auth");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))),p=Object(m.b)("user/loginUser",function(){var e=Object(h.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),f=Object(m.b)("user/logoutUser",Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("/api/logout",{method:"DELETE"});case 1:case"end":return e.stop()}}),e)})))),O=Object(m.b)("user/signupUser",function(){var e=Object(h.a)(b.a.mark((function e(t){var n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,console.log("signupUser:",r),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),g=Object(m.c)({name:"user",initialState:{entities:[],status:"idle",errors:[]},reducers:{addLoginUser:function(e,t){e.entities.splice(0,1,t.payload),e.errors=[],e.status="idle"},addSignupUser:function(e,t){e.entities.splice(0,1,t.payload),e.errors=[],e.status="idle"},updateCurrentUser:function(e,t){e.entities.splice(0,1,t.payload),e.errors=[],e.status="idle"}},extraReducers:function(e){e.addCase(x.pending,(function(e){e.status="loading"})).addCase(x.fulfilled,(function(e,t){e.entities.splice(0,1,t.payload),e.errors=[],e.status="idle"})).addCase(x.rejected,(function(e,t){e.errors.push(t.error),e.status="error"})).addCase(p.pending,(function(e){e.status="loading"})).addCase(p.fulfilled,(function(e,t){e.entities.splice(0,1,t.payload),e.errors=[],e.status="idle",console.log("loginUser FULFILLED")})).addCase(p.rejected,(function(e,t){e.errors=t.error.message,e.entities=[],e.status="error"})).addCase(f.pending,(function(e){e.status="loading"})).addCase(f.fulfilled,(function(e,t){e.entities=[],e.errors=[],e.status="idle"})).addCase(f.rejected,(function(e,t){e.errors=t.error,e.status="error"})).addCase(O.pending,(function(e){e.status="loading"})).addCase(O.fulfilled,(function(e,t){e.entities=t.payload,e.status="idle"})).addCase(O.rejected,(function(e,t){e.errors=t.error,e.status="error"}))}}),y=g.actions,v=y.addLoginUser,C=y.addSignupUser,w=y.updateCurrentUser,T=g.reducer,k=Object(m.b)("litTexts/fetchLitTextById",function(){var e=Object(h.a)(b.a.mark((function e(t){var n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/users/".concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),A=Object(m.c)({name:"showText",initialState:{entities:[],status:"idle",errors:null},reducers:{updateShowUser:function(e,t){e.entities=t.payload,e.status="idle"}},extraReducers:function(e){e.addCase(k.pending,(function(e){e.status="loading"})).addCase(k.fulfilled,(function(e,t){e.entities=t.payload,e.status="idle"})).addCase(k.rejected,(function(e,t){e.errors=t.payload.errors,e.status="error"}))}}),S=A.actions.updateShowUser,I=A.reducer,L=n(348),P=n(347),_=n(349),N=n(352),E=n(351),W=n(339),B=n(156),U=n(350),D=n(343),M=n(147),Y=n.n(M),R=n(146),J=n.n(R),V=n(148),z=n.n(V),H=n(145),F=n.n(H),Z=n(0);function q(){var e=Object(r.useState)(null),t=Object(d.a)(e,2),n=t[0],a=t[1],i=Boolean(n),c=Object(s.b)(),l=Object(o.f)(),u=Object(s.c)((function(e){return e.user})),j=u.entities.length>0&&0===u.errors.length?u.entities[0]:null,b=u.entities.length>0&&0===u.errors.length?j.fullname:null,h=u.entities.length>0&&0===u.errors.length?j.image:null,m=function(e){a(e.currentTarget)},x=function(){a(null)},p=function(){x(),l.push("/login")},O=function(){l.push("/")},g="primary-search-account-menu",y=Object(Z.jsxs)(B.a,{anchorEl:n,anchorOrigin:{vertical:"top",horizontal:"right"},id:g,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:i,onClose:x,children:[u.entities.length>0?Object(Z.jsx)(W.a,{onClick:function(){x(),c(k(j.id)),l.push("/users/".concat(j.id))},children:"Profile"}):Object(Z.jsx)(W.a,{onClick:p,children:"Log in"}),u.entities.length>0?Object(Z.jsx)(W.a,{onClick:function(){c(f()),p()},children:"Logout"}):Object(Z.jsx)(W.a,{onClick:function(){x(),l.push("/signup")},children:"Sign up"})]});return Object(Z.jsxs)(P.a,{sx:{flexGrow:1},children:[Object(Z.jsx)(L.a,{position:"static",children:Object(Z.jsxs)(_.a,{children:[Object(Z.jsx)(U.a,{title:"Home",arrow:!0,children:Object(Z.jsx)("img",{src:"data:image/png;base64,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",alt:"Marginalia Logo",style:{height:"70px",paddingRight:"20px",paddingBottom:"0px",cursor:"pointer"},onClick:O})}),Object(Z.jsx)(U.a,{title:"Home",arrow:!0,children:Object(Z.jsx)(E.a,{variant:"h3",noWrap:!0,component:"div",sx:{display:{xs:"none",sm:"block"},cursor:"pointer",fontFamily:"Didot"},onClick:O,children:Object(Z.jsx)("b",{children:"Marginalia"})})}),Object(Z.jsx)(P.a,{sx:{flexGrow:1}}),Object(Z.jsx)(U.a,{title:"About",arrow:!0,children:Object(Z.jsx)(N.a,{"aria-label":"about",color:"inherit",onClick:function(){l.push("/about")},children:Object(Z.jsx)(F.a,{sx:{fontSize:32,px:2,mb:-1}})})}),Object(Z.jsx)(U.a,{title:"Users",arrow:!0,children:Object(Z.jsx)(N.a,{"aria-label":"all users",color:"inherit",onClick:function(){0===u.entities.length?l.push("/login"):l.push("/users")},sx:{px:2,mb:-1},children:Object(Z.jsx)(J.a,{sx:{fontSize:35}})})}),Object(Z.jsx)(U.a,{title:"Texts",arrow:!0,children:Object(Z.jsx)(N.a,{"aria-label":"all texts",color:"inherit",onClick:function(){0===u.entities.length?l.push("/login"):l.push("/texts")},children:Object(Z.jsx)(Y.a,{sx:{fontSize:35,px:2,mb:-1}})})}),0===u.entities.length?Object(Z.jsx)(U.a,{title:"Me",arrow:!0,children:Object(Z.jsx)(N.a,{edge:"end","aria-label":"account of current user","aria-controls":g,"aria-haspopup":"true",onClick:m,color:"inherit",children:Object(Z.jsx)(z.a,{sx:{fontSize:55,pl:2}})})}):Object(Z.jsx)(U.a,{title:"Me",arrow:!0,children:Object(Z.jsx)(D.a,{alt:b,src:h,sx:{width:55,height:55,cursor:"pointer",ml:3},edge:"end","aria-label":"account of current user","aria-controls":g,"aria-haspopup":"true",onClick:m,color:"inherit"})})]})}),y]})}var G=n(3),K=n(16),Q=n(354),X=n(340),$=n(344),ee=n(94),te=n.n(ee),ne=n(353),re=n(67),ae=n.n(re);var ie=function(){var e=Object(r.useState)({username:"",first_name:"",last_name:"",fam_name_first:!1,password:"",fullname:"",image:"",bio:"",usertype:"Reader"}),t=Object(d.a)(e,2),n=t[0],a=t[1],i=Object(r.useState)([]),c=Object(d.a)(i,2),l=c[0],u=c[1],j=Object(s.b)(),b=Object(o.f)();function h(e){a(Object(K.a)(Object(K.a)({},n),{},Object(G.a)({},e.target.id,e.target.value)))}var m=function(){a(Object(K.a)(Object(K.a)({},n),{},{fam_name_first:!n.fam_name_first}))},x=function(e){var t=e.includes("amily")?"last_name":"first_name",r=e.includes("amily")?n.last_name:n.first_name;return Object(Z.jsx)(X.a,{onChange:h,autoComplete:t,name:t,value:r,required:!0,id:t,sx:{backgroundColor:"#f5f5f5"},label:e})},p=function(){return Object(Z.jsx)($.a,{item:!0,xs:"auto",children:Object(Z.jsx)(ae.a,{onClick:m,sx:{height:"62px",color:"#3e2723",cursor:"pointer"}})})};return Object(Z.jsx)(ne.a,{component:"main",maxWidth:"xs",children:Object(Z.jsxs)(P.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(Z.jsx)(D.a,{sx:{m:1,bgcolor:"#8c7b75"},children:Object(Z.jsx)(te.a,{size:"large"})}),Object(Z.jsx)(E.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(Z.jsxs)(P.a,{component:"form",onSubmit:function(e){e.preventDefault(),fetch("/api/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){e.errors?u(e.errors):(u([]),j(C(e)),b.push("/"))}))},sx:{mt:0},children:[l?l.map((function(e){return Object(Z.jsx)("div",{style:{color:"#660033",textAlign:"center"},children:e},e)})):null,Object(Z.jsx)(X.a,{onChange:h,required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"new-username",sx:{mt:3,bgcolor:"#f5f5f5"},autoFocus:!0}),Object(Z.jsx)($.a,{container:!0,item:!0,xs:12,sx:{mt:3},children:n.fam_name_first?Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)($.a,{item:!0,xs:!0,sx:{mr:"5px"},children:x("Family name")}),p(),Object(Z.jsx)($.a,{item:!0,xs:!0,sx:{ml:"5px"},children:x("Given name")})]}):Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)($.a,{item:!0,xs:!0,sx:{mr:"5px"},children:x("Given name")}),p(),Object(Z.jsx)($.a,{item:!0,xs:!0,sx:{ml:"5px"},children:x("Family name")})]})}),Object(Z.jsx)(X.a,{onChange:h,required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",sx:{mt:2,bgcolor:"#f5f5f5"},autoComplete:"new-password"}),Object(Z.jsx)(X.a,{onChange:h,fullWidth:!0,name:"image",label:"Profile Picture URL",id:"image",sx:{mt:3,bgcolor:"#f5f5f5"},autoComplete:"new-image"}),Object(Z.jsx)(X.a,{onChange:h,fullWidth:!0,name:"bio",label:"About Me",id:"bio",autoComplete:"new-bio",sx:{mt:3,bgcolor:"#f5f5f5"}}),Object(Z.jsx)(Q.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign Up"}),Object(Z.jsx)(P.a,{display:"flex",justifyContent:"center",children:Object(Z.jsx)(E.a,{variant:"subtitle",sx:{color:"#455a64",textDecoration:"underline",cursor:"pointer"},onClick:function(){b.push("/login")},children:"Already have an account? Sign in"})})]})]})})},ce=Object(m.b)("litTexts/fetchLitTexts",Object(h.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/lit_texts");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))),se=Object(m.b)("litTexts/postLitText",function(){var e=Object(h.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/lit_texts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:if((n=e.sent).ok){e.next=7;break}return e.abrupt("return",Promise.reject(new Error("We're sorry. There's been an error.")));case 7:return e.abrupt("return",n.json());case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),oe=Object(m.b)("litTexts/patchLitText",function(){var e=Object(h.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/lit_texts/".concat(t.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()),le=Object(m.c)({name:"litTexts",initialState:{entities:[],status:"idle",errors:[]},reducers:{addCommentToLitText:function(e,t){var n=e.entities.findIndex((function(e){return parseInt(e.id)===parseInt(t.payload.lit_text_id)}));e.entities[n].comments.push(t.payload),e.status="idle"}},extraReducers:function(e){e.addCase(ce.pending,(function(e){e.status="loading"})).addCase(ce.fulfilled,(function(e,t){e.entities=t.payload,e.status="idle"})).addCase(se.pending,(function(e){e.status="pending"})).addCase(se.fulfilled,(function(e,t){e.entities.push(t.payload),e.errors=[],e.status="idle"})).addCase(se.rejected,(function(e,t){e.errors.push(t.error),e.status="error"})).addCase(oe.pending,(function(e){e.status="pending"})).addCase(oe.fulfilled,(function(e,t){var n=e.entities.findIndex((function(e){return parseInt(e.id)===parseInt(t.payload.id)}));e.entities[n]=t.payload,e.errors=[],e.status="idle"})).addCase(oe.rejected,(function(e,t){e.errors.push(t.error),e.status="error"}))}}),ue=le.actions.addCommentToLitText,de=le.reducer,je=Object(m.b)("allUsers/fetchAllUsers",Object(h.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/users");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))),be=Object(m.c)({name:"allUsers",initialState:{entities:[],status:"idle",errors:null},reducers:{updateUser:function(e,t){var n=e.entities.findIndex((function(e){return parseInt(e.id)===parseInt(t.payload.id)}));e.entities[n]=t.payload,e.status="idle"},addCommentToUser:function(e,t){var n=e.entities.findIndex((function(e){return parseInt(e.id)===parseInt(t.payload.user_id)}));e.entities[n].comments.push(t.payload),e.status="idle"}},extraReducers:function(e){e.addCase(je.pending,(function(e){e.status="pending"})).addCase(je.fulfilled,(function(e,t){e.entities=t.payload,e.status="idle"}))}}),he=be.actions,me=he.updateUser,xe=he.addCommentToUser,pe=be.reducer,fe=n(7),Oe=Object(m.b)("comments/fetchComments",Object(h.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/comments");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))),ge=Object(m.b)("comments/postComment",function(){var e=Object(h.a)(b.a.mark((function e(t){var n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/comments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ye=Object(m.b)("comments/patchComment",function(){var e=Object(h.a)(b.a.mark((function e(t){var n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/comments/".concat(t.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ve=Object(m.b)("comments/destroyComment",function(){var e=Object(h.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fetch("/api/comments/".concat(t),{method:"DELETE"}),e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Ce=Object(m.c)({name:"comments",initialState:{entities:[],status:"idle",errors:[]},reducers:{},extraReducers:function(e){e.addCase(Oe.pending,(function(e){e.status="pending"})).addCase(Oe.fulfilled,(function(e,t){e.entities=t.payload,e.status="idle"})).addCase(Oe.rejected,(function(e,t){e.errors.push(t.error),e.status="error"})).addCase(ge.pending,(function(e){e.status="pending"})).addCase(ge.fulfilled,(function(e,t){e.entities.push(t.payload),e.errors=[],e.status="idle"})).addCase(ge.rejected,(function(e,t){e.errors.push(t.error),e.status="error"})).addCase(ye.pending,(function(e){e.status="pending"})).addCase(ye.fulfilled,(function(e,t){var n=e.entities.findIndex((function(e){return parseInt(e.id)===parseInt(t.payload.id)}));e.entities[n]=t.payload,e.status="idle"})).addCase(ye.rejected,(function(e,t){e.errors=t.error,e.status="error"})).addCase(ve.pending,(function(e){e.status="pending"})).addCase(ve.fulfilled,(function(e,t){var n=e.entities.filter((function(e){return e.id!==t.payload}));e.entities=Object(fe.a)(n),e.status="idle"})).addCase(ve.rejected,(function(e,t){e.errors=t.error,e.status="error"}))}}).reducer;function we(){var e=Object(s.b)(),t=Object(o.f)(),n=Object(r.useState)({username:"",password:""}),a=Object(d.a)(n,2),i=a[0],c=a[1],l=Object(r.useState)([]),u=Object(d.a)(l,2),j=u[0],b=u[1],h=Object(s.c)((function(e){return e.user}));function m(e){c(Object(K.a)(Object(K.a)({},i),{},Object(G.a)({},e.target.id,e.target.value)))}return Object(Z.jsx)(ne.a,{component:"main",maxWidth:"xs",children:Object(Z.jsxs)(P.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(Z.jsx)(D.a,{sx:{m:1,bgcolor:"#8c7b75"},children:Object(Z.jsx)(te.a,{size:"large"})}),Object(Z.jsx)(E.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(Z.jsxs)(P.a,{component:"form",onSubmit:function(n){n.preventDefault(),fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}).then((function(e){return e.json()})).then((function(n){n.errors?b(n.errors):(b([]),e(v(n)),e(ce()),e(je()),e(Oe()),t.push("/"))}))},noValidate:!0,sx:{mt:1},children:[j?j.map((function(e){return Object(Z.jsx)("div",{style:{color:"#660033",textAlign:"center"},children:e},e.id)})):null,h.entities.length>0?Object(Z.jsx)("h1",{children:"You are already logged in!"}):null,Object(Z.jsx)(X.a,{onChange:m,margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",value:i.username,sx:{bgcolor:"#f5f5f5"},autoFocus:!0}),Object(Z.jsx)(X.a,{onChange:m,margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",value:i.password,sx:{bgcolor:"#f5f5f5"},autoComplete:"current-password"}),Object(Z.jsx)(Q.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign In"}),Object(Z.jsx)($.a,{container:!0,justifyContent:"center",children:Object(Z.jsx)($.a,{item:!0,children:Object(Z.jsx)(E.a,{variant:"subtitle",sx:{color:"#455a64",textDecoration:"underline",cursor:"pointer"},onClick:function(){t.push("/signup")},children:"Don't have an account? Sign Up"})})})]})]})})}function Te(e){var t=e.Id,n=e.source,r=Object(s.c)((function(e){return e.comments})),a=Object(fe.a)(r.entities).filter((function(e){return!1===e.deleted})),i=[];"user"===n&&(i=a.filter((function(e){return e.user_id===t}))),"litText"===n&&(i=a.filter((function(e){return e.lit_text_id===t})));var c=i.filter((function(e){return null===e.parent_comment_id})).length,o="".concat(c,1===c?" comment":" comments"),l=i.filter((function(e){return null!==e.parent_comment_id})).length,u="".concat(l,1===l?" reply":" replies");return Object(Z.jsx)(E.a,{variant:"caption",children:Object(Z.jsxs)("em",{children:[o,", ",u]})})}var ke=n(355),Ae=n(359);function Se(e){var t=e.litText,n=t.title,r=t.author_name,a=t.pubdate,i=t.content,c=t.id,l=t.prose,u=t.translator,d=Object(s.c)((function(e){return e.user})),j="";i&&l?j=i.replace(/(<([^>]+)>)/gi," "):i&&!l&&(j=i.replace(/\u00A0/g,"").replace(/(<\/p><br\/*>)|(<br\/*><br\/*>)|(<\/p><p><\/p>)/g," // ").replace(/(<\/p>)|(<br\/*>)/g," / ").replace(/(<([^>]+)>)/gi," "));var b=j.slice(0,130).replace(/(\s\S+$)|(\W+\s\S+$)|(\W+$)/,""),h=Object(o.f)(),m="Poetry";l&&(m="Prose");return Object(Z.jsx)($.a,{item:!0,children:Object(Z.jsxs)(ke.a,{elevation:6,sx:{p:3,m:3,cursor:"pointer"},onClick:function(){0===d.entities.length?h.push("/login"):h.push("/texts/".concat(c))},children:[Object(Z.jsx)(E.a,{variant:"h5",sx:{textAlign:"center"},children:Object(Z.jsx)("b",{children:n})}),Object(Z.jsx)(E.a,{variant:"subtitle1",sx:{textAlign:"center"},children:r}),u.length>0?Object(Z.jsx)(E.a,{variant:"subtitle1",sx:{textAlign:"center",mt:-1},children:u.length>0?Object(Z.jsx)("span",{style:{color:"#757575",fontSize:"smaller"},children:Object(Z.jsxs)("em",{children:["Translated by ",u]})}):""}):null,Object(Z.jsxs)(E.a,{variant:"body2",sx:{textAlign:"center",color:"#494949"},children:[a<0?"".concat(Math.abs(a)," BCE"):a<1e3?"".concat(a," CE"):a,Object(Z.jsx)("span",{style:{marginLeft:"13px",marginRight:"13px"},children:"\u2767"}),m]}),Object(Z.jsxs)(Ae.a,{variant:"outlined",sx:{p:2,pt:0,my:2,mx:5},children:[Object(Z.jsx)(E.a,{sx:{fontSize:14,textAlign:"center",mt:1},color:"text.secondary",gutterBottom:!0,children:Object(Z.jsx)("em",{children:"Preview"})}),Object(Z.jsxs)(E.a,{variant:"body1",children:[b,"\xa0.\xa0.\xa0."]})]}),Object(Z.jsx)("div",{style:{display:"flex",width:"100%",justifyContent:"center"},children:Object(Z.jsx)(Te,{Id:t.id,source:"litText"})})]})})}var Ie=n(149),Le=n.n(Ie),Pe=(n(271),n(95)),_e=n(96),Ne=n(4),Ee=n(46),We=["className"];function Be(e){var t=e.famNameFirst,n=e.handleFamNameFirstClick,a=e.handleFormChange,i=e.firstName,c=e.lastName,s=e.isAuthor,o=function(e){var t=e.includes("ast")||e.includes("amily")?"last_name":"first_name",n=e.includes("ast")||e.includes("amily")?c:i;return Object(Z.jsx)(X.a,{onChange:a,autoComplete:t,name:t,value:n,required:!0,id:t,sx:{backgroundColor:"#fff",width:"100%"},label:e})},l=function(e){return s?"Author's ".concat(e.toLowerCase()):e},u=function(){return Object(Z.jsx)($.a,{item:!0,xs:"auto",children:Object(Z.jsx)(ae.a,{onClick:n,sx:{height:"62px",color:"#3e2723",cursor:"pointer"}})})},d=Object(r.useMemo)((function(){return Object(Ne.a)((function(e){var t=e.className,n=Object(_e.a)(e,We);return Object(Z.jsx)(U.a,Object(K.a)(Object(K.a)({},n),{},{classes:{popper:t}}))}))(Object(G.a)({},"& .".concat(Ee.a.tooltip),{maxWidth:400}))}),[]);return t?Object(Z.jsx)(d,{title:Object(Z.jsxs)("div",{children:[s?"Author":"You"," will be alphebetized by family name",Object(Z.jsx)("br",{}),Object(Z.jsx)("br",{}),"Click the arrows to show family name last"]}),arrow:!0,children:Object(Z.jsxs)($.a,{container:!0,item:!0,xs:12,sx:{mx:"5%",my:1,width:"90%"},children:[Object(Z.jsx)($.a,{item:!0,xs:!0,sx:{mr:"5px"},children:o(l("Family name"))}),u(),Object(Z.jsx)($.a,{item:!0,xs:!0,sx:{ml:"5px"},children:o(l("Given name"))})]})}):Object(Z.jsx)(d,{title:s?Object(Z.jsxs)("div",{children:["Include middle names and initials in ",Object(Z.jsx)("b",{children:"FIRST NAME"}),Object(Z.jsx)("br",{}),Object(Z.jsx)("br",{}),"If an author only has one name, include it in ",Object(Z.jsx)("b",{children:"LAST NAME"}),Object(Z.jsx)("br",{}),Object(Z.jsx)("br",{}),"See ",Object(Z.jsx)("a",{href:"https://libguides.dickinson.edu/citing/mla7capitalization/",rel:"noreferrer",target:"_blank",style:{color:"#d1dbe0"},children:"guidelines"})," for where to put particles like ",Object(Z.jsx)("em",{children:"de"}),", ",Object(Z.jsx)("em",{children:"Del"}),", or ",Object(Z.jsx)("em",{children:"von"}),Object(Z.jsx)("br",{}),Object(Z.jsx)("br",{}),"Click the arrows to show the author's family name first"]}):Object(Z.jsxs)("div",{children:["Include middle names and initials in ",Object(Z.jsx)("b",{children:"FIRST NAME"}),Object(Z.jsx)("br",{}),Object(Z.jsx)("br",{}),"Click the arrows to list your family name first"]}),arrow:!0,children:Object(Z.jsxs)($.a,{container:!0,item:!0,xs:12,sx:{mx:"5%",my:1,width:"90%"},children:[Object(Z.jsx)($.a,{item:!0,xs:!0,sx:{mr:"5px"},children:Object(Z.jsx)(X.a,{onChange:a,autoComplete:"first_name",name:"first_name",id:"first_name",value:i,sx:{mr:1,backgroundColor:"#fff",width:"100%"},label:l("Given name(s)")})}),u(),Object(Z.jsx)($.a,{item:!0,xs:!0,sx:{ml:"5px"},children:o(l("Family name"))})]})})}var Ue=n(346),De=n(360);function Me(e){var t=e.handleLitTextsOrder,n=e.handleNewClick,a=e.handlePoetryProseValue,i=e.isEdit,c=e.litText,o=e.reRender,l=Object(s.c)((function(e){return e.user.entities[0]})),u=Object(r.useState)(""),j=Object(d.a)(u,2),b=j[0],h=j[1],m=Object(r.useState)("ce"),x=Object(d.a)(m,2),p=x[0],f=x[1],O=Object(r.useState)(""),g=Object(d.a)(O,2),y=g[0],v=g[1],C=Object(r.useState)(!1),w=Object(d.a)(C,2),T=w[0],k=w[1],A=Object(r.useState)(!1),S=Object(d.a)(A,2),I=S[0],L=S[1],_=Object(r.useState)({title:"",first_name:"",last_name:"",pubdate:"",content:"",prose:!1,fam_name_first:!1,translator:"",uploader_id:l.id,edit_user_id:""}),N=Object(d.a)(_,2),W=N[0],B=N[1];Object(r.useEffect)((function(){i&&(B({id:c.id,title:c.title,first_name:c.first_name,last_name:c.last_name,pubdate:c.pubdate,content:c.content,prose:c.prose,fam_name_first:c.fam_name_first,translator:c.translator,uploader_id:c.uploader_id,edit_user_id:l.id}),v(c.content),c.pubdate<0&&f("bce"))}),[c,i,l]);var D=Object(s.b)(),M=function(e){B((function(t){return Object(K.a)(Object(K.a)({},t),{},{prose:e})}))},Y=function(e){var t=e.target,n=t.name,r=t.value;B((function(e){return Object(K.a)(Object(K.a)({},e),{},Object(G.a)({},n,function(){if("pubdate"===n){/[^-]\D/.test(r)?k(!0):k(!1);var e=parseInt(r.replace(/^\D*/,"").replace(/\D+\d*\D*$/,""));return p.includes("b")?-e:e}return r}()))}))},R=function(){return Object(Z.jsx)($.a,{item:!0,xs:!0,children:Object(Z.jsx)(X.a,{onChange:Y,autoComplete:"pubdate",name:"pubdate",required:!0,id:"pubdate",label:"Year",value:W.pubdate,fullWidth:!0,sx:{mt:"3px",mb:2,mr:"2px",backgroundColor:"#fff"}})})};return Object(Z.jsx)($.a,{item:!0,xs:12,children:Object(Z.jsxs)(ke.a,{elevation:6,sx:{p:3,m:3,mt:3,backgroundColor:"#ebe3e1"},children:[Object(Z.jsx)(E.a,{variant:"h5",sx:{textAlign:"center",mb:1},children:Object(Z.jsx)("b",{children:i?c.prose?"Edit this Story or Essay":"Edit this Poem":"Add a New Story or Poem"})}),Object(Z.jsxs)(P.a,{component:"form",onSubmit:function(e){e.preventDefault(),D(i?oe(W):se(W)),B({title:"",first_name:"",last_name:"",pubdate:"",content:"",prose:!1,fam_name_first:!1,translator:""}),v(""),h(""),L(!1),i?o():(t(),a({target:{value:"all"}})),n()},children:[Object(Z.jsx)(X.a,{onChange:Y,autoComplete:"title",name:"title",required:!0,id:"title",label:"Title",value:W.title,autoFocus:!0,sx:{mx:"5%",my:1,backgroundColor:"#fff",width:"90%"}}),Object(Z.jsx)(Be,{famNameFirst:I,handleFamNameFirstClick:function(){L((function(e){return!e})),B((function(e){return Object(K.a)(Object(K.a)({},e),{},{fam_name_first:!e.fam_name_first})}))},handleFormChange:Y,firstName:W.first_name,lastName:W.last_name,isAuthor:!0}),T?Object(Z.jsxs)(E.a,{variant:"body2",sx:{color:"#701010",textAlign:"center",mt:1},children:["We're sorry. ",Object(Z.jsx)("b",{children:"Year"})," can only include numbers for now. "]}):null,Object(Z.jsxs)($.a,{container:!0,item:!0,xs:12,sx:{mx:"5%",width:"90%"},children:[Object(Z.jsxs)($.a,{container:!0,item:!0,xs:6,sx:{pr:"20px"},children:[i?Object(Z.jsx)(U.a,{title:Object(Z.jsxs)("span",{children:["If date is BCE, please leave ",Object(Z.jsx)("b",{children:"Year"})," as a negative number"]}),arrow:!0,children:R()}):R(),Object(Z.jsx)($.a,{item:!0,xs:"auto",children:Object(Z.jsxs)(Ue.a,{value:p,exclusive:!0,onChange:function(e,t){null!==t&&(f((function(){return t})),function(e){var t=function(){return Math.abs(parseInt(W.pubdate))};B((function(n){return Object(K.a)(Object(K.a)({},n),{},{pubdate:e.includes("b")?-t():t()})}))}(t))},"aria-label":"CE or BCE",sx:{bgcolor:"#fefcf9",mt:"3px",height:"61.75px"},children:[Object(Z.jsx)(De.a,{value:"bce","aria-label":"BCE",children:"BCE"}),Object(Z.jsx)(De.a,{value:"ce","aria-label":"CE",children:"CE"})]})})]}),Object(Z.jsx)($.a,{item:!0,xs:6,sx:{pl:"20px"},children:Object(Z.jsx)(X.a,{onChange:Y,autoComplete:"translator",name:"translator",id:"translator",label:"Translator",value:W.translator,fullWidth:!0,sx:{mt:"3px",mb:2,backgroundColor:"#fff"}})})]}),Object(Z.jsx)(Le.a,{theme:"snow",value:y,onChange:function(e){v(e),Y({target:{name:"content",value:e}})},placeholder:"Paste and edit the text of the story or poem here",style:{backgroundColor:"#fff",width:"90%",marginRight:"5%",marginLeft:"5%"},formats:["header","bold","italic","underline","strike","blockquote","list","bullet"],modules:{toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"}],["clean"]]}}),Object(Z.jsx)(P.a,{textAlign:"center",children:Object(Z.jsxs)(Ue.a,{value:b,exclusive:!0,onChange:function(e,t){h(t),"Story"===t?M(!0):"Poem"===t&&M(!1)},"aria-label":"Story or Poem",sx:{bgcolor:"#fefcf9",mt:2},children:[Object(Z.jsx)(De.a,{value:"Poem","aria-label":"Poem",children:"Poetry"}),Object(Z.jsx)(De.a,{value:"Story","aria-label":"Story",children:"Prose"})]})}),"Story"===b||"Poem"===b?Object(Z.jsxs)("div",{children:[Object(Z.jsx)("br",{}),Object(Z.jsx)(ke.a,{elevation:9,sx:{p:3,m:1,mx:"8%",backgroundColor:"#fefcf9"},children:Object(Z.jsx)($.a,{container:!0,wrap:"nowrap",children:Object(Z.jsxs)($.a,{item:!0,xs:12,children:[Object(Z.jsx)(E.a,{variant:"h6",sx:{textAlign:"center",textColor:"#616161",fontVariant:"small-caps",mb:1},children:Object(Z.jsx)("em",{children:"preview"})}),Object(Z.jsx)(E.a,{variant:"h4",sx:{textAlign:"center"},children:Object(Z.jsx)("b",{children:W.title})}),Object(Z.jsx)(E.a,{variant:"h6",sx:{textAlign:"center"},children:W.fam_name_first?"".concat(W.last_name," ").concat(W.first_name):"".concat(W.first_name," ").concat(W.last_name)}),Object(Z.jsx)(E.a,{variant:"subtitle1",sx:{textAlign:"center"},children:Object(Z.jsx)("em",{children:function(){var e=W.pubdate;return e<0?"".concat(Math.abs(e)," BCE"):e<1e3?"".concat(e," CE"):e}()})}),W.translator.length>0?Object(Z.jsx)(E.a,{variant:"subtitle2",sx:{textAlign:"center",color:"#8e8e8e",mt:1},children:Object(Z.jsx)("em",{children:"Translated by ".concat(W.translator)})}):null,Object(Z.jsx)($.a,{container:!0,wrap:"nowrap",children:Object(Z.jsx)($.a,{item:!0,xs:12,justifyContent:"center",sx:{display:"flex"},children:Object(Z.jsx)("div",{style:{position:"flex"},children:Object(Z.jsx)(E.a,{component:"span",variant:"body1",sx:{pb:3,pr:3,pl:3,pt:2},children:function(){var e,t=Object(Pe.a)("".concat(y));return e=t,"Poem"===b?Object(Z.jsx)("div",{className:"poetry",children:e}):Object(Z.jsx)("div",{children:e})}()})})})})]})})}),Object(Z.jsx)("br",{})]}):null,y.length>0&&("Story"===b||"Poem"===b)?Object(Z.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center"},children:Object(Z.jsx)(Q.a,{type:"submit",variant:"contained",sx:{mt:1,mb:2},children:"Submit"})}):"Story"===b||"Poem"===b?Object(Z.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center"},children:Object(Z.jsx)(U.a,{title:"Text cannot be blank",arrow:!0,children:Object(Z.jsx)("span",{children:Object(Z.jsx)(Q.a,{disabled:!0,variant:"contained",sx:{mt:2,mb:2},children:"Submit"})})})}):Object(Z.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center"},children:Object(Z.jsx)(U.a,{title:"Please select POETRY or PROSE first",arrow:!0,children:Object(Z.jsx)("span",{children:Object(Z.jsx)(Q.a,{disabled:!0,variant:"contained",sx:{mt:2,mb:2},children:"Submit"})})})})]})]})})}var Ye=n(358),Re=n(341),Je=n(338);function Ve(e){var t=e.litTextsOrder,n=e.handleLitTextsOrder,r=e.handleReverseClick;return Object(Z.jsx)(Ye.a,{sx:{minWidth:"152px",mt:1},children:Object(Z.jsxs)(ke.a,{sx:{bgcolor:"#fefcf9"},children:[Object(Z.jsx)(Re.a,{id:"arrange-by-label",children:"Arrange By"}),Object(Z.jsx)(Je.a,{labelId:"arrange-by-label",id:"arrange-by",value:t,label:"Arrange By",onChange:n,sx:{bgcolor:"#fefcf9",minWidth:"132px"},children:[["author","Author"],["title","Title"],["date","Date"],["activity","Activity"],["added","Added"]].map((function(e,t){return Object(Z.jsx)(W.a,{value:e[0],children:e[1]},t)}))}),Object(Z.jsx)(P.a,{component:"span",variant:"outlined",elevation:0,sx:{width:"60px",border:"solid 1px #bdbdbd",borderLeft:"none",borderRadius:"5px",borderTopLeftRadius:0,borderBottomLeftRadius:0,pt:"18px",pb:"19px"},children:Object(Z.jsx)(N.a,{onClick:r,sx:{height:"60px"},children:Object(Z.jsx)(ae.a,{sx:{transform:"rotate(90deg)"}})})})]})})}function ze(e){var t=e.poetryProseValue,n=e.handlePoetryProseValue;return Object(Z.jsxs)(Ye.a,{sx:{minWidth:"112px",ml:2,mt:1},children:[Object(Z.jsx)(Re.a,{id:"filter-by-label",children:"View"}),Object(Z.jsx)(ke.a,{children:Object(Z.jsx)(Je.a,{labelId:"filter-by-label",id:"filter-by",value:t,label:"View",onChange:n,sx:{minWidth:"112px",bgcolor:"#fefcf9"},children:["All","Poetry","Prose"].map((function(e){return Object(Z.jsx)(W.a,{value:e.toLowerCase(),children:e},e)}))})})]})}function He(){var e=Object(s.c)((function(e){return e.litTexts})),t=e.entities,n=e.status,a=Object(r.useMemo)((function(){return Object(fe.a)(t)}),[t]),i=function(){return!1},c=Object(r.useState)((function(){return Object(fe.a)(a)})),o=Object(d.a)(c,2),l=o[0],u=o[1],j=Object(r.useState)(i),b=Object(d.a)(j,2),h=b[0],m=b[1],x=Object(r.useState)(i),p=Object(d.a)(x,2),f=p[0],O=p[1],g=Object(r.useState)((function(){return"author"})),y=Object(d.a)(g,2),v=y[0],C=y[1],w=Object(r.useState)((function(){return"all"})),T=Object(d.a)(w,2),k=T[0],A=T[1];Object(r.useEffect)((function(){a.length>0&&u(Object(fe.a)(a))}),[a]);var S=function(){m((function(e){return!e}))},I=function(e){A(e.target.value)},L=function(e){return Object(fe.a)(e).sort((function(e,t){return e.last_name.localeCompare(t.last_name)||e.first_name.localeCompare(t.first_name)}))},P=function(e){return Object(fe.a)(e).sort((function(e,t){return e.title.localeCompare(t.title)}))},_=function(e){return Object(fe.a)(e).sort((function(e,t){return t.pubdate-e.pubdate}))},N=function(e){return Object(fe.a)(e).sort((function(e,t){return Date.parse(t.created_at)-Date.parse(e.created_at)}))},W=function(e){var t=Object(fe.a)(e.comments).sort((function(e,t){return Date.parse(t.created_at)-Date.parse(e.created_at)}));return 0===t.length?0:Date.parse(t[0].created_at)},B=function(e){return Object(fe.a)(e).sort((function(e,t){return W(t)-W(e)}))};return Object(Z.jsxs)($.a,{container:!0,justifyContent:"Center",alignItems:"center",children:[Object(Z.jsx)($.a,{item:!0,xs:9,align:"center",justify:"center",children:Object(Z.jsx)(E.a,{id:"top",variant:"h2",justify:"center",sx:{pt:4,pb:3,fontWeight:410},children:"Library"})}),Object(Z.jsx)($.a,{item:!0,xs:10,children:"loading"===n?Object(Z.jsx)("div",{className:"centered-in-window",children:Object(Z.jsx)("div",{className:"dot-flashing"})}):Object(Z.jsxs)("div",{children:[Object(Z.jsxs)("div",{style:{display:"flex",justifyContent:"center",marginBottom:"32px"},children:[Object(Z.jsx)(Ve,{litTextsOrder:v,handleLitTextsOrder:function(e){C(e.target.value),O((function(){return!1}))},handleReverseClick:function(){O((function(e){return!e}))}}),Object(Z.jsx)(ze,{poetryProseValue:k,handlePoetryProseValue:I}),Object(Z.jsx)(ke.a,{sx:{mt:"8px",mb:2,ml:2,width:"36%"},children:Object(Z.jsx)(X.a,{elevation:1,id:"search",label:"Search",variant:"filled",sx:{width:"100%"},onChange:function(e){return function(e){var t=e.target.value.toLowerCase();if(""===t)u(a);else{var n=a.filter((function(e){return e.title.toLowerCase().includes(t)||e.author.toLowerCase().includes(t)||e.pubdate.toString().toLowerCase().includes(t)||e.content.toLowerCase().includes(t)}));u(n)}}(e)}})}),Object(Z.jsx)(ke.a,{sx:{ml:2,mt:"8px",height:"61.75px"},children:Object(Z.jsx)(U.a,{title:"Add New Story or Poem",arrow:!0,children:Object(Z.jsx)(Q.a,{onClick:function(){return S()},variant:"contained",sx:{height:"61.75px"},children:Object(Z.jsx)(E.a,{variant:"body2",sx:{fontColor:"#fefcf9",fontSize:"40px",marginTop:"0px",fontWeight:"999"},children:"+"})})})})]}),h?Object(Z.jsx)(Me,{handleNewClick:S,handleLitTextsOrder:function(){C((function(){return"added"})),O((function(){return!1})),A((function(){return"all"}))},handlePoetryProseValue:I,isEdit:!1,litText:null,reRender:null}):null,"error"===n?Object(Z.jsx)(E.a,{variant:"body2",sx:{color:"#701010",textAlign:"center",my:1},children:Object(Z.jsx)("b",{children:"We're sorry. There's been an error uploading your text."})}):null,function(){var e=function(e){var t=Object(fe.a)(e);return"poetry"===k?t=Object(fe.a)(l).filter((function(e){return!1===e.prose})):"prose"===k&&(t=Object(fe.a)(l).filter((function(e){return!0===e.prose}))),t}(Object(fe.a)(l)),t=[];return"author"!==v||f?"author"===v?t=Object(fe.a)(L(e).reverse()):"title"!==v||f?"title"===v?t=Object(fe.a)(P(e).reverse()):"date"!==v||f?"date"===v?t=Object(fe.a)(_(e).reverse()):"activity"!==v||f?"activity"===v?t=Object(fe.a)(B(e).reverse()):"added"!==v||f?"added"===v&&(t=Object(fe.a)(N(e).reverse())):t=Object(fe.a)(N(e)):t=Object(fe.a)(B(e)):t=Object(fe.a)(_(e)):t=Object(fe.a)(P(e)):t=Object(fe.a)(L(e)),Object(fe.a)(t).map((function(e){return Object(Z.jsx)(Se,{litText:e},e.id)}))}()]})})]})}var Fe=n(59),Ze=n.n(Fe),qe=n(154),Ge=n.n(qe),Ke=n(117),Qe=n.n(Ke),Xe=n(155),$e=n.n(Xe),et=n(333);function tt(e){var t=e.comTypes,n=e.handleComTypes,r=e.isParentQuestion;return Object(Z.jsx)(P.a,{textAlign:"center",children:Object(Z.jsxs)(Ue.a,{value:t,onChange:n,"aria-label":"Comment Types",size:"small",sx:{bgcolor:"#fefcf9",mb:1},children:[r?Object(Z.jsx)(De.a,{value:4,"aria-label":"Answer",children:"Answer"}):null,[[1,"Reading"],[5,"Feelings"],[2,"Question"],[3,"Lore"],[6,"Critique"]].map((function(e){return Object(Z.jsx)(De.a,{value:e[0],"aria-label":e[1],children:e[1]},e[0])}))]})})}function nt(e){var t=e.litTextId,n=e.parentCommentId,a=e.replyButtonClick,i=e.isParentQuestion,c=Object(s.c)((function(e){return e.user})),o=c.entities.length>0?c.entities[0]:null,l=Object(r.useState)({user_id:o.id,lit_text_id:t,parent_comment_id:n,content:"",com_type_ids:[]}),u=Object(d.a)(l,2),j=u[0],b=u[1],h=Object(r.useState)(null),m=Object(d.a)(h,2),x=m[0],p=m[1],f=n?"Post a new reply...":"Post a new comment...";var O=Object(s.b)();return Object(Z.jsx)($.a,{item:!0,xs:10,sm:11,md:10,sx:{minWidth:350,width:"100%"},children:Object(Z.jsxs)(ke.a,{elevation:6,sx:{px:3,pt:4,pb:1,mb:2,backgroundColor:"#fefcf9"},children:[x?Object(Z.jsx)(E.a,{variant:"body2",sx:{color:"#701010",textAlign:"center",my:1},children:Object(Z.jsx)("b",{children:x})}):null,Object(Z.jsx)(tt,{comTypes:j.com_type_ids,handleComTypes:function(e,t){b((function(e){return Object(K.a)(Object(K.a)({},e),{},{com_type_ids:t})})),p((function(){return null}))},isParentQuestion:i}),Object(Z.jsxs)("form",{style:{width:"100%"},onSubmit:function(e){e.preventDefault(),0===j.com_type_ids.length?p((function(){return"\u261fYou must select at least one type\u261f"})):(O(ge(j)),O(ue(j)),O(xe(j)),b(Object(K.a)(Object(K.a)({},j),{},{content:"",com_type_ids:[]})),n&&a((function(e){return!e})))},children:[Object(Z.jsx)("div",{style:{height:10,visibility:"hidden"},children:"Laborum quam praesentium. Non reiciendis facilis. Ut sunt saepe. Voluptatum facilis dignissimos."}),Object(Z.jsx)(et.a,{"aria-label":"minimum height",minRows:3,placeholder:f,value:j.content,id:"content",name:"content",onChange:function(e){b((function(t){return Object(K.a)(Object(K.a)({},t),{},Object(G.a)({},e.target.name,e.target.value))}))},style:{width:"100%"}}),Object(Z.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center",textAlign:"center"},children:Object(Z.jsx)(Q.a,{variant:"contained",type:"submit",sx:{my:2,p:1},children:Object(Z.jsx)("b",{children:"Post"})})})]})]})})}function rt(e){var t=e.time,n=(new Date).getTime(),r=new Date(t).getTime(),a=parseInt(n-r)/1e3,i=parseInt(a/60),c=parseInt(a/3600),s=parseInt(a/86400),o=parseInt(a/604800),l=parseInt(a/2592e3),u=parseInt(a/31536e3);return Object(Z.jsx)("span",{children:a<300?"just now":a<3600?"".concat(i," mins ago"):a<7200?"1 hour ago":a<86400?"".concat(c," hours ago"):a<172800?"1 day ago":a<604800?"".concat(s," days ago"):a<1209600?"1 week ago":a<2592e3?"".concat(o," weeks ago"):a<5184e3?"1 month ago":a<31104e3?"".concat(l," months ago"):a<62208e3?"1 year ago":"".concat(u," years ago")})}function at(e){var t=e.created_at,n=e.updated_at,r=e.isDeleted,a=e.fromLitTextShow,i=e.uploader,c=e.handleUploaderClick,s=r?" (deleted ":" (updated ";return Object(Z.jsxs)(E.a,{variant:"caption",sx:{color:"#757575",mb:1},children:[Object(Z.jsxs)("em",{children:[a?Object(Z.jsxs)(P.a,{component:"span",onClick:c,sx:{cursor:"pointer"},children:["uploaded by ",Object(Z.jsx)(P.a,{component:"span",sx:{textDecoration:"underline"},children:i})]}):null," ",Object(Z.jsx)(rt,{time:t})]}),t===n?null:Object(Z.jsxs)("em",{children:[s,Object(Z.jsx)(rt,{time:n}),")"]})]})}function it(e){var t=e.comment,n=e.editButtonClick,a=t.com_types.map((function(e){return e.id})),i=Object(r.useState)({id:t.id,user_id:t.user.id,lit_text_id:t.litTextId,parent_comment_id:t.parent_comment_id,content:t.content,com_type_ids:Object(fe.a)(a)}),c=Object(d.a)(i,2),o=c[0],l=c[1],u=Object(r.useState)(null),j=Object(d.a)(u,2),b=j[0],h=j[1],m=Object(s.b)(),x=t.parentCommentId?"Edit your reply...":"Edit your comment...",p=Object(s.c)((function(e){return t.parent_comment_id?Object(K.a)({},e.comments.entities.find((function(e){return e.id===t.parent_comment_id}))):null}));return Object(Z.jsxs)(ke.a,{sx:{px:3,pt:4,pb:1,mb:2,backgroundColor:"#ebe3e1"},children:[b?Object(Z.jsx)(E.a,{variant:"body2",sx:{color:"#701010",textAlign:"center",my:1},children:Object(Z.jsx)("b",{children:b})}):null,Object(Z.jsx)(tt,{comTypes:o.com_type_ids,handleComTypes:function(e,t){l((function(e){return Object(K.a)(Object(K.a)({},e),{},{com_type_ids:t})}))},isParentQuestion:!!p&&(!!p.com_types.find((function(e){return 2===e.id}))||void 0)}),Object(Z.jsxs)("form",{style:{width:"100%"},onSubmit:function(e){e.preventDefault(),0===o.com_type_ids.length?h((function(){return"\u261fYou must select at least one type\u261f"})):(m(ye(o)),n((function(e){return!e})))},children:[Object(Z.jsx)("div",{style:{height:10,visibility:"hidden"},children:"Laborum quam praesentium. Non reiciendis facilis. Ut sunt saepe."}),Object(Z.jsx)(et.a,{"aria-label":"minimum height",minRows:3,placeholder:x,value:o.content,id:"content",name:"content",onChange:function(e){l(Object(K.a)(Object(K.a)({},o),{},Object(G.a)({},e.target.name,e.target.value)))},style:{width:"100%"}}),Object(Z.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center",textAlign:"center"},children:Object(Z.jsx)(Q.a,{variant:"contained",type:"submit",sx:{my:2,p:1},children:Object(Z.jsx)("b",{children:"Post"})})})]})]})}function ct(e){var t=e.comTypes;return Object(Z.jsx)("span",{style:{fontSize:12,padding:3,marginLeft:5,position:"absolute",top:23,right:5},children:Object(Z.jsx)("b",{children:t.map((function(e){return Object(Z.jsx)(U.a,{title:e.name,arrow:!0,children:Object(Z.jsx)("span",{style:{color:"#102027",backgroundColor:"#e0e0e0",padding:7,paddingRight:11,paddingLeft:11,marginLeft:11,borderRadius:"25px",fontSize:16},children:Object(Z.jsx)("b",{children:e.name.charAt(0)})},e.id)},"t".concat(e.id))}))})})}var st=n(336),ot=n(328),lt=n(153),ut=n.n(lt),dt=n(152),jt=n.n(dt),bt=n(151),ht=n.n(bt),mt=n(150),xt=n.n(mt),pt=["className"];function ft(e){var t=e.comment,n=e.litTextId,a=Object(r.useState)(!1),i=Object(d.a)(a,2),c=i[0],l=i[1],u=Object(r.useState)(!1),j=Object(d.a)(u,2),b=j[0],h=j[1],m=Object(r.useState)([]),x=Object(d.a)(m,2),p=x[0],f=x[1],O=Object(r.useState)(!1),g=Object(d.a)(O,2),y=g[0],v=g[1],C=Object(r.useState)(null),w=Object(d.a)(C,2),T=w[0],k=w[1],A=Object(s.c)((function(e){return e.user})),S=A.entities.length>0?A.entities[0].id:null,I=Object(s.b)(),L=Object(o.f)(),_=Object(r.useMemo)((function(){return{fullname:t.user.name,username:t.user.username,image:t.user.image,content:t.content,created_at:t.created_at,updated_at:t.updated_at,parent_comment_id:t.parent_comment_id,deleted:t.deleted,id:t.id,com_types:t.com_types}}),[t]),W=Object(r.useMemo)((function(){return{fullname:"",username:"",content:Object(Z.jsx)("em",{style:{color:"#616161"},children:"[this comment was deleted]"}),created_at:t.created_at,updated_at:t.updated_at,parent_comment_id:t.parent_comment_id,deleted:!0,id:t.id,com_types:[]}}),[t]),B=Object(r.useMemo)((function(){return t.deleted?W:_}),[t,W,_]),M=t.com_types.map((function(e){return e.id})),Y=function(e){k(e.currentTarget),v((function(e){return!e}))},R=y&&Boolean(T)?"transition-popper":void 0;function J(e){if(l((function(){return!1})),e.preventDefault(),t.replies.length>0||t.parent_comment_id){var n=Object(K.a)(Object(K.a)({},t),{},{com_type_ids:Object(fe.a)(M),deleted:!0});I(ye(n))}else{var r=t.id;I(ve(r))}}function V(){l(!c),h(!1)}function z(){h(!b),l(!1)}var H=function(){L.push("/users/".concat(t.user.id))};var F=Object(Z.jsx)("span",{role:"img","aria-label":"ghost",children:" \ud83d\udc7b "}),q=Object(Ne.a)((function(e){var t=e.className,n=Object(_e.a)(e,pt);return Object(Z.jsx)(U.a,Object(K.a)(Object(K.a)({},n),{},{classes:{popper:t}}))}))((function(e){var t;e.theme;return t={},Object(G.a)(t,"& .".concat(Ee.a.arrow),{color:"#732626"}),Object(G.a)(t,"& .".concat(Ee.a.tooltip),{backgroundColor:"#732626"}),t}));return Object(Z.jsx)("div",{style:{position:"relative"},children:Object(Z.jsxs)($.a,{item:!0,xs:12,children:[Object(Z.jsxs)($.a,{container:!0,spacing:2,wrap:"nowrap",children:[B.deleted?null:Object(Z.jsx)(ct,{comTypes:B.com_types}),Object(Z.jsx)($.a,{item:!0,children:B.deleted?Object(Z.jsx)(D.a,{sx:{bgcolor:"#eee"},children:F}):Object(Z.jsx)(D.a,{alt:B.fullname,src:B.image,sx:{cursor:"pointer",width:60,height:60},onClick:function(){return H()}})}),Object(Z.jsxs)($.a,{justifyContent:"left",item:!0,xs:9,children:[Object(Z.jsx)(E.a,{onClick:H,sx:{cursor:"pointer",fontSize:25,fontWeight:401,mb:-1,pb:0},children:B.fullname}),B.deleted?Object(Z.jsx)(E.a,{variant:"body1",sx:{mt:"12px",mb:1},children:B.content}):Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)(E.a,{variant:"subtitle2",onClick:H,sx:{cursor:"pointer",mt:0,pt:0,color:"#757575",fontWeight:400},children:Object(Z.jsxs)("em",{children:["@",B.username]})}),Object(Z.jsx)(E.a,{variant:"body1",sx:{mt:2,mb:1},children:B.content})]}),Object(Z.jsx)(at,{created_at:B.created_at,updated_at:B.updated_at,isDeleted:B.deleted,fromLitTextShow:!1})]})]}),Object(Z.jsxs)($.a,{item:!0,xs:12,children:[p?p.map((function(e){return Object(Z.jsx)("div",{children:e})})):null,Object(Z.jsxs)("div",{style:{position:"relative"},children:[B.parent_comment_id||B.deleted?null:Object(Z.jsx)(U.a,{title:"Reply",arrow:!0,children:Object(Z.jsx)(N.a,{sx:{color:"#757575",ml:9,mt:2},onClick:z,children:b?Object(Z.jsx)(xt.a,{}):Object(Z.jsx)(Ze.a,{})})}),parseInt(t.user.id)!==parseInt(S)||B.deleted?null:Object(Z.jsxs)("div",{style:{justifyContent:"right"},children:[Object(Z.jsx)(N.a,{id:"deleteButton1",onClick:Y,sx:{color:"#732626",position:"absolute",right:45,bottom:5,mt:2,mb:0},children:Object(Z.jsx)(q,{title:"Delete",arrow:!0,children:Object(Z.jsx)(ht.a,{size:"large",sx:{color:"#732626"}})})}),Object(Z.jsx)(st.a,{id:R,open:y,anchorEl:T,placement:"top",modifiers:[{name:"preventOverflow",enabled:!0,options:{altAxis:!0,altBoundary:!0,tether:!0,rootBoundary:"document",padding:5}}],transition:!0,children:function(e){var t=e.TransitionProps;return Object(Z.jsx)(ot.a,Object(K.a)(Object(K.a)({},t),{},{timeout:350,children:Object(Z.jsxs)(P.a,{sx:{border:1,p:3,m:2,bgcolor:"background.paper",display:"flex",justifyContent:"center",borderColor:"#660000"},children:[Object(Z.jsx)(Q.a,{variant:"contained",onClick:Y,sx:{mr:3,bgcolor:"6d4c41"},children:"Cancel"}),Object(Z.jsx)(Q.a,{variant:"contained",onClick:J,sx:{bgcolor:"#660000"},children:"Delete"})]})}))}}),Object(Z.jsx)(U.a,{title:"Edit",arrow:!0,children:Object(Z.jsx)(N.a,{sx:{color:"#757575",position:"absolute",right:5,bottom:5,mt:3},onClick:V,children:c?Object(Z.jsx)(jt.a,{}):Object(Z.jsx)(ut.a,{})})}),B.parent_comment_id?Object(Z.jsx)(Ze.a,{sx:{visibility:"hidden",mt:2,mb:2}}):null]})]}),c?Object(Z.jsx)(it,{comment:t,editButtonClick:V,wrapSetErrors:function(e){f(e)}}):null,b?Object(Z.jsx)(nt,{litTextId:n,parentCommentId:t.id,replyButtonClick:z,isParentQuestion:!!t.com_types.find((function(e){return 2===e.id}))}):null]})]})})}var Ot=n(334);function gt(e){var t=e.replies,n=e.litTextId,r=t.sort((function(e,t){return e.id-t.id})).map((function(e){return Object(Z.jsxs)("div",{style:{paddingLeft:40,paddingBottom:10},children:[Object(Z.jsx)(Ot.a,{variant:"fullWidth",style:{margin:"0 0 30px 0"}}),Object(Z.jsx)(ft,{comment:e,litTextId:n},e.id)]},"".concat(e.id,"div"))}));return Object(Z.jsx)("div",{style:{paddingLeft:10,paddingTop:10,paddingBottom:10},children:r})}function yt(e){var t=e.comment,n=e.replies,r=e.litTextId,a=[t].concat(Object(fe.a)(n)).filter((function(e){return!1===e.deleted})),i=Object(s.c)((function(e){return e.comments}));return Object(Z.jsx)(Z.Fragment,{children:a.length>0||Object(fe.a)(i.entities).filter((function(e){return e.parent_comment_id===t.id&&!1===e.deleted})).length>0?Object(Z.jsx)($.a,{item:!0,xs:10,sx:{minWidth:350},children:Object(Z.jsxs)(ke.a,{sx:{px:3,pt:4,pb:1,mb:2},elevation:3,children:[Object(Z.jsx)(ft,{comment:t,litTextId:r},t.id),n.length>0?Object(Z.jsx)(Z.Fragment,{children:Object(Z.jsx)(gt,{replies:n,litTextId:r})}):null]})}):null})}function vt(e){var t=e.comTypes,n=e.handleComType;return Object(Z.jsxs)(Ye.a,{sx:{minWidth:"112px",ml:2,mt:1},children:[Object(Z.jsx)(Re.a,{id:"filter-by-comType",children:"View"}),Object(Z.jsx)(Je.a,{labelId:"filter-by-comType",id:"filter-by",multiple:!0,value:t,label:"View",onChange:n,sx:{bgcolor:"#f4f3f0"},children:[["all","All"],[1,"Readings"],[2,"Questions"],[4,"Answers"],[3,"Lore"],[5,"Feelings"],[6,"Critiques"]].map((function(e){return Object(Z.jsx)(W.a,{value:e[0],children:e[1]},e[0])}))})]})}var Ct=n(53);function wt(e){var t=e.litTextId,n=Object(r.useState)(["all"]),a=Object(d.a)(n,2),i=a[0],c=a[1],o=Object(s.c)((function(e){return e.comments})),l=Object(fe.a)(o.entities).filter((function(e){return e.lit_text_id===t})),u=l.filter((function(e){return null===e.parent_comment_id})).sort((function(e,t){return e.id-t.id})),j=function(e){return e.com_types.map((function(e){return e.id})).filter((function(e){return i.includes(e)})).length>0?e:null},b="/texts/".concat(t,"#new-comment");return Object(Z.jsx)("div",{children:Object(Z.jsx)($.a,{container:!0,wrap:"nowrap",columns:1,justifyContent:"center",sx:{maxWidth:800,display:"flex"},children:Object(Z.jsxs)($.a,{container:!0,justifyContent:"center",children:[Object(Z.jsxs)("div",{style:{display:"flex",justifyContent:"center",marginBottom:"32px"},children:[Object(Z.jsx)(vt,{comTypes:i,handleComType:function(e){var t=e.target.value,n=function(e){return t.includes(e)},r=!!(n(1)&&n(2)&&n(3)&&n(4)),a=!r&&(n(1)||n(2)||n(3)||n(4));i.includes("all")&&a?c(Object(fe.a)(t.filter((function(e){return"all"!==e})))):n("all")&&!i.includes("all")||r&&!n("all")||0===t.length?c(["all"]):c(Object(fe.a)(t))}}),Object(Z.jsx)(U.a,{title:"Post a Comment",arrow:!0,children:Object(Z.jsx)(Ct.a,{smooth:!0,to:b,style:{color:"#3e2723",height:"62px"},children:Object(Z.jsx)(Ze.a,{sx:{ml:3,mt:"1px",p:0,fontSize:92}})})})]}),function(){var e;return(e=u,i.includes("all")?e:e.filter((function(e){var t=l.filter((function(t){return t.parent_comment_id===e.id}));console.log("replies",t);var n=t.filter((function(e){return j(e)}));return console.log("includeReplies",n),j(e)||n.length>0?e:null}))).map((function(e){var n=l.filter((function(t){return t.parent_comment_id===e.id}));return Object(Z.jsx)(yt,{comment:e,litTextId:t,replies:n},e.id)}))}(),Object(Z.jsx)("div",{id:"new-comment"}),Object(Z.jsx)(nt,{litTextId:t,parentCommentId:null,replyButtonClick:null,isParentQuestion:!1})]})})})}var Tt=Object(m.b)("showText/fetchLitTextById",function(){var e=Object(h.a)(b.a.mark((function e(t){var n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/lit_texts/".concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),kt=Object(m.c)({name:"showText",initialState:{entities:[],status:"idle",errors:[]},reducers:{showTextPostComment:function(e,t){e.entities[0].comments.push(t.payload)}},extraReducers:function(e){e.addCase(Tt.pending,(function(e){e.status="loading"})).addCase(Tt.fulfilled,(function(e,t){e.entities.splice(0,1,t.payload),e.status="idle"}))}}),At=(kt.actions.showTextPostComment,kt.reducer);function St(){var e=Object(r.useState)(!1),t=Object(d.a)(e,2),n=t[0],a=t[1],i=Object(r.useState)(!1),c=Object(d.a)(i,2),l=c[0],u=c[1],j=Object(o.h)(),b=Object(s.b)(),h=Object(o.f)(),m=Object(o.g)(),x=Object(r.useCallback)((function(){m.hash.length>0&&h.push(m.pathname),b(Tt(j.id))}),[b,h,m.hash.length,m.pathname,j.id]);Object(r.useEffect)((function(){x()}),[l,x]);var p=Object(s.c)((function(e){return e.user.entities[0]})),f=Object(s.c)((function(e){return e.showText})),O=f.entities.length>0?f.entities[0]:null,g=function(){a((function(e){return!e}))},y="",v="";f.entities.length>0&&(y="/texts/".concat(O.id,"#comments")),f.entities.length>0&&(v="/texts/".concat(O.id,"#new-comment"));var C="",w="Poetry";f.entities.length>0&&(C=Object(Pe.a)("".concat(O.content)),O.prose&&(w="Prose"));return"idle"===f.status&&f.entities.length>0?Object(Z.jsxs)($.a,{container:!0,justifyContent:"Center",alignItems:"center",children:[Object(Z.jsxs)($.a,{item:!0,xs:11,sm:12,md:11,children:[Object(Z.jsxs)("div",{style:{display:"flex",justifyContent:"center",marginTop:12,paddingBottom:2},children:[Object(Z.jsx)(U.a,{title:"Comments",arrow:!0,children:Object(Z.jsx)(Ct.a,{smooth:!0,to:y,style:{marginRight:18,color:"#757575"},children:Object(Z.jsx)(Ge.a,{size:"small",sx:{mt:3}})})}),Object(Z.jsx)(U.a,{title:"New Comment",arrow:!0,children:Object(Z.jsx)(Ct.a,{smooth:!0,to:v,style:{color:"#757575"},children:Object(Z.jsx)(Ze.a,{size:"small",sx:{mt:3}})})})]}),Object(Z.jsxs)(ke.a,{elevation:9,sx:{p:3,m:3,mt:1,justifyContent:"center",minWidth:"350px"},children:[Object(Z.jsx)(E.a,{variant:"subtitle1",sx:{textAlign:"center",color:"#616161",pb:0,cursor:"default"},children:Object(Z.jsx)("em",{children:w})}),Object(Z.jsx)($.a,{container:!0,wrap:"nowrap",children:Object(Z.jsxs)($.a,{item:!0,xs:12,children:[Object(Z.jsx)(E.a,{variant:"h4",sx:{textAlign:"center",mt:1},children:Object(Z.jsx)("b",{children:O.title})}),Object(Z.jsx)(E.a,{variant:"h6",sx:{textAlign:"center"},children:O.fam_name_first?"".concat(O.last_name," ").concat(O.first_name):"".concat(O.first_name," ").concat(O.last_name)}),Object(Z.jsx)(E.a,{variant:"subtitle1",sx:{textAlign:"center"},children:function(){var e=O.pubdate;return e<0?"".concat(Math.abs(e)," BCE"):e<1e3?"".concat(e," CE"):e}()}),O.translator.length>0?Object(Z.jsx)(E.a,{variant:"subtitle2",sx:{textAlign:"center",color:"#8e8e8e",mt:1},children:Object(Z.jsx)("em",{children:"Translated by ".concat(O.translator)})}):null,Object(Z.jsx)($.a,{container:!0,wrap:"nowrap",children:Object(Z.jsx)($.a,{item:!0,xs:12,justifyContent:"center",sx:{display:"flex"},children:Object(Z.jsx)("div",{style:{position:"flex"},children:Object(Z.jsx)(E.a,{variant:"body1",component:"div",sx:{pb:3,pr:3,pl:3,pt:2},children:O.prose?Object(Z.jsx)("div",{children:C}):Object(Z.jsxs)("div",{className:"poetry",children:[Object(Z.jsx)("br",{}),C]})})})})})]})}),Object(Z.jsx)("div",{style:{display:"flex",justifyContent:"center",marginTop:12,paddingBottom:2},children:Object(Z.jsx)(at,{created_at:O.created_at,uploader:O.uploader.name,updated_at:O.updated_at,editor:O.edit_user,isDeleted:!1,fromLitTextShow:!0,handleUploaderClick:function(){h.push("/users/".concat(O.uploader_id))}})}),n?Object(Z.jsxs)("div",{children:[Object(Z.jsx)("div",{style:{display:"flex",justifyContent:"center",marginTop:12,paddingBottom:2},children:Object(Z.jsx)(U.a,{title:"Close editor",arrow:!0,children:Object(Z.jsx)($e.a,{onClick:function(){return g()},size:"large"})})}),Object(Z.jsx)(Me,{handleNewClick:g,handleLitTextsOrder:null,handlePoetryProseValue:null,isEdit:!0,litText:O,reRender:function(){u((function(e){return!e}))}})]}):Object(Z.jsx)("div",{style:{display:"flex",justifyContent:"center",marginTop:12,paddingBottom:2},children:"Librarian"===p.usertype||p.id===O.uploader_id?Object(Z.jsx)(U.a,{title:"Edit",arrow:!0,children:Object(Z.jsx)(Qe.a,{onClick:function(){return g()},size:"large"})}):Object(Z.jsx)(U.a,{title:Object(Z.jsxs)("div",{style:{textAlign:"center"},children:["We're sorry. You must be a Marginalia libarian to edit texts.",Object(Z.jsx)("br",{}),"Please contact the site admin if you want to become a librarian."]}),arrow:!0,children:Object(Z.jsx)("div",{children:Object(Z.jsx)(N.a,{disabled:!0,children:Object(Z.jsx)(Qe.a,{size:"large"})})})})})]})]}),Object(Z.jsx)($.a,{id:"comments",container:!0,item:!0,xs:10,sm:11,md:10,justifyContent:"center",children:Object(Z.jsx)(wt,{litTextId:O.id})})]}):Object(Z.jsx)("div",{className:"centered-in-window",children:Object(Z.jsx)("div",{className:"dot-flashing"})})}function It(e){var t=e.showUser,n=t.username,r=t.name,a=t.bio,i=t.id,c=t.image,s=a?"".concat(a.slice(0,65)):"",l=Object(o.f)();return Object(Z.jsx)($.a,{item:!0,children:Object(Z.jsx)(ke.a,{elevation:6,sx:{p:3,m:3,cursor:"pointer",backgroundColor:"#fffaf5"},onClick:function(){l.push("/users/".concat(i))},children:Object(Z.jsxs)($.a,{container:!0,spacing:3,wrap:"nowrap",children:[Object(Z.jsx)($.a,{item:!0,children:Object(Z.jsx)(D.a,{alt:r,src:c,sx:{width:163,height:163}})}),Object(Z.jsxs)($.a,{justifyContent:"left",item:!0,xs:9,children:[Object(Z.jsx)(E.a,{variant:"h5",sx:{pt:"3px"},children:Object(Z.jsx)("b",{children:r})}),Object(Z.jsx)(E.a,{variant:"subtitle1",sx:{color:"#616161",mt:-1},children:Object(Z.jsxs)("em",{children:["@",n]})}),Object(Z.jsxs)(E.a,{variant:"body2",sx:{mt:2,mb:2},children:[Object(Z.jsxs)("span",{style:{color:"#494949",fontSize:19},children:["B",Object(Z.jsx)("span",{style:{fontVariant:"small-caps",fontSize:21},children:"io"}),":"]})," ",s.length>50?Object(Z.jsxs)("span",{children:[s.replace(/\s.\w+$/,""),"\xa0.\xa0.\xa0."]}):s]}),Object(Z.jsx)(Te,{Id:t.id,source:"user"})]})]})})})}function Lt(){var e=Object(s.c)((function(e){return e.allUsers})),t=e.entities,n=e.status,a=Object(s.c)((function(e){return e.user})),i=a.entities.length>0?a.entities[0]:null,c=Object(r.useMemo)((function(){return Object(fe.a)(Object(fe.a)(t).filter((function(e){return e.id!==i.id})))}),[t,i.id]),o=function(e){var t=Object(fe.a)(e.comments),n=t.sort((function(e,t){var n=Date.parse(e.created_at);return Date.parse(t.created_at)-n}));if(0===t.length)return 0;var r=n[0];return Date.parse(r.created_at)},l=Object(r.useState)("alphabetical"),u=Object(d.a)(l,2),j=u[0],b=u[1],h=Object(r.useState)(Object(fe.a)(c)),m=Object(d.a)(h,2),x=m[0],p=m[1];Object(r.useEffect)((function(){c.length>0&&p(Object(fe.a)(c))}),[c]);return Object(Z.jsxs)($.a,{container:!0,justifyContent:"Center",alignItems:"center",children:[Object(Z.jsx)($.a,{item:!0,xs:9,align:"center",justify:"center",children:Object(Z.jsx)(E.a,{variant:"h2",justify:"center",sx:{pt:4,pb:3,fontWeight:410},children:"Users"})}),Object(Z.jsx)($.a,{item:!0,xs:9}),Object(Z.jsx)($.a,{item:!0,xs:9,children:"idle"===n?Object(Z.jsxs)("div",{children:[Object(Z.jsxs)(P.a,{textAlign:"center",children:[Object(Z.jsxs)(Ue.a,{value:j,exclusive:!0,onChange:function(e,t){b(t)},"aria-label":"Arrange Users",sx:{bgcolor:"#fffaf5"},children:[Object(Z.jsx)(De.a,{value:"alphabetical","aria-label":"Alphabetical",children:"Alphabetical"}),Object(Z.jsx)(De.a,{value:"recentlyAdded","aria-label":"Most recently added",children:"Recently Joined"}),Object(Z.jsx)(De.a,{value:"recentComment","aria-label":"Most recent comment",children:"Recent Activity"})]}),Object(Z.jsx)("br",{}),Object(Z.jsx)(X.a,{id:"search",label:"Search",variant:"filled",sx:{m:2,mt:3,width:"50%"},onChange:function(e){return function(e){var t=e.target.value.toLowerCase();if(""===t)p(c);else{var n=c.filter((function(e){return e.username.toLowerCase().includes(t)||e.fullname.toLowerCase().includes(t)||e.bio.toLowerCase().includes(t)}));p(n)}}(e)}})]}),function(){var e,t=Object(fe.a)(x),n=[];return"alphabetical"===j?n=Object(fe.a)((e=t,Object(fe.a)(e).sort((function(e,t){return e.last_name.localeCompare(t.last_name)||e.first_name.localeCompare(t.first_name)})))):"recentlyAdded"===j?n=Object(fe.a)(function(e){return Object(fe.a)(e).sort((function(e,t){var n=Date.parse(e.created_at);return Date.parse(t.created_at)-n}))}(t)):"recentComment"===j&&(n=Object(fe.a)(function(e){return Object(fe.a)(e).sort((function(e,t){return o(t)-o(e)}))}(t))),Object(fe.a)(n).map((function(e){return Object(Z.jsx)(It,{showUser:e},e.id)}))}()]}):Object(Z.jsx)("div",{className:"centered-in-window",children:Object(Z.jsx)("div",{className:"dot-flashing"})})})]})}function Pt(e){var t=e.user,n=Object(r.useState)(t),a=Object(d.a)(n,2),i=a[0],c=a[1],o=i.first_name,l=i.last_name,u=i.fam_name_first,j=i.bio,b=i.image;function h(e){c(Object(K.a)(Object(K.a)({},i),{},Object(G.a)({},e.target.name,e.target.value)))}var m=Object(s.b)();return Object(Z.jsx)(ke.a,{variant:"outlined",sx:{mx:5,mt:3,pt:4,bgcolor:"#ebe3e1",justifyContent:"center"},children:Object(Z.jsxs)(P.a,{component:"form",onSubmit:function(e){e.preventDefault(),fetch("/api/users/".concat(t.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}).then((function(e){return e.json()})).then((function(e){!function(e){m(me(e)),m(S(e)),m(w(e))}(e),c(e)})).catch((function(e){return console.log(e)}))},sx:{justifyContent:"center"},children:[Object(Z.jsx)(Be,{famNameFirst:u,handleFamNameFirstClick:function(){c(Object(K.a)(Object(K.a)({},i),{},{fam_name_first:!u}))},handleFormChange:h,firstName:o,lastName:l,isAuthor:!1}),Object(Z.jsx)(X.a,{value:j,id:"bio",label:"Bio",name:"bio",onChange:h,sx:{width:"90%",mx:"5%",mt:1,backgroundColor:"#fff"}}),Object(Z.jsx)(X.a,{value:b,label:"Picture URL",id:"image",name:"image",onChange:h,sx:{width:"90%",mx:"5%",mt:3,backgroundColor:"#fff"}}),Object(Z.jsx)("div",{style:{textAlign:"center"},children:Object(Z.jsx)(Q.a,{variant:"contained",sx:{textAlign:"center",p:1,m:2,my:3,color:"fff"},type:"submit",children:"Submit"})})]})})}function _t(e){var t=e.comment;return Object(Z.jsxs)(Ae.a,{sx:{m:2,mx:3,p:2,pr:4,borderRadius:1},children:[Object(Z.jsx)(E.a,{variant:"caption",sx:{color:"#373737"},children:Object(Z.jsx)(at,{created_at:t.created_at,updated_at:t.updated_at,isDeleted:t.deleted,fromLitTextShow:!1})}),Object(Z.jsx)(E.a,{variant:"body2",sx:{},children:t.content})]})}function Nt(e){var t=e.id,n=e.comments,r=Object(s.c)((function(e){return e.litTexts})),a=Object(fe.a)(r.entities),i=function(){return Object(fe.a)(a).find((function(e){return e.id===t}))},c=function(){return n.filter((function(e){return e.lit_text_id===t})).map((function(e){return Object(Z.jsx)(_t,{comment:e},"ltc".concat(e.id))}))},l=Object(o.f)();return Object(Z.jsx)(Z.Fragment,{children:0===a.length?Object(Z.jsx)("div",{className:"centered-in-window",children:Object(Z.jsx)("div",{className:"dot-flashing"})}):Object(Z.jsx)($.a,{container:!0,item:!0,xs:10,alignItems:"center",justifyContent:"Center",children:Object(Z.jsxs)(ke.a,{sx:{cursor:"pointer",m:2,mt:0,p:3,borderRadius:2},onClick:function(){l.push("/texts/".concat(t))},elevation:3,children:[Object(Z.jsx)("div",{children:c().length>0?c():"previews loading..."}),Object(Z.jsx)(Se,{litText:i()},i().id)]})})})}function Et(){var e=Object(r.useState)(!1),t=Object(d.a)(e,2),n=t[0],a=t[1],i=Object(r.useState)(null),c=Object(d.a)(i,2),l=c[0],u=c[1],j=Object(r.useState)([]),b=Object(d.a)(j,2),h=b[0],m=b[1],x=Object(r.useState)("Comments"),p=Object(d.a)(x,2),O=p[0],g=p[1],y=Object(o.f)(),v=Object(o.h)(),C=Object(s.b)(),w=Object(s.c)((function(e){return e.showUser})),T=w.entities,A=w.status,S=Object(s.c)((function(e){return e.user.entities[0]}));Object(r.useEffect)((function(){C(k(v.id))}),[v.id,C]);var I=["Comments","Texts Uploaded"],L=function(e){return Object(Z.jsx)(De.a,{value:e,"aria-label":e,children:e},I.indexOf(e))},_=Object(s.c)((function(e){return e.litTexts})),N=Object(fe.a)(_.entities),W=function(){return N.filter((function(e){return e.uploader_id===T.id}))},B=function(e){u(e.currentTarget),a((function(e){return!e}))},U=n&&Boolean(l)?"transition-popper":void 0,M=function(){y.push("/texts")},Y=function(){fetch("/api/users/".concat(S.id),{method:"DELETE"}).then((function(e){e.ok?(m([]),C(f()),y.push("/signup")):m(["We're sorry. We encountered an error."])}))},R=Date.parse(T.created_at),J=new Date(R).toDateString().slice(4).split(" "),V="".concat(J[0]," ").concat(J[1],", ").concat(J[2]),z=function(){return T.comments?T.comments.filter((function(e){return!1===e.deleted})):[]},H=function(){if(0===z().length)return[];var e=z().map((function(e){return e.lit_text_id}));return Object(fe.a)(new Set(e))},F=function(e){return Object(Z.jsx)(E.a,{variant:"body2",onClick:M,sx:{textAlign:"center",m:1,mt:3,mb:2,color:"#546e7a",textDecoration:"underline",cursor:"pointer"},children:"Go ".concat(e," some stories and poems!")})},q=function(e){return Object(Z.jsx)(E.a,{variant:"body2",sx:{textAlign:"center",mx:1,mt:3,mb:2,color:"#757575"},children:"This user hasn't ".concat(e," yet")})},G=function(e,t,n){return e.length>0?Object(Z.jsx)($.a,{item:!0,container:!0,justifyContent:"center",children:t}):T.id===S.id?Object(Z.jsx)(Z.Fragment,{children:F(n[0])}):Object(Z.jsx)(Z.Fragment,{children:q(n[1])})};return"loading"===A||T===[]?Object(Z.jsx)("div",{className:"centered-in-window",children:Object(Z.jsx)("div",{className:"dot-flashing"})}):"idle"===A&&"object"===typeof T?Object(Z.jsxs)($.a,{container:!0,justifyContent:"Center",sx:{pt:5,px:3},spacing:3,children:[Object(Z.jsx)($.a,{item:!0,xs:"auto",children:Object(Z.jsx)(D.a,{variant:"rounded",alt:T.name,src:T.image,align:"center",sx:{width:300,height:300,mr:2,ml:3,mt:1}})}),Object(Z.jsxs)($.a,{item:!0,xs:!0,sx:{mr:2,mt:2},children:[Object(Z.jsx)(E.a,{variant:"h4",sx:{},children:Object(Z.jsx)("b",{children:T.name})}),Object(Z.jsx)(E.a,{variant:"h6",sx:{mb:2,color:"#616161"},children:Object(Z.jsxs)("em",{children:["@",T.username]})}),Object(Z.jsx)(E.a,{sx:{fontSize:19,mb:"-1px",mt:3},color:"#757575",children:"Bio"}),Object(Z.jsx)(E.a,{variant:"body2",sx:{},children:T.bio}),Object(Z.jsx)(E.a,{variant:"body2",sx:{mb:4,mt:3,color:"#373737"},children:Object(Z.jsxs)("em",{children:["Joined ",V,Object(Z.jsx)("span",{style:{marginLeft:"13px",marginRight:"13px"},children:"\u2767"}),T.usertype]})})]}),Object(Z.jsxs)($.a,{container:!0,item:!0,xs:12,justifyContent:"center",children:[Object(Z.jsx)(Ot.a,{sx:{mx:2,mb:6,mt:3,width:"90%"},textAlign:"center",children:Object(Z.jsxs)(Ue.a,{value:O,onChange:function(e,t){g((function(){return t}))},"aria-label":"Display",exclusive:!0,sx:{mb:-2},children:[I.map((function(e){return L(e)})),T.id===S.id?L("Edit Profile"):null]})}),"Edit Profile"===O?Object(Z.jsx)(Pt,{user:S}):"Texts Uploaded"===O?G(W(),Object(Z.jsx)($.a,{container:!0,item:!0,xs:11,children:W().map((function(e){return Object(Z.jsx)(Se,{litText:e},e.id)}))}),["upload","uploaded any texts"]):"Comments"===O?G(z(),0===H().length?[]:H().map((function(e){return Object(Z.jsx)(Nt,{id:e,comments:z()},"lt".concat(e))})),["comment on","written any comments"]):g("Comments"),T.id===S.id&&"Edit Profile"===O?Object(Z.jsxs)(Z.Fragment,{children:[h?h.map((function(e){return Object(Z.jsx)("div",{style:{color:"#660033",textAlign:"center"},children:e},e)})):null,Object(Z.jsx)(P.a,{sx:{display:"flex",width:"100%",justifyContent:"center",m:3},children:Object(Z.jsx)(Q.a,{variant:"contained",onClick:B,children:"Delete Profile"})}),Object(Z.jsx)(st.a,{id:U,open:n,anchorEl:l,modifiers:[{name:"preventOverflow",enabled:!0,options:{altAxis:!0,altBoundary:!0,tether:!0,rootBoundary:"document",padding:8}}],transition:!0,children:function(e){var t=e.TransitionProps;return Object(Z.jsx)(ot.a,Object(K.a)(Object(K.a)({},t),{},{timeout:350,children:Object(Z.jsxs)(P.a,{sx:{border:1,p:3,m:2,bgcolor:"background.paper",justifyContent:"center",borderColor:"#660000"},children:[Object(Z.jsx)(E.a,{variant:"h6",sx:{textAlign:"center",mb:1,color:"#660000"},children:"Are you sure you want to delete your profile?"}),Object(Z.jsx)(E.a,{variant:"subtitle1",sx:{textAlign:"center",fontSize:22,mb:3},children:"This action cannot be undone!"}),Object(Z.jsxs)(P.a,{component:"div",sx:{display:"flex",width:"100%",justifyContent:"center"},children:[Object(Z.jsx)(Q.a,{variant:"contained",onClick:B,sx:{mr:4,mb:2,bgcolor:"6d4c41"},children:"Cancel"}),Object(Z.jsx)(Q.a,{variant:"contained",onClick:Y,sx:{mb:2,bgcolor:"#660000"},children:"Delete"})]})]})}))}})]}):null]})]}):Object(Z.jsx)("div",{className:"centered-in-window",children:Object(Z.jsx)("h1",{children:"We're sorry. There's been an error."})})}var Wt=n(337),Bt=Object(Ne.a)(Wt.a)((function(e){var t,n=e.theme;return t={position:"relative",height:150},Object(G.a)(t,n.breakpoints.down("sm"),{width:"100% !important",height:75}),Object(G.a)(t,"&:hover, &.Mui-focusVisible",{zIndex:1,"& .MuiImageBackdrop-root":{opacity:.15},"& .MuiImageMarked-root":{opacity:0},"& .MuiTypography-root":{border:"4px solid currentColor"}}),t})),Ut=Object(Ne.a)("span")({position:"absolute",left:0,right:0,top:0,bottom:0,backgroundSize:"cover",backgroundPosition:"center 40%"}),Dt=Object(Ne.a)("span")((function(e){return{position:"absolute",left:0,right:0,top:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",color:e.theme.palette.common.white}})),Mt=Object(Ne.a)("span")((function(e){var t=e.theme;return{position:"absolute",left:0,right:0,top:0,bottom:0,backgroundColor:t.palette.common.black,opacity:.4,transition:t.transitions.create("opacity")}})),Yt=Object(Ne.a)("span")((function(e){var t=e.theme;return{height:3,width:18,backgroundColor:t.palette.common.white,position:"absolute",bottom:-2,left:"calc(50% - 9px)",transition:t.transitions.create("opacity")}}));function Rt(e){var t=e.images,n=e.handleImgButtonClick;return Object(Z.jsx)(P.a,{sx:{display:"flex",flexWrap:"wrap",minWidth:300,width:"100%"},children:t.map((function(e){return Object(Z.jsxs)(Bt,{onClick:function(){return n("".concat(e.value))},focusRipple:!0,value:e.value,style:{width:e.width},children:[Object(Z.jsx)(Ut,{style:{backgroundImage:"url(".concat(e.url,")")},value:e.value}),Object(Z.jsx)(Mt,{className:"MuiImageBackdrop-root",value:e.value}),Object(Z.jsx)(Dt,{children:Object(Z.jsxs)(E.a,{value:e.value,component:"span",variant:"h6",color:"inherit",sx:{position:"relative",p:4,pt:2,pb:function(e){return"calc(".concat(e.spacing(1)," + 6px)")}},children:[e.title,Object(Z.jsx)(Yt,{className:"MuiImageMarked-root",value:e.value})]})})]},e.title)}))})}function Jt(){var e=Object(r.useState)([]),t=Object(d.a)(e,2),n=t[0],a=t[1],i=Object(r.useState)([]),c=Object(d.a)(i,2),l=c[0],u=c[1],j=Object(r.useState)("coms"),b=Object(d.a)(j,2),h=b[0],m=b[1],x=Object(o.f)(),p=Object(s.c)((function(e){return e.user})),f=p.entities.length>0&&0===p.errors.length?p.entities[0]:null;Object(r.useEffect)((function(){fetch("/api/recent_comments").then((function(e){return e.json()})).then((function(e){return a((function(){return e}))})),fetch("/api/recent_lit_texts").then((function(e){return e.json()})).then((function(e){return u((function(){return e}))}))}),[]);var O=function(e){0===p.entities.length&&"signup"!==e?x.push("/login"):x.push("/".concat(e))},g=function(){return[].concat(Object(fe.a)(f?[{name:"Library",value:"texts"},{name:"Members",value:"users"}]:[{name:"Log in",value:"login"},{name:"Sign up",value:"signup"}]),[{name:"About",value:"about"}])},y=[{url:"https://az334034.vo.msecnd.net/images-5/vanitas-still-life-with-a-candlestick-musical-instruments-dutch-books-a-writing-set-an-astrological-and-a-terrestial-globe-and-an-hourglass-all-on-a-draped-table-evert-collier-1662-55185426.jpg",title:g()[0].name,value:g()[0].value,width:"33.33%"},{url:"https://image.invaluable.com/housePhotos/sothebys/97/580697/H0046-L88399130.jpg",title:g()[1].name,value:g()[1].value,width:"33.34%"},{url:"https://i.pinimg.com/originals/3b/2e/92/3b2e9253eb51787a860a36807702c66e.jpg",title:g()[2].name,value:g()[2].value,width:"33.33%"}];return Object(Z.jsxs)($.a,{container:!0,justifyContent:"center",children:[Object(Z.jsx)($.a,{item:!0,xs:10,sx:{mt:3},children:Object(Z.jsx)(Rt,{images:y,handleImgButtonClick:O})}),Object(Z.jsx)($.a,{item:!0,xs:12,children:Object(Z.jsx)(E.a,{id:"top",variant:"h2",textAlign:"center",sx:{pt:2,pb:2,fontWeight:410},children:"Recent Activity"})}),n.length>0&&l.length>0?Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)(P.a,{textAlign:"center",sx:{pb:2},children:Object(Z.jsx)(Ue.a,{exclusive:!0,value:h,onChange:function(e,t){m((function(){return t}))},"aria-label":"Newest comments or recent texts",children:[["coms","Newest Comments"],["texts","Recently Added Texts"]].map((function(e){return Object(Z.jsx)(De.a,{value:e[0],"aria-label":e[1],sx:{color:"fff"},children:e[1]},e[0])}))})}),"coms"===h?n.sort((function(e,t){return Date.parse(t.created_at)-Date.parse(e.created_at)})).map((function(e){var t={title:e.lit_text_title,author_name:e.lit_text_author,pubdate:e.lit_text_date,content:e.lit_text_preview,id:e.lit_text_id,prose:e.lit_text_prose,translator:e.lit_text_translator};return Object(Z.jsx)($.a,{container:!0,item:!0,xs:10,children:Object(Z.jsx)(ke.a,{sx:{width:"100%",p:2,my:1,pt:4},elevation:2,children:Object(Z.jsxs)($.a,{container:!0,item:!0,xs:12,children:[Object(Z.jsx)($.a,{item:!0,xs:"auto",children:Object(Z.jsx)(D.a,{alt:e.user_fullname,src:e.user_image,sx:{cursor:"pointer",width:120,height:120,ml:3,mr:1,mt:0},onClick:function(){return O("users/".concat(e.user_id))}})}),Object(Z.jsx)($.a,{justifyContent:"left",item:!0,xs:!0,children:Object(Z.jsxs)(P.a,{sx:{ml:2,mt:1},children:[Object(Z.jsx)(E.a,{onClick:function(){return O("users/".concat(e.user_id))},sx:{cursor:"pointer",fontSize:25,fontWeight:401,mb:-1},children:e.user_fullname}),Object(Z.jsx)(E.a,{variant:"body1",sx:{mt:"12px",mb:1},children:e.content}),Object(Z.jsx)(at,{created_at:e.created_at,updated_at:e.updated_at,isDeleted:!1,fromLitTextShow:!1})]})}),Object(Z.jsx)(Se,{litText:t},e.lit_text_id)]})})},e.id)})):Object(Z.jsx)($.a,{container:!0,item:!0,xs:10,children:l.sort((function(e,t){return Date.parse(t.created_at)-Date.parse(e.created_at)})).map((function(e){return Object(Z.jsx)(Se,{litText:e},e.id)}))})]}):Object(Z.jsx)("div",{className:"centered-in-window",children:Object(Z.jsx)("div",{className:"dot-flashing"})})]})}var Vt=n(335);function zt(){var e=Object(s.c)((function(e){return e.user})),t=e.entities.length>0&&0===e.errors.length?e.entities[0]:null,n=Object(o.f)();Object(r.useEffect)((function(){n.location.hash.length>0&&n.push("/about")}),[n]);var a,i=function(){return[].concat(Object(fe.a)(t?[{name:"Library",value:"texts"},{name:"Members",value:"users"}]:[{name:"Log in",value:"login"},{name:"Sign up",value:"signup"}]),[{name:"Home",value:""}])},l=[{url:"https://az334034.vo.msecnd.net/images-5/vanitas-still-life-with-a-candlestick-musical-instruments-dutch-books-a-writing-set-an-astrological-and-a-terrestial-globe-and-an-hourglass-all-on-a-draped-table-evert-collier-1662-55185426.jpg",title:i()[0].name,value:i()[0].value,width:"33.33%"},{url:"https://image.invaluable.com/housePhotos/sothebys/97/580697/H0046-L88399130.jpg",title:i()[1].name,value:i()[1].value,width:"33.34%"},{url:"https://i.ibb.co/7yY7cb8/Angeluccio-View-of-Vicovaro.jpg",title:i()[2].name,value:i()[2].value,width:"33.33%"}],u=Object(Z.jsx)(Vt.a,{spacing:2,direction:"row",sx:{mb:1},children:["What Is It?","How Do I Use It?","How Was It Made?","Who Made It?"].map((function(e){var t="/about#".concat(e.slice(0,-1).toLowerCase().replaceAll(" ","-"));return Object(Z.jsx)(Ct.a,{smooth:!0,to:t,children:Object(Z.jsx)(Q.a,{variant:"text",id:e,children:e})},e)}))}),d=[["Securely sign up, log in, log out, and remain authorized on refresh"],["Upload poems, stories, and other literary texts"],["Edit texts they uploaded",[Object(Z.jsx)("span",{children:"Or, if the user is a \u201clibrarian\u201d user-type, edit any uploaded text"},1)]],["Browse, search, filter, and read those texts"],["Post comments on texts and replies to other comments"],["Edit and delete their own comments",[Object(Z.jsx)("span",{children:"If a comment has replies or is a reply, deleting it will leave a ghost that says \u201ccomment was deleted\u201d rather than simply vanishing"},2)]],[Object(Z.jsx)("span",{children:"Assign their comments multiple comment types, such \u201cquestion\u201d or \u201ccritique\u201d"},3),["Add and remove comment types from their comments"]],["Browse, search, and filter all comments on a particular text"],["Browse, search, and filter other users\u2019 profiles"],["Edit their own profile"],["Delete their account"]],j=function(e){return e.map((function(t){return Object(Z.jsxs)("span",{children:[t===e[e.length-1]?"and ":null,Object(Z.jsx)("a",{href:t[1],rel:"noreferrer",target:"_blank",style:{color:"#455a64"},children:t[0]}),t===e[e.length-1]?null:", "]},t[0])}))},b=["Marginalia is a social reading and annotation site where people can have conversations with one another about literary works they share and read.",Object(Z.jsxs)("span",{children:["The word ",Object(Z.jsx)("em",{children:"marginalia"})," refers to the notes and markings that readers make in the margins of page. These notes leave traces of a reader\u2019s progress through a text. They also provide a way for readers to communicate with one another, sometimes from across centuries. The first poem in our database \u2013 appropriately, \u201c",Object(Z.jsx)(c.b,{to:"/texts/1",style:{color:"#455a64"},children:"Marginalia"}),"\u201d by Billy Collins \u2013 conveys how moving these moments of unexpected contact with another reader can be."]},4),"This app, Marginalia, seeks to restore the social dimension of reading by providing a venue for readers to speak with one another through the comments they leave on literary texts."],h=[Object(Z.jsx)("span",{children:"A user of Marginalia can:"},1)],m=[Object(Z.jsxs)("span",{children:["Marginalia was my final project for software engineering bootcamp at ",Object(Z.jsx)("a",{href:"https://flatironschool.com/campus-and-online-coding-bootcamp/",rel:"noreferrer",target:"_blank",style:{color:"#455a64"},children:"Flatiron"}),". Please check out the repo on ",Object(Z.jsx)("a",{href:"https://github.com/alecmagnet/marginalia",rel:"noreferrer",target:"_blank",style:{color:"#455a64"},children:"GitHub"}),"."]},5),Object(Z.jsxs)("span",{children:["I coded Marginalia using JS, React, Redux, Ruby, and Rails, along with several other dependencies, including ",j([["MUI","https://mui.com/"],["Quill","https://quilljs.com/"],["React-Quill","https://github.com/zenoamaro/react-quill"],["html-react-parser","https://github.com/remarkablemark/html-react-parser#readme"],["Rails Html Sanitizers","https://github.com/rails/rails-html-sanitizer"],["bcrypt","https://github.com/bcrypt-ruby/bcrypt-ruby"]]),"."]},6),Object(Z.jsxs)("span",{children:["Through trial and a ",Object(Z.jsx)("em",{children:"lot"})," of error, I learned a crucial lesson about coding, which I plan to apply from here on out: ",Object(Z.jsx)("b",{children:"Plan for modularity by making your code as straightforward and standardized as possible!"})]},7),"Since you can't anticipate all the ways you might reuse a component, your needs to be flexible.","The main thing that tripped me up here was style. I taught myself to use MUI as I went, so the components I wrote early on use a lot of unnessary styling that only really works in the instance where I first call them. As I update this project, I hope I to simplify my style and make those components more reusable.","Another thing you'll notice as you look through my repo is that I learned how to make my code drier along the way. That, too, requires simple, standardized code. It's harder to map through an array of menu items if you need to put different sx props on the first and last ones. I got much better at this as I went. Next time, I won't give myself so many tangles to smooth out and refactor."],x=["I did. Hello! My name is Alec Magnet. I graduate from coding bootcamp in October 2021 after thirteen years teaching literature and writing at the City College of New York, Marymount Manhattan College, and elsewhere. Now I'm looking for a full-stack software engineering position position where I can put the talents and enthusiasm I developed as an educator to use building tools that can use to learn, grow, and flourish.",Object(Z.jsxs)("span",{children:["Check me out on ",j([["LinkedIn","https://www.linkedin.com/in/alec-magnet/"],["GitHub","https://github.com/alecmagnet"],["Medium","https://medium.com/@alecmagnet"]]),"."]},8)],p=function(e){return e.map((function(e,t){return Object(Z.jsx)(E.a,{variant:"body1",sx:{pt:2},children:e},t)}))};return Object(Z.jsxs)($.a,{id:"top",container:!0,justifyContent:"Center",alignItems:"center",children:[Object(Z.jsx)($.a,{item:!0,xs:10,sx:{mt:3},children:Object(Z.jsx)(Rt,{images:l,handleImgButtonClick:function(t){0===e.entities.length&&"signup"!==t?n.push("/login"):n.push("/".concat(t))}})}),Object(Z.jsx)($.a,{item:!0,xs:12,children:Object(Z.jsx)(E.a,{id:"top",variant:"h2",textAlign:"center",sx:{pt:2,pb:2,fontWeight:410},children:"About Marginalia"})}),Object(Z.jsx)($.a,{item:!0,xs:!0,display:"flex",justifyContent:"center",children:u}),Object(Z.jsx)(P.a,{justifyContent:"center",sx:{width:"90%",mx:"5%"},children:Object(Z.jsxs)(P.a,{sx:{px:6,pt:1,pb:3,mt:0},children:[Object(Z.jsx)(E.a,{id:"what-is-it",variant:"h4",justify:"center",sx:{},children:"What is Marginalia?"}),p(b),Object(Z.jsx)(E.a,{id:"how-do-i-use-it",variant:"h4",justify:"center",sx:{mt:3},children:"How Do I Use It?"}),p(h),Object(Z.jsx)(P.a,{sx:{mt:2},children:Object(Z.jsx)("ul",{children:(a=d,a.map((function(e){var t=function(e){return Object(Z.jsx)("li",{children:Object(Z.jsx)(E.a,{variant:"body1",component:"span",children:e},"".concat(e,"1"))},e)};return 1===e.length?t(e[0]):Object(Z.jsxs)(r.Fragment,{children:[t(e[0]),Object(Z.jsx)("ul",{children:e[1].map((function(e){return t(e)}))})]},e)})))})}),Object(Z.jsx)(E.a,{id:"how-was-it-made",variant:"h4",justify:"center",sx:{pt:1},children:"How Was It Made?"}),p(m),Object(Z.jsx)(E.a,{id:"who-made-it",variant:"h4",justify:"center",sx:{pt:3},children:"Who Made It?"}),Object(Z.jsx)(D.a,{variant:"square",alt:"Alec Magnet",src:"https://avatars.githubusercontent.com/u/85529561?v=4",sx:{float:"left",cursor:"pointer",width:135,height:135,mt:3,mr:2,ml:0},onClick:function(){return n.push("/users/1")}}),p(x)]})}),Object(Z.jsx)(Ct.a,{smooth:!0,to:"#top",children:Object(Z.jsx)(Q.a,{variant:"text",children:"Top"})})]})}function Ht(){var e=Object(s.c)((function(e){return e.comments})),t=Object(s.c)((function(e){return e.user})),n=t.entities.length>0&&0===t.errors.length?t.entities[0]:null,a=Object(s.b)(),i=Object(r.useCallback)((function(){fetch("/api/auth").then((function(e){e.ok&&e.json().then((function(e){a(v(e)),a(ce()),a(je()),a(Oe())}))}))}),[a]);Object(r.useEffect)((function(){i()}),[i]);var c=Object(l.a)({palette:{primary:{main:"#3e2723"},secondary:{main:"#263238"}}});return Object(Z.jsx)(u.a,{theme:c,children:Object(Z.jsxs)(r.Fragment,{children:[Object(Z.jsx)(q,{}),Object(Z.jsx)(o.c,{children:n?Object(Z.jsxs)(r.Fragment,{children:[Object(Z.jsx)(o.a,{exact:!0,path:"/texts",children:Object(Z.jsx)(He,{})}),Object(Z.jsx)(o.a,{exact:!0,path:"/texts/:id",children:Object(Z.jsx)(St,{})}),Object(Z.jsx)(o.a,{exact:!0,path:"/users",children:Object(Z.jsx)(Lt,{})}),Object(Z.jsx)(o.a,{exact:!0,path:"/users/:id",children:Object(Z.jsx)(Et,{})}),Object(Z.jsx)(o.a,{exact:!0,path:"/about",children:Object(Z.jsx)(zt,{})}),Object(Z.jsx)(o.a,{exact:!0,path:"/",children:Object(Z.jsx)(Jt,{})})]}):"pending"===t.status||"pending"===e.status?Object(Z.jsx)(r.Fragment,{children:Object(Z.jsx)("div",{className:"centered-in-window",children:Object(Z.jsx)("div",{className:"dot-flashing"})})}):Object(Z.jsxs)(r.Fragment,{children:[Object(Z.jsx)(o.a,{exact:!0,path:"/login",children:Object(Z.jsx)(we,{})}),Object(Z.jsx)(o.a,{exact:!0,path:"/signup",children:Object(Z.jsx)(ie,{})}),Object(Z.jsx)(o.a,{exact:!0,path:"/",children:Object(Z.jsx)(Jt,{})})]})})]})})}var Ft=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,361)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),i(e),c(e)}))},Zt=Object(m.a)({reducer:{litTexts:de,showText:At,allUsers:pe,showUser:I,comments:Ce,user:T}});n(284),n(285),n(286),n(287);i.a.render(Object(Z.jsx)(s.a,{store:Zt,children:Object(Z.jsx)(c.a,{children:Object(Z.jsx)(Ht,{})})}),document.getElementById("root")),Ft()}},[[288,1,2]]]);
//# sourceMappingURL=main.bce9c55b.chunk.js.map